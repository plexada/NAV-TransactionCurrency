 codeunit/codeunit_0000000002.txt   |   50 +-
 codeunit/codeunit_0000000008.txt   |   60 +-
 codeunit/codeunit_0000000011.txt   |  104 +-
 codeunit/codeunit_0000000012.txt   | 1939 +++++++--
 codeunit/codeunit_0000000013.txt   |  175 +-
 codeunit/codeunit_0000000017.txt   |   82 +-
 codeunit/codeunit_0000000080.txt   |   90 +-
 codeunit/codeunit_0000000090.txt   |   99 +-
 codeunit/codeunit_0000000226.txt   |   29 +-
 codeunit/codeunit_0000000227.txt   |   29 +-
 codeunit/codeunit_0000000230.txt   |   27 +-
 codeunit/codeunit_0000000367.txt   |   62 +-
 codeunit/codeunit_0000000432.txt   |   26 +-
 codeunit/codeunit_0000000442.txt   |   62 +-
 codeunit/codeunit_0000000444.txt   |   59 +-
 codeunit/codeunit_0000001223.txt   |   29 +-
 codeunit/codeunit_0000005600.txt   |  106 +-
 codeunit/codeunit_0000005607.txt   |   20 +-
 codeunit/codeunit_0000005986.txt   |   47 +-
 codeunit/codeunit_0000005987.txt   |   40 +-
 codeunit/codeunit_0000005988.txt   |   26 +-
 codeunit/codeunit_0000009025.txt   |   43 +-
 codeunit/codeunit_0005274298.txt   |  202 +
 codeunit/codeunit_0005274299.txt   |   50 +
 codeunit/codeunit_0005274303.txt   |   59 +
 menusuite/menusuite_0000001060.txt |  147 +
 page/page_0000000005.txt           |   25 +-
 page/page_0000000016.txt           |   48 +-
 page/page_0000000017.txt           |   36 +-
 page/page_0000000018.txt           |   35 +-
 page/page_0000000020.txt           |  158 +-
 page/page_0000000039.txt           |   26 +-
 page/page_0000000116.txt           |   29 +-
 page/page_0000000118.txt           |   32 +-
 page/page_0000000119.txt           |   25 +-
 page/page_0000000179.txt           |   27 +-
 page/page_0000000251.txt           |   40 +-
 page/page_0000000253.txt           |   26 +-
 page/page_0000000254.txt           |   27 +-
 page/page_0000000255.txt           |   26 +-
 page/page_0000000256.txt           |   26 +-
 page/page_0000000279.txt           |   26 +-
 page/page_0000000283.txt           |   28 +-
 page/page_0000000315.txt           |   46 +-
 page/page_0000000317.txt           |   48 +-
 page/page_0000000370.txt           |   25 +-
 page/page_0000000371.txt           |   27 +-
 page/page_0000000472.txt           |   36 +-
 page/page_0000000473.txt           |   35 +-
 page/page_0000000489.txt           |   27 +-
 page/page_0000000573.txt           |   27 +-
 page/page_0000000574.txt           |   27 +-
 page/page_0000009001.txt           |   29 +-
 page/page_0000009004.txt           |   29 +-
 page/page_0000009020.txt           |   29 +-
 page/page_0000009025.txt           |   30 +-
 page/page_0005274104.txt           |  702 +++
 page/page_0005274105.txt           |   62 +
 page/page_0005274299.txt           |   54 +
 report/report_0000000020.txt       |   32 +-
 report/report_0000000085.txt       |   25 +-
 report/report_0000000086.txt       |   80 +-
 report/report_0000000094.txt       |   29 +-
 report/report_0000000095.txt       |   54 +-
 report/report_0000000098.txt       |   70 +-
 report/report_0000000393.txt       |   81 +-
 report/report_0000000595.txt       |   59 +-
 report/report_0005274200.txt       | 4375 +++++++++++++++++++
 report/report_0005274201.txt       | 3045 +++++++++++++
 report/report_0005274202.txt       |  802 ++++
 report/report_0005274203.txt       | 8447 ++++++++++++++++++++++++++++++++++++
 report/report_0005274204.txt       | 5960 +++++++++++++++++++++++++
 report/report_0005274298.txt       |   96 +
 report/report_0005274299.txt       |  264 ++
 table/table_0000000015.txt         |  148 +-
 table/table_0000000017.txt         |  154 +-
 table/table_0000000049.txt         |  141 +-
 table/table_0000000080.txt         |   53 +-
 table/table_0000000081.txt         |  454 +-
 table/table_0000000085.txt         |   26 +-
 table/table_0000000091.txt         |   22 +-
 table/table_0000000098.txt         |   31 +-
 table/table_0000000179.txt         |  108 +-
 table/table_0000000232.txt         |   28 +-
 table/table_0000000242.txt         |   26 +-
 table/table_0000000254.txt         |  103 +-
 table/table_0000000257.txt         |   30 +-
 table/table_0000000270.txt         |   64 +-
 table/table_0000000271.txt         |   28 +-
 table/table_0000000325.txt         |   37 +-
 table/table_0000000332.txt         |   28 +-
 table/table_0000000334.txt         |   28 +-
 table/table_0000000379.txt         |   31 +-
 table/table_0000000380.txt         |   31 +-
 table/table_0000000383.txt         |   65 +-
 table/table_0000000386.txt         |   48 +-
 table/table_0000000461.txt         |   94 +-
 table/table_0000001703.txt         |   27 +-
 table/table_0005274105.txt         |   68 +
 table/table_0005274200.txt         |   72 +
 100 files changed, 30027 insertions(+), 872 deletions(-)

diff --git a/codeunit/codeunit_0000000002.txt b/codeunit/codeunit_0000000002.txt
index 5417d6b..0a1dd01 100644
--- a/codeunit/codeunit_0000000002.txt
+++ b/codeunit/codeunit_0000000002.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 2 Company-Initialize
   {
     Date=26.01.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20348;
+    Version List=NAVW111.00.00.20348,P4BB2.00,P4TA3.00;
   }
   PROPERTIES
   {
@@ -24,11 +24,31 @@ OBJECT Codeunit 2 Company-Initialize
             WorkflowSetup@1004 : Codeunit 1502;
             VATRegistrationLogMgt@1006 : Codeunit 249;
             Window@1002 : Dialog;
+            "***** Plexada Variables *****"@119451021 : Integer;
+            DataUpgradeSetup@119451022 : Record 5274105;
           BEGIN
+            //PX002s px.jgl
+            SELECTLATESTVERSION;
+            IF DataUpgradeSetup.GET THEN BEGIN
+              IF NOT DataUpgradeSetup."Allow Company-Initialize" AND DataUpgradeSetup.IsDataUpgrade THEN
+                EXIT;
+            END;
+            //PX002e px.jgl
             Window.OPEN(Text000);
 
             InitSetupTables;
             AddOnIntegrMgt.InitMfgSetup;
+
+            //OS001s os.jgl
+            //OS003s os.jgl
+            // WITH BBSetup DO
+            //   IF NOT FIND('-') THEN BEGIN
+            //     INIT;
+            //     INSERT;
+            //   END;
+            //OS002e os.jgl
+            //OS003e os.jgl
+
             InitSourceCodeSetup;
             InitStandardTexts;
             InitReportSelection;
@@ -234,6 +254,9 @@ OBJECT Codeunit 2 Company-Initialize
       PEPPOL21_ElectronicFormatDescriptionTxt@1170 : TextConst 'ENU=PEPPOL 2.1 Format (Pan-European Public Procurement Online)';
       PEPPOL20_ElectronicFormatTxt@1172 : TextConst '@@@={Locked};ENU=PEPPOL 2.0';
       PEPPOL20_ElectronicFormatDescriptionTxt@1171 : TextConst 'ENU=PEPPOL 2.0 Format (Pan-European Public Procurement Online)';
+      Text5274106@119451021 : TextConst;
+      Text5274104@119451022 : TextConst 'ENU=SYSTEM';
+      Text5274105@119451023 : TextConst 'ENU=System Journal';
 
     PROCEDURE InitSetupTables@3();
     VAR
@@ -481,6 +504,9 @@ OBJECT Codeunit 2 Company-Initialize
           InsertSourceCode("Cost Journal",Text113,Text114);
           InsertSourceCode("Cost Allocation",Text115,Text116);
           InsertSourceCode("Transfer Budget to Actual",Text117,Text118);
+          //OS001s os.jgl
+          InsertSourceCode("System Journal",Text5274104,Text5274105);
+          //OS001e os.jgl
           INSERT;
         END;
     END;
@@ -934,6 +960,28 @@ OBJECT Codeunit 2 Company-Initialize
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     26.02.2011    os.jgl  SITC    initialize BuildingBlocks Setup
+      OS003     01.08.2013    os.jgl  SITC    Configuration for SITC Advanced
+      PX002     21.05.2016    px.jgl  P4BB    Additional DataUpgrade-Check
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000008.txt b/codeunit/codeunit_0000000008.txt
index 16c14e8..1d222bc 100644
--- a/codeunit/codeunit_0000000008.txt
+++ b/codeunit/codeunit_0000000008.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 8 AccSchedManagement
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -611,6 +611,8 @@ OBJECT Codeunit 8 AccSchedManagement
       Balance@1011 : Decimal;
       UseBusUnitFilter@1111 : Boolean;
       UseDimFilter@1012 : Boolean;
+      "***** Plexada Variables *****"@119451061 : Boolean;
+      UseCurrencyFilter@119451062 : Boolean;
     BEGIN
       ColValue := 0;
       UseDimFilter := FALSE;
@@ -624,23 +626,32 @@ OBJECT Codeunit 8 AccSchedManagement
       IF ColumnLayout."Column Type" <> ColumnLayout."Column Type"::Formula THEN BEGIN
         UseBusUnitFilter := (AccSchedLine.GETFILTER("Business Unit Filter") <> '') OR (ColumnLayout."Business Unit Totaling" <> '');
         UseDimFilter := HasDimFilter(AccSchedLine,ColumnLayout);
+        //OS001s os.jgl
+        UseCurrencyFilter := (AccSchedLine.GETFILTER("Currency Filter") <> '') OR (ColumnLayout."Currency Totaling" <> '');
+        //OS001e os.jgl
         CASE ColumnLayout."Ledger Entry Type" OF
           ColumnLayout."Ledger Entry Type"::Entries:
             BEGIN
               IF AccSchedName."Analysis View Name" = '' THEN
                 WITH GLEntry DO BEGIN
-                  IF UseBusUnitFilter THEN
-                    IF UseDimFilter THEN
-                      SETCURRENTKEY(
-                        "G/L Account No.","Business Unit Code","Global Dimension 1 Code","Global Dimension 2 Code")
-                    ELSE
-                      SETCURRENTKEY(
-                        "G/L Account No.","Business Unit Code","Posting Date")
+                  //OS001s os.jgl
+                  IF UseCurrencyFilter THEN
+                    SETCURRENTKEY("G/L Account No.","Business Unit Code","Global Dimension 1 Code","Global Dimension 2 Code",
+                      "Currency Code","Posting Date")
                   ELSE
-                    IF UseDimFilter THEN
-                      SETCURRENTKEY("G/L Account No.","Global Dimension 1 Code","Global Dimension 2 Code")
+                    IF UseBusUnitFilter THEN
+                      IF UseDimFilter THEN
+                        SETCURRENTKEY(
+                          "G/L Account No.","Business Unit Code","Global Dimension 1 Code","Global Dimension 2 Code")
+                      ELSE
+                        SETCURRENTKEY(
+                          "G/L Account No.","Business Unit Code","Posting Date")
                     ELSE
-                      SETCURRENTKEY("G/L Account No.","Posting Date");
+                      IF UseDimFilter THEN
+                        SETCURRENTKEY("G/L Account No.","Global Dimension 1 Code","Global Dimension 2 Code")
+                      ELSE
+                        SETCURRENTKEY("G/L Account No.","Posting Date");
+                  //OS001e os.jgl
                   IF GLAcc.Totaling = '' THEN
                     SETRANGE("G/L Account No.",GLAcc."No.")
                   ELSE
@@ -649,6 +660,9 @@ OBJECT Codeunit 8 AccSchedManagement
                   AccSchedLine.COPYFILTER("Business Unit Filter","Business Unit Code");
                   AccSchedLine.COPYFILTER("Dimension 1 Filter","Global Dimension 1 Code");
                   AccSchedLine.COPYFILTER("Dimension 2 Filter","Global Dimension 2 Code");
+                  //OS001s os.jgl
+                  AccSchedLine.COPYFILTER("Currency Filter","Currency Code");
+                  //OS001e os.jgl
                   FILTERGROUP(2);
                   SETFILTER("Global Dimension 1 Code",GetDimTotalingFilter(1,AccSchedLine."Dimension 1 Totaling"));
                   SETFILTER("Global Dimension 2 Code",GetDimTotalingFilter(2,AccSchedLine."Dimension 2 Totaling"));
@@ -656,6 +670,9 @@ OBJECT Codeunit 8 AccSchedManagement
                   SETFILTER("Global Dimension 1 Code",GetDimTotalingFilter(1,ColumnLayout."Dimension 1 Totaling"));
                   SETFILTER("Global Dimension 2 Code",GetDimTotalingFilter(2,ColumnLayout."Dimension 2 Totaling"));
                   SETFILTER("Business Unit Code",ColumnLayout."Business Unit Totaling");
+                  //OS001s os.jgl
+                  SETFILTER("Currency Code",ColumnLayout."Currency Totaling");
+                  //OS001e os.jgl
                   FILTERGROUP(0);
                   OnBeforeTestBalance(GLAcc,AccSchedName,AccSchedLine,ColumnLayout,AmountType,ColValue,CalcAddCurr,TestBalance);
                   CASE AmountType OF
@@ -2123,6 +2140,27 @@ OBJECT Codeunit 8 AccSchedManagement
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+
+      OS001     25.02.2013    os.jgl  SITC    DEV-32: Use Currency Filter (Lines), Currency Totaling (Columns)
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000011.txt b/codeunit/codeunit_0000000011.txt
index c90c077..40286da 100644
--- a/codeunit/codeunit_0000000011.txt
+++ b/codeunit/codeunit_0000000011.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TC3.02;
   }
   PROPERTIES
   {
@@ -47,11 +47,16 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
       IsBatchMode@1016 : Boolean;
       EmployeeBalancingDocTypeErr@1013 : TextConst 'ENU=must be empty or set to Payment when Balancing Account Type field is set to Employee';
       EmployeeAccountDocTypeErr@1027 : TextConst 'ENU=must be empty or set to Payment when Account Type field is set to Employee';
+      "***** Plexada Texts *****"@119451021 : TextConst;
+      NeedAllowDeferralAndFCY@119451022 : TextConst 'ENU=%1 must be set to enabled in %2 if deferrals are to be posted in foreign currency.';
 
     [External]
     PROCEDURE RunCheck@4(VAR GenJnlLine@1000 : Record 81);
     VAR
       ICGLAcount@1008 : Record 410;
+      "***** Plexada Variables *****"@119451023 : Integer;
+      GLSetup@119451022 : Record 98;
+      VATPostingSetup@119451021 : Record 325;
     BEGIN
       WITH GenJnlLine DO BEGIN
         IF EmptyLine THEN
@@ -112,7 +117,10 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
 
         IF "IC Partner G/L Acc. No." <> '' THEN
           IF ICGLAcount.GET("IC Partner G/L Acc. No.") THEN
-            ICGLAcount.TESTFIELD(Blocked,FALSE);
+            //OS001s os.jgl
+            IF NOT "Force Post" THEN
+              ICGLAcount.TESTFIELD(Blocked,FALSE);
+            //OS001e os.jgl
 
         IF (("Account Type" = "Account Type"::"G/L Account") AND
             ("Bal. Account Type" = "Bal. Account Type"::"G/L Account")) OR
@@ -148,6 +156,14 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
           TESTFIELD("FA Posting Type",0);
         END;
 
+        //PX004s px.jgl
+        IF ("Currency Code" <> '') AND ("Deferral Code" <> '') THEN BEGIN
+          GLSetup.GET;
+          IF NOT GLSetup."Allow Deferrals with FCY" THEN
+            ERROR(NeedAllowDeferralAndFCY,GLSetup.FIELDCAPTION("Allow Deferrals with FCY"),GLSetup.TABLECAPTION);
+        END;
+        //PX004e px.jgl
+
         IF NOT OverrideDimErr THEN
           CheckDimensions(GenJnlLine);
       END;
@@ -241,6 +257,9 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
     VAR
       ICPartner@1001 : Record 413;
       CheckDone@1002 : Boolean;
+      "***** Plexada Variables *****"@119451023 : Integer;
+      GLSetup@119451022 : Record 98;
+      VATPostingSetup@119451021 : Record 325;
     BEGIN
       OnBeforeCheckAccountNo(GenJnlLine,CheckDone);
       IF CheckDone THEN
@@ -252,8 +271,18 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
             BEGIN
               IF ("Gen. Bus. Posting Group" <> '') OR ("Gen. Prod. Posting Group" <> '') OR
                  ("VAT Bus. Posting Group" <> '') OR ("VAT Prod. Posting Group" <> '')
-              THEN
+              //PX002s px.jgl
+              THEN BEGIN
                 TESTFIELD("Gen. Posting Type");
+                IF Prepayment THEN BEGIN
+                  GLSetup.GET;
+                  IF GLSetup."Prepayment Unrealized VAT" THEN BEGIN
+                    VATPostingSetup.GET("VAT Bus. Posting Group","VAT Prod. Posting Group");
+                    VATPostingSetup.TESTFIELD("Unrealized VAT Type");
+                  END;
+                END;
+              END;
+              //PX002e px.jgl
               IF ("Gen. Posting Type" <> "Gen. Posting Type"::" ") AND
                  ("VAT Posting" = "VAT Posting"::"Automatic VAT Entry")
               THEN BEGIN
@@ -295,7 +324,9 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
                 FIELDERROR("Sales/Purch. (LCY)",STRSUBSTNO(Text003,FIELDCAPTION(Amount)));
               TESTFIELD("Job No.",'');
 
-              CheckICPartner("Account Type","Account No.","Document Type");
+              //PX003s px.jgl
+              CheckICPartner("Account Type","Account No.","Document Type","Force Post");
+              //PX003e px.jgl
             END;
           "Account Type"::"Bank Account":
             BEGIN
@@ -329,6 +360,9 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
     VAR
       ICPartner@1001 : Record 413;
       CheckDone@1002 : Boolean;
+      "***** Plexada Variables *****"@119451023 : Integer;
+      GLSetup@119451022 : Record 98;
+      VATPostingSetup@119451021 : Record 325;
     BEGIN
       OnBeforeCheckBalAccountNo(GenJnlLine,CheckDone);
       IF CheckDone THEN
@@ -340,8 +374,18 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
             BEGIN
               IF ("Bal. Gen. Bus. Posting Group" <> '') OR ("Bal. Gen. Prod. Posting Group" <> '') OR
                  ("Bal. VAT Bus. Posting Group" <> '') OR ("Bal. VAT Prod. Posting Group" <> '')
-              THEN
+              //PX002s px.jgl
+              THEN BEGIN
                 TESTFIELD("Bal. Gen. Posting Type");
+                IF Prepayment THEN BEGIN
+                  GLSetup.GET;
+                  IF GLSetup."Prepayment Unrealized VAT" THEN BEGIN
+                    VATPostingSetup.GET("Bal. VAT Bus. Posting Group","Bal. VAT Prod. Posting Group");
+                    VATPostingSetup.TESTFIELD("Unrealized VAT Type");
+                  END;
+                END;
+              END;
+              //PX002e px.jgl
               IF ("Bal. Gen. Posting Type" <> "Bal. Gen. Posting Type"::" ") AND
                  ("VAT Posting" = "VAT Posting"::"Automatic VAT Entry")
               THEN BEGIN
@@ -381,7 +425,9 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
                 FIELDERROR("Sales/Purch. (LCY)",STRSUBSTNO(Text009,FIELDCAPTION(Amount)));
               TESTFIELD("Job No.",'');
 
-              CheckICPartner("Bal. Account Type","Bal. Account No.","Document Type");
+              //PX003s px.jgl
+              CheckICPartner("Bal. Account Type","Bal. Account No.","Document Type","Force Post");
+              //PX003e px.jgl
             END;
           "Bal. Account Type"::"Bank Account":
             BEGIN
@@ -469,7 +515,7 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
         END;
     END;
 
-    LOCAL PROCEDURE CheckICPartner@11(AccountType@1004 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee';AccountNo@1000 : Code[20];DocumentType@1005 : Option);
+    LOCAL PROCEDURE CheckICPartner@11(AccountType@1004 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee';AccountNo@1000 : Code[20];DocumentType@1005 : Option;ForcePost@119451021 : Boolean);
     VAR
       Customer@1001 : Record 18;
       Vendor@1002 : Record 23;
@@ -484,7 +530,12 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
       CASE AccountType OF
         AccountType::Customer:
           IF Customer.GET(AccountNo) THEN BEGIN
-            Customer.CheckBlockedCustOnJnls(Customer,DocumentType,TRUE);
+            //OS001s os.jgl
+            //PX003s px.jgl
+            IF NOT ForcePost THEN
+              Customer.CheckBlockedCustOnJnls(Customer,DocumentType,TRUE);
+            //PX003e px.jgl
+            //OS001e os.jgl
             IF (Customer."IC Partner Code" <> '') AND (GenJnlTemplate.Type = GenJnlTemplate.Type::Intercompany) AND
                ICPartner.GET(Customer."IC Partner Code")
             THEN
@@ -492,7 +543,12 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
           END;
         AccountType::Vendor:
           IF Vendor.GET(AccountNo) THEN BEGIN
-            Vendor.CheckBlockedVendOnJnls(Vendor,DocumentType,TRUE);
+            //OS001s os.jgl
+            //PX003s px.jgl
+            IF NOT ForcePost THEN
+              Vendor.CheckBlockedVendOnJnls(Vendor,DocumentType,TRUE);
+            //PX003e px.jgl
+            //OS001e os.jgl
             IF (Vendor."IC Partner Code" <> '') AND (GenJnlTemplate.Type = GenJnlTemplate.Type::Intercompany) AND
                ICPartner.GET(Vendor."IC Partner Code")
             THEN
@@ -515,6 +571,10 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
         EXIT;
 
       WITH GenJnlLine DO BEGIN
+        //OS001s os.jgl
+        IF OverrideDimErr OR "Force Post" THEN
+          EXIT;
+        //OS001e os.jgl
         IF NOT DimMgt.CheckDimIDComb("Dimension Set ID") THEN
           ThrowGenJnlLineError(GenJnlLine,Text011,DimMgt.GetDimCombErr);
 
@@ -599,6 +659,32 @@ OBJECT Codeunit 11 Gen. Jnl.-Check Line
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.02             26.12.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     24.02.2011    os.jgl  SIBB    respect "Force Post" - ignore blocked accounts or blocked and missing dimensions/dimvalues
+      PX002     25.06.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              PrÅfung fÅr Prepayment und Prepayment unrealized VAT: In diesem Fall muss die Buchungsgruppe
+                                              auf jeden Fall fÅr unrealisierte Steuer eingerichtet sein.
+      PX003     05.09.2017    px.jgl  P4BB    Integrate into NAV2017
+      PX004     06.10.2017    px.jgl  P4TC    Check for Deferral code in FCY
+      PX005     26.12.2017    px.jgl  P4TC    Integrate into NAV2018
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000012.txt b/codeunit/codeunit_0000000012.txt
index 26292c1..2aebd1d 100644
--- a/codeunit/codeunit_0000000012.txt
+++ b/codeunit/codeunit_0000000012.txt
@@ -2,9 +2,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 {
   OBJECT-PROPERTIES
   {
-    Date=28.06.18;
+    Date=27.09.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.23019;
+    Version List=NAVW111.00.00.23019,P4BB2.00,P4TA3.03;
   }
   PROPERTIES
   {
@@ -100,6 +100,8 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       NoDeferralScheduleErr@1037 : TextConst '@@@="%1=The line number of the general ledger transaction, %2=The Deferral Template Code";ENU=You must create a deferral schedule if a deferral template is selected. Line: %1, Deferral Template: %2.';
       ZeroDeferralAmtErr@1041 : TextConst '@@@="%1=The line number of the general ledger transaction, %2=The Deferral Template Code";ENU=Deferral amounts cannot be 0. Line: %1, Deferral Template: %2.';
       IsGLRegInserted@1013 : Boolean;
+      "***** Plexada Variables *****"@119451023 : Integer;
+      CVPostBuf@119451022 : TEMPORARY Record 5274200;
 
     [External]
     PROCEDURE GetGLReg@10(VAR NewGLReg@1000 : Record 45);
@@ -273,9 +275,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
     VAR
       LCYCurrency@1000 : Record 4;
       SalesTaxCalculate@1004 : Codeunit 398;
+      "***** Plexada Variables *****"@119451022 : Integer;
+      FCYCurrency@119451021 : Record 4;
     BEGIN
       LCYCurrency.InitRoundingPrecision;
-      WITH GenJnlLine DO
+      //OS001s os.jgl
+      WITH GenJnlLine DO BEGIN
+        IF NOT FCYCurrency.GET("Currency Code") THEN
+          FCYCurrency.InitRoundingPrecision;
+      //OS001e os.jgl
         IF "Gen. Posting Type" <> 0 THEN BEGIN // None
           VATPostingSetup.GET("VAT Bus. Posting Group","VAT Prod. Posting Group");
           TESTFIELD("VAT Calculation Type",VATPostingSetup."VAT Calculation Type");
@@ -288,6 +296,11 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                     IF "VAT Difference" <> 0 THEN BEGIN
                       GLEntry.Amount := "VAT Base Amount (LCY)";
                       GLEntry."VAT Amount" := "Amount (LCY)" - GLEntry.Amount;
+                      //OS001s os.jgl
+                      //calculate the FCY amounts in the same way
+                      GLEntry."Amount (FCY)" := "VAT Base Amount";
+                      GLEntry."VAT Amount (FCY)" := Amount - GLEntry."Amount (FCY)";
+                      //OS001e os.jgl
                       GLEntry."Additional-Currency Amount" := "Source Curr. VAT Base Amount";
                       IF "Source Currency Code" = AddCurrencyCode THEN
                         AddCurrGLEntryVATAmt := "Source Curr. VAT Amount"
@@ -299,6 +312,14 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                           "Amount (LCY)" * VATPostingSetup."VAT %" / (100 + VATPostingSetup."VAT %"),
                           LCYCurrency."Amount Rounding Precision",LCYCurrency.VATRoundingDirection);
                       GLEntry.Amount := "Amount (LCY)" - GLEntry."VAT Amount";
+                      //OS001s os.jgl
+                      //calculate the FCY amounts in the same way
+                      GLEntry."VAT Amount (FCY)" :=
+                        ROUND(
+                          Amount * VATPostingSetup."VAT %" / (100 + VATPostingSetup."VAT %"),
+                          FCYCurrency."Amount Rounding Precision",FCYCurrency.VATRoundingDirection);
+                      GLEntry."Amount (FCY)" := Amount - GLEntry."VAT Amount (FCY)";
+                      //OS001e os.jgl
                       IF "Source Currency Code" = AddCurrencyCode THEN
                         AddCurrGLEntryVATAmt :=
                           ROUND(
@@ -313,6 +334,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                       "Gen. Posting Type"::Purchase:
                         IF "VAT Difference" <> 0 THEN BEGIN
                           GLEntry."VAT Amount" := "VAT Amount (LCY)";
+                          //OS001s os.jgl
+                          GLEntry."VAT Amount (FCY)" := "VAT Amount";
+                          //OS001e os.jgl
                           IF "Source Currency Code" = AddCurrencyCode THEN
                             AddCurrGLEntryVATAmt := "Source Curr. VAT Amount"
                           ELSE
@@ -322,6 +346,12 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                             ROUND(
                               GLEntry.Amount * VATPostingSetup."VAT %" / 100,
                               LCYCurrency."Amount Rounding Precision",LCYCurrency.VATRoundingDirection);
+                          //OS001s os.jgl
+                          GLEntry."VAT Amount (FCY)" :=
+                            ROUND(
+                              GLEntry."Amount (FCY)"* VATPostingSetup."VAT %" / 100,
+                              FCYCurrency."Amount Rounding Precision",FCYCurrency.VATRoundingDirection);
+                          //OS001e os.jgl
                           IF "Source Currency Code" = AddCurrencyCode THEN
                             AddCurrGLEntryVATAmt :=
                               ROUND(
@@ -333,6 +363,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                       "Gen. Posting Type"::Sale:
                         BEGIN
                           GLEntry."VAT Amount" := 0;
+                          //OS001s os.jgl
+                          GLEntry."VAT Amount (FCY)" := 0;
+                          //OS001e os.jgl
                           AddCurrGLEntryVATAmt := 0;
                         END;
                     END;
@@ -345,8 +378,14 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                           TESTFIELD("Account No.",VATPostingSetup.GetPurchAccount(FALSE));
                       END;
                       GLEntry.Amount := 0;
+                      //OS001s os.jgl
+                      GLEntry."Amount (FCY)" := 0;
+                      //OS001e os.jgl
                       GLEntry."Additional-Currency Amount" := 0;
                       GLEntry."VAT Amount" := "Amount (LCY)";
+                      //OS001s os.jgl
+                      GLEntry."VAT Amount (FCY)" := Amount;
+                      //OS001e os.jgl
                       IF "Source Currency Code" = AddCurrencyCode THEN
                         AddCurrGLEntryVATAmt := "Source Currency Amount"
                       ELSE
@@ -363,6 +402,14 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                               "Tax Area Code","Tax Group Code","Tax Liable",
                               "Posting Date","Amount (LCY)",Quantity,0));
                         GLEntry.Amount := "Amount (LCY)";
+                        //OS001s os.jgl
+                        GLEntry."VAT Amount (FCY)" :=
+                          ROUND(
+                            SalesTaxCalculate.CalculateTax(
+                              "Tax Area Code","Tax Group Code","Tax Liable",
+                              "Posting Date",Amount,Quantity,0));
+                        GLEntry."Amount (FCY)":= Amount;
+                        //OS001e os.jgl
                       END ELSE BEGIN
                         GLEntry.Amount :=
                           ROUND(
@@ -370,6 +417,14 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                               "Tax Area Code","Tax Group Code","Tax Liable",
                               "Posting Date","Amount (LCY)",Quantity,0));
                         GLEntry."VAT Amount" := "Amount (LCY)" - GLEntry.Amount;
+                        //OS001s os.jgl
+                        GLEntry."Amount (FCY)":=
+                          ROUND(
+                            SalesTaxCalculate.ReverseCalculateTax(
+                              "Tax Area Code","Tax Group Code","Tax Liable",
+                              "Posting Date",Amount,Quantity,0));
+                        GLEntry."VAT Amount (FCY)" := Amount - GLEntry."Amount (FCY)";
+                        //OS001e os.jgl
                       END;
                       GLEntry."Additional-Currency Amount" := "Source Currency Amount";
                       IF "Source Currency Code" = AddCurrencyCode THEN
@@ -383,6 +438,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               IF "Gen. Posting Type" <> "Gen. Posting Type"::Settlement THEN BEGIN
                 GLEntry.CopyPostingGroupsFromGenJnlLine(GenJnlLine);
                 GLEntry."VAT Amount" := "VAT Amount (LCY)";
+                //OS001s os.jgl
+                GLEntry."VAT Amount (FCY)" := "VAT Amount";
+                //OS001e os.jgl
                 IF "Source Currency Code" = AddCurrencyCode THEN
                   AddCurrGLEntryVATAmt := "Source Curr. VAT Amount"
                 ELSE
@@ -390,6 +448,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               END;
           END;
         END;
+      //OS001s os.jgl
+      END;
+      //OS001e os.jgl
       GLEntry."Additional-Currency Amount" :=
         GLCalcAddCurrency(GLEntry.Amount,GLEntry."Additional-Currency Amount",GLEntry."Additional-Currency Amount",TRUE,GenJnlLine);
     END;
@@ -408,8 +469,17 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       RemSrcCurrVATAmount@1007 : Decimal;
       SalesTaxBaseAmount@1014 : Decimal;
       TaxDetailFound@1006 : Boolean;
+      "***** Plexada Variables *****"@119451026 : Integer;
+      CurrExchRateL@119451021 : Record 330;
+      VATAmount2FCY@119451025 : Decimal;
+      VATBase2FCY@119451024 : Decimal;
+      SalesTaxBaseAmountFCY@119451022 : Decimal;
     BEGIN
-      WITH GenJnlLine DO
+      //OS038s os.jgl
+      WITH GenJnlLine DO BEGIN
+        // Sanity check: GenJnl Currency Code and GLEntry Currency Code must be the same
+        TESTFIELD("Currency Code",GLEntry."Currency Code");
+      //OS038e os.jgl
         // Post VAT
         // VAT for VAT entry
         CASE "VAT Calculation Type" OF
@@ -417,14 +487,21 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           "VAT Calculation Type"::"Reverse Charge VAT",
           "VAT Calculation Type"::"Full VAT":
             BEGIN
-              IF "VAT Posting" = "VAT Posting"::"Automatic VAT Entry" THEN
+              //OS001s os.jgl
+              IF "VAT Posting" = "VAT Posting"::"Automatic VAT Entry" THEN BEGIN
                 "VAT Base Amount (LCY)" := GLEntry.Amount;
+                "VAT Base Amount" := GLEntry."Amount (FCY)";
+              END;
+              //OS001e os.jgl
               IF "Gen. Posting Type" = "Gen. Posting Type"::Settlement THEN
                 AddCurrGLEntryVATAmt := "Source Curr. VAT Amount";
+              //OS038s os.jgl
               InsertVAT(
                 GenJnlLine,VATPostingSetup,
-                GLEntry.Amount,GLEntry."VAT Amount","VAT Base Amount (LCY)","Source Currency Code",
-                GLEntry."Additional-Currency Amount",AddCurrGLEntryVATAmt,"Source Curr. VAT Base Amount");
+                GLEntry.Amount,GLEntry."VAT Amount","VAT Base Amount (LCY)",
+                "Currency Code",GLEntry."Amount (FCY)",GLEntry."VAT Amount (FCY)","VAT Base Amount",
+                "Source Currency Code",GLEntry."Additional-Currency Amount",AddCurrGLEntryVATAmt,"Source Curr. VAT Base Amount");
+              //OS038e os.jgl
               NextConnectionNo := NextConnectionNo + 1;
             END;
           "VAT Calculation Type"::"Sales Tax":
@@ -438,45 +515,75 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               IF ("VAT Posting" = "VAT Posting"::"Manual VAT Entry") AND
                  ("Gen. Posting Type" = "Gen. Posting Type"::Settlement)
               THEN
+                //OS038s os.jgl
                 InsertVAT(
                   GenJnlLine,VATPostingSetup,
-                  GLEntry.Amount,GLEntry."VAT Amount","VAT Base Amount (LCY)","Source Currency Code",
-                  "Source Curr. VAT Base Amount","Source Curr. VAT Amount","Source Curr. VAT Base Amount")
+                  GLEntry.Amount,GLEntry."VAT Amount","VAT Base Amount (LCY)",
+                  "Currency Code",GLEntry."Amount (FCY)",GLEntry."VAT Amount (FCY)","VAT Base Amount",
+                  "Source Currency Code","Source Curr. VAT Base Amount","Source Curr. VAT Amount","Source Curr. VAT Base Amount")
+                //OS038e os.jgl
               ELSE BEGIN
                 CLEAR(SalesTaxCalculate);
                 SalesTaxCalculate.InitSalesTaxLines(
                   "Tax Area Code","Tax Group Code","Tax Liable",
                   SalesTaxBaseAmount,Quantity,"Posting Date",GLEntry."VAT Amount");
                 SrcCurrVATAmount := 0;
+                //OS001s os.jgl
+                IF "Currency Code"<>'' THEN
+                  SalesTaxBaseAmountFCY := CurrExchRateL.ExchangeAmtLCYToFCY("Posting Date","Currency Code",SalesTaxBaseAmount,
+                    "Currency Factor")
+                ELSE
+                  SalesTaxBaseAmountFCY := SalesTaxBaseAmount;
+                //OS001e os.jgl
                 SrcCurrSalesTaxBaseAmount := CalcLCYToAddCurr(SalesTaxBaseAmount);
                 RemSrcCurrVATAmount := AddCurrGLEntryVATAmt;
                 TaxDetailFound := FALSE;
                 WHILE SalesTaxCalculate.GetSalesTaxLine(TaxDetail2,VATAmount,VATBase) DO BEGIN
                   RemSrcCurrVATAmount := RemSrcCurrVATAmount - SrcCurrVATAmount;
                   IF TaxDetailFound THEN
+                    //OS038s os.jgl
                     InsertVAT(
                       GenJnlLine,VATPostingSetup,
-                      SalesTaxBaseAmount,VATAmount2,VATBase2,"Source Currency Code",
-                      SrcCurrSalesTaxBaseAmount,SrcCurrVATAmount,SrcCurrVATBase);
+                      SalesTaxBaseAmount,VATAmount2,VATBase2,
+                      "Currency Code",SalesTaxBaseAmountFCY,VATAmount2FCY,VATBase2FCY,
+                      "Source Currency Code",SrcCurrSalesTaxBaseAmount,SrcCurrVATAmount,SrcCurrVATBase);
+                    //OS038e os.jgl
                   TaxDetailFound := TRUE;
                   TaxDetail := TaxDetail2;
                   VATAmount2 := VATAmount;
                   VATBase2 := VATBase;
+                  //OS001s os.jgl
+                  IF "Currency Code"<>'' THEN BEGIN
+                    VATAmount2FCY := CurrExchRateL.ExchangeAmtLCYToFCY("Posting Date","Currency Code",VATAmount2,
+                      "Currency Factor");
+                    VATBase2FCY := CurrExchRateL.ExchangeAmtLCYToFCY("Posting Date","Currency Code",VATBase2,
+                      "Currency Factor");
+                  END ELSE BEGIN
+                    VATAmount2FCY := VATAmount2;
+                    VATBase2FCY := VATBase2
+                  END;
+                  //OS001e os.jgl
                   SrcCurrVATAmount := CalcLCYToAddCurr(VATAmount);
                   SrcCurrVATBase := CalcLCYToAddCurr(VATBase);
                 END;
                 IF TaxDetailFound THEN
+                  //OS038s os.jgl
                   InsertVAT(
                     GenJnlLine,VATPostingSetup,
-                    SalesTaxBaseAmount,VATAmount2,VATBase2,"Source Currency Code",
-                    SrcCurrSalesTaxBaseAmount,RemSrcCurrVATAmount,SrcCurrVATBase);
+                    SalesTaxBaseAmount,VATAmount2,VATBase2,
+                    "Currency Code",SalesTaxBaseAmountFCY,VATAmount2FCY,VATBase2FCY,
+                    "Source Currency Code",SrcCurrSalesTaxBaseAmount,RemSrcCurrVATAmount,SrcCurrVATBase);
+                  //OS038e os.jgl
                 InsertSummarizedVAT(GenJnlLine);
               END;
             END;
         END;
+      //OS038s os.jgl
+      END;
+      //OS038e os.jgl
     END;
 
-    LOCAL PROCEDURE InsertVAT@30(GenJnlLine@1015 : Record 81;VATPostingSetup@1018 : Record 325;GLEntryAmount@1000 : Decimal;GLEntryVATAmount@1001 : Decimal;GLEntryBaseAmount@1002 : Decimal;SrcCurrCode@1004 : Code[10];SrcCurrGLEntryAmt@1005 : Decimal;SrcCurrGLEntryVATAmt@1006 : Decimal;SrcCurrGLEntryBaseAmt@1007 : Decimal);
+    LOCAL PROCEDURE InsertVAT@30(GenJnlLine@1015 : Record 81;VATPostingSetup@1018 : Record 325;GLEntryAmount@1000 : Decimal;GLEntryVATAmount@1001 : Decimal;GLEntryBaseAmount@1002 : Decimal;FCYCurrCode@119451024 : Code[10];GLEntryAmountFCY@119451021 : Decimal;GLEntryVATAmtFCY@119451022 : Decimal;GLEntryBaseAmtFCY@119451023 : Decimal;SrcCurrCode@1004 : Code[10];SrcCurrGLEntryAmt@1005 : Decimal;SrcCurrGLEntryVATAmt@1006 : Decimal;SrcCurrGLEntryBaseAmt@1007 : Decimal);
     VAR
       TaxJurisdiction@1003 : Record 320;
       VATAmount@1008 : Decimal;
@@ -486,6 +593,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       VATDifferenceLCY@1013 : Decimal;
       SrcCurrVATDifference@1014 : Decimal;
       UnrealizedVAT@1019 : Boolean;
+      "***** Plexada Variables *****"@119451027 : Integer;
+      VATAmountFCY@119451026 : Decimal;
+      VATBaseFCY@119451025 : Decimal;
     BEGIN
       WITH GenJnlLine DO BEGIN
         // Post VAT
@@ -497,6 +607,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         VATEntry."Transaction No." := NextTransactionNo;
         VATEntry."Sales Tax Connection No." := NextConnectionNo;
 
+        //OS001s os.jgl
+        VATEntry."Currency Code" := "Currency Code";
+        //OS001e os.jgl
         IF "VAT Difference" = 0 THEN
           VATDifferenceLCY := 0
         ELSE
@@ -530,7 +643,11 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             SrcCurrVATDifference := "VAT Difference";
 
         UnrealizedVAT :=
-          (((VATPostingSetup."Unrealized VAT Type" > 0) AND
+          //PX004s px.jgl
+          ((((VATPostingSetup."Unrealized VAT Type" > 0) AND
+           ((NOT VATPostingSetup."Prepayment Unrealized VAT only") OR
+           (GLSetup."Prepayment Unrealized VAT" AND Prepayment))) AND
+          //PX004e px.jgl
             (VATPostingSetup."VAT Calculation Type" IN
              [VATPostingSetup."VAT Calculation Type"::"Normal VAT",
               VATPostingSetup."VAT Calculation Type"::"Reverse Charge VAT",
@@ -539,10 +656,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             (VATPostingSetup."VAT Calculation Type" IN
              [VATPostingSetup."VAT Calculation Type"::"Sales Tax"]))) AND
           IsNotPayment("Document Type");
-        IF GLSetup."Prepayment Unrealized VAT" AND NOT GLSetup."Unrealized VAT" AND
-           (VATPostingSetup."Unrealized VAT Type" > 0)
-        THEN
-          UnrealizedVAT := Prepayment;
+        //PX004s px.jgl
+        IF WasPrePayment THEN
+          UnrealizedVAT := FALSE;
+        //PX004e px.jgl
 
         // VAT for VAT entry
         IF "Gen. Posting Type" <> 0 THEN BEGIN
@@ -551,6 +668,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               BEGIN
                 VATAmount := GLEntryVATAmount;
                 VATBase := GLEntryBaseAmount;
+                //OS001s os.jgl
+                VATAmountFCY := GLEntryVATAmtFCY;
+                VATBaseFCY := GLEntryBaseAmtFCY;
+                //OS001e os.jgl
                 SrcCurrVATAmount := SrcCurrGLEntryVATAmt;
                 SrcCurrVATBase := SrcCurrGLEntryBaseAmt;
               END;
@@ -558,13 +679,22 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               BEGIN
                 IF "Gen. Posting Type" = "Gen. Posting Type"::Settlement THEN BEGIN
                   VATAmount := GLEntryAmount;
+                  //OS001s os.jgl
+                  VATAmountFCY := GLEntryAmountFCY;
+                  //OS001e os.jgl
                   SrcCurrVATAmount := SrcCurrGLEntryVATAmt;
                   VATEntry.Closed := TRUE;
                 END ELSE BEGIN
                   VATAmount := GLEntryVATAmount;
+                  //OS001s os.jgl
+                  VATAmountFCY := GLEntryVATAmtFCY;
+                  //OS001e os.jgl
                   SrcCurrVATAmount := SrcCurrGLEntryVATAmt;
                 END;
                 VATBase := GLEntryBaseAmount;
+                //OS001s os.jgl
+                VATBaseFCY := GLEntryBaseAmtFCY;
+                //OS001e os.jgl
                 SrcCurrVATBase := SrcCurrGLEntryBaseAmt;
               END;
           END;
@@ -572,17 +702,37 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           IF UnrealizedVAT THEN BEGIN
             VATEntry.Amount := 0;
             VATEntry.Base := 0;
+            //OS001s os.jgl
+            VATEntry."Amount (FCY)" := 0;
+            VATEntry."Base (FCY)" := 0;
+            //OS001e os.jgl
             VATEntry."Unrealized Amount" := VATAmount;
             VATEntry."Unrealized Base" := VATBase;
             VATEntry."Remaining Unrealized Amount" := VATEntry."Unrealized Amount";
             VATEntry."Remaining Unrealized Base" := VATEntry."Unrealized Base";
+            //OS001s os.jgl
+            VATEntry."Unrealized Amount (FCY)" := VATAmountFCY;
+            VATEntry."Unrealized Base (FCY)" := VATBaseFCY;
+            VATEntry."Remaining Unreal. Amount (FCY)" := VATEntry."Unrealized Amount (FCY)";
+            VATEntry."Remaining Unreal. Base (FCY)" := VATEntry."Unrealized Base (FCY)";
+            //OS001e os.jgl
           END ELSE BEGIN
             VATEntry.Amount := VATAmount;
             VATEntry.Base := VATBase;
+            //OS001s os.jgl
+            VATEntry."Amount (FCY)" := VATAmountFCY;
+            VATEntry."Base (FCY)" := VATBaseFCY;
+            //OS001e os.jgl
             VATEntry."Unrealized Amount" := 0;
             VATEntry."Unrealized Base" := 0;
             VATEntry."Remaining Unrealized Amount" := 0;
             VATEntry."Remaining Unrealized Base" := 0;
+            //OS001s os.jgl
+            VATEntry."Unrealized Amount (FCY)" := 0;
+            VATEntry."Unrealized Base (FCY)" := 0;
+            VATEntry."Remaining Unreal. Amount (FCY)" := 0;
+            VATEntry."Remaining Unreal. Base (FCY)" := 0;
+            //OS001e os.jgl
           END;
 
           IF AddCurrencyCode = '' THEN BEGIN
@@ -606,6 +756,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           VATEntry."Add.-Curr. Rem. Unreal. Base" := VATEntry."Add.-Currency Unrealized Base";
           VATEntry."VAT Difference" := VATDifferenceLCY;
           VATEntry."Add.-Curr. VAT Difference" := SrcCurrVATDifference;
+          //OS001s os.jgl
+          VATEntry."VAT Difference (FCY)" := "VAT Difference";
+          //OS001e os.jgl
 
           VATEntry.INSERT(TRUE);
           GLEntryVATEntryLink.InsertLink(TempGLEntryBuf."Entry No.",VATEntry."Entry No.");
@@ -621,36 +774,38 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               CASE VATPostingSetup."VAT Calculation Type" OF
                 VATPostingSetup."VAT Calculation Type"::"Normal VAT",
                 VATPostingSetup."VAT Calculation Type"::"Full VAT":
+            //OS038s os.jgl
                   CreateGLEntry(GenJnlLine,VATPostingSetup.GetPurchAccount(UnrealizedVAT),
-                    GLEntryVATAmount,SrcCurrGLEntryVATAmt,TRUE);
+                    GLEntryVATAmount,GLEntryVATAmtFCY,SrcCurrGLEntryVATAmt,TRUE);
                 VATPostingSetup."VAT Calculation Type"::"Reverse Charge VAT":
                   BEGIN
                     CreateGLEntry(GenJnlLine,VATPostingSetup.GetPurchAccount(UnrealizedVAT),
-                      GLEntryVATAmount,SrcCurrGLEntryVATAmt,TRUE);
+                      GLEntryVATAmount,GLEntryVATAmtFCY,SrcCurrGLEntryVATAmt,TRUE);
                     CreateGLEntry(GenJnlLine,VATPostingSetup.GetRevChargeAccount(UnrealizedVAT),
-                      -GLEntryVATAmount,-SrcCurrGLEntryVATAmt,TRUE);
+                      -GLEntryVATAmount,-GLEntryVATAmtFCY,-SrcCurrGLEntryVATAmt,TRUE);
                   END;
                 VATPostingSetup."VAT Calculation Type"::"Sales Tax":
                   IF "Use Tax" THEN BEGIN
                     InitGLEntryVAT(GenJnlLine,TaxJurisdiction.GetPurchAccount(UnrealizedVAT),'',
-                      GLEntryVATAmount,SrcCurrGLEntryVATAmt,TRUE);
+                      GLEntryVATAmount,GLEntryVATAmtFCY,SrcCurrGLEntryVATAmt,TRUE);
                     InitGLEntryVAT(GenJnlLine,TaxJurisdiction.GetRevChargeAccount(UnrealizedVAT),'',
-                      -GLEntryVATAmount,-SrcCurrGLEntryVATAmt,TRUE);
+                      -GLEntryVATAmount,-GLEntryVATAmtFCY,-SrcCurrGLEntryVATAmt,TRUE);
                   END ELSE
                     InitGLEntryVAT(GenJnlLine,TaxJurisdiction.GetPurchAccount(UnrealizedVAT),'',
-                      GLEntryVATAmount,SrcCurrGLEntryVATAmt,TRUE);
+                      GLEntryVATAmount,GLEntryVATAmtFCY,SrcCurrGLEntryVATAmt,TRUE);
               END;
             "Gen. Posting Type"::Sale:
               CASE VATPostingSetup."VAT Calculation Type" OF
                 VATPostingSetup."VAT Calculation Type"::"Normal VAT",
                 VATPostingSetup."VAT Calculation Type"::"Full VAT":
                   CreateGLEntry(GenJnlLine,VATPostingSetup.GetSalesAccount(UnrealizedVAT),
-                    GLEntryVATAmount,SrcCurrGLEntryVATAmt,TRUE);
+                    GLEntryVATAmount,GLEntryVATAmtFCY,SrcCurrGLEntryVATAmt,TRUE);
                 VATPostingSetup."VAT Calculation Type"::"Reverse Charge VAT":
                   ;
                 VATPostingSetup."VAT Calculation Type"::"Sales Tax":
                   InitGLEntryVAT(GenJnlLine,TaxJurisdiction.GetSalesAccount(UnrealizedVAT),'',
-                    GLEntryVATAmount,SrcCurrGLEntryVATAmt,TRUE);
+                    GLEntryVATAmount,GLEntryVATAmtFCY,SrcCurrGLEntryVATAmt,TRUE);
+            //OS038e os.jgl
               END;
           END;
       END;
@@ -665,11 +820,18 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         IF TempGLEntryVAT.FINDSET THEN
           REPEAT
             IF (TempGLEntryVAT."G/L Account No." = GLEntry."G/L Account No.") AND
-               (TempGLEntryVAT."Bal. Account No." = GLEntry."Bal. Account No.")
+              //OS004s os.jgl
+               (TempGLEntryVAT."Bal. Account Type" = GLEntry."Bal. Account Type") AND
+               (TempGLEntryVAT."Bal. Account No." = GLEntry."Bal. Account No.") AND
+               (TempGLEntryVAT."Currency Code" = GLEntry."Currency Code")
+              //OS004e os.jgl
             THEN BEGIN
               TempGLEntryVAT.Amount := TempGLEntryVAT.Amount + GLEntry.Amount;
               TempGLEntryVAT."Additional-Currency Amount" :=
                 TempGLEntryVAT."Additional-Currency Amount" + GLEntry."Additional-Currency Amount";
+              //OS001s os.jgl
+              TempGLEntryVAT."Amount (FCY)" := TempGLEntryVAT."Amount (FCY)" + GLEntry."VAT Amount (FCY)";
+              //OS001e os.jgl
               TempGLEntryVAT.MODIFY;
               InsertedTempVAT := TRUE;
             END;
@@ -704,12 +866,23 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       WITH GenJnlLine DO BEGIN
         GLAcc.GET("Account No.");
         // G/L entry
+        //OS001s os.jgl
+        //OS038s os.jgl
         InitGLEntry(GenJnlLine,GLEntry,
-          "Account No.","Amount (LCY)",
+          "Account No.","Amount (LCY)",Amount,
           "Source Currency Amount",TRUE,"System-Created Entry");
-        IF NOT "System-Created Entry" THEN
+        //OS038e os.jgl
+        IF NOT "System-Created Entry" THEN BEGIN
           IF "Posting Date" = NORMALDATE("Posting Date") THEN
             GLAcc.TESTFIELD("Direct Posting",TRUE);
+          //Test the currency against the GLAcc currency
+          IF "Currency Code" = '' THEN
+            GLAcc.TESTFIELD("Currency Code",'')
+          ELSE
+            IF GLAcc."Currency Code" <> '' THEN
+              TESTFIELD("Currency Code",GLAcc."Currency Code");
+        END;
+        //OS001e os.jgl
         IF GLAcc."Omit Default Descr. in Jnl." THEN
           IF DELCHR(Description,'=',' ') = '' THEN
             ERROR(
@@ -725,6 +898,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
            "Additional-Currency Posting"::"Additional-Currency Amount Only"
         THEN BEGIN
           GLEntry."Additional-Currency Amount" := Amount;
+          //OS001s os.jgl
+          GLEntry."Amount (FCY)" := 0;
+          //OS001e os.jgl
           GLEntry.Amount := 0;
         END;
         // Store Entry No. to global variable for return:
@@ -754,7 +930,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
     BEGIN
       WITH GenJnlLine DO BEGIN
         Cust.GET("Account No.");
-        Cust.CheckBlockedCustOnJnls(Cust,"Document Type",TRUE);
+        //OS002s os.jgl
+        IF NOT "Force Post" THEN
+          Cust.CheckBlockedCustOnJnls(Cust,"Document Type",TRUE);
+        //OS002e os.jgl
 
         IF "Posting Group" = '' THEN BEGIN
           Cust.TESTFIELD("Customer Posting Group");
@@ -836,7 +1015,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
     BEGIN
       WITH GenJnlLine DO BEGIN
         Vend.GET("Account No.");
-        Vend.CheckBlockedVendOnJnls(Vend,"Document Type",TRUE);
+        //OS002s os.jgl
+        IF NOT "Force Post" THEN
+          Vend.CheckBlockedVendOnJnls(Vend,"Document Type",TRUE);
+        //OS002e os.jgl
 
         IF "Posting Group" = '' THEN BEGIN
           Vend.TESTFIELD("Vendor Posting Group");
@@ -868,10 +1050,12 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
         IF "Currency Code" <> '' THEN BEGIN
           TESTFIELD("Currency Factor");
-          CVLedgEntryBuf."Adjusted Currency Factor" := "Currency Factor"
+        //PX048s px.jgl
+          CVLedgEntryBuf."Original Currency Factor" := "Currency Factor"
         END ELSE
-          CVLedgEntryBuf."Adjusted Currency Factor" := 1;
-        CVLedgEntryBuf."Original Currency Factor" := CVLedgEntryBuf."Adjusted Currency Factor";
+          CVLedgEntryBuf."Original Currency Factor" := 1;
+        CVLedgEntryBuf."Adjusted Currency Factor" := CVLedgEntryBuf."Original Currency Factor";
+        //PX048e px.jgl
 
         // Check the document no.
         IF "Recurring Method" = 0 THEN
@@ -967,7 +1151,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
     BEGIN
       WITH GenJnlLine DO BEGIN
         BankAcc.GET("Account No.");
-        BankAcc.TESTFIELD(Blocked,FALSE);
+        //OS002s os.jgl
+        IF NOT "Force Post" THEN
+          BankAcc.TESTFIELD(Blocked,FALSE);
+        //OS002e os.jgl
         IF "Currency Code" = '' THEN
           BankAcc.TESTFIELD("Currency Code",'')
         ELSE
@@ -982,11 +1169,23 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         InitBankAccLedgEntry(GenJnlLine,BankAccLedgEntry);
 
         BankAccLedgEntry."Bank Acc. Posting Group" := BankAcc."Bank Acc. Posting Group";
-        BankAccLedgEntry."Currency Code" := BankAcc."Currency Code";
-        IF BankAcc."Currency Code" <> '' THEN
-          BankAccLedgEntry.Amount := Amount
-        ELSE
-          BankAccLedgEntry.Amount := "Amount (LCY)";
+        //OS031s os.jgl
+        // ************************************************** Plexada ******************************************
+        // Standard Code:
+        // BankAccLedgEntry."Currency Code" := BankAcc."Currency Code";
+        // ************************************************** Plexada ******************************************
+        BankAccLedgEntry."Currency Code" := "Currency Code";
+        //OS031e os.jgl
+        //OS031s os.jgl
+        // ************************************************** Plexada ******************************************
+        // Standard Code:
+        // IF BankAcc."Currency Code" <> '' THEN
+        //   BankAccLedgEntry.Amount := Amount
+        // ELSE
+        //   BankAccLedgEntry.Amount := "Amount (LCY)";
+        // ************************************************** Plexada ******************************************
+        BankAccLedgEntry.Amount := Amount;
+        //OS031e os.jgl
         BankAccLedgEntry."Amount (LCY)" := "Amount (LCY)";
         BankAccLedgEntry.Open := Amount <> 0;
         BankAccLedgEntry."Remaining Amount" := BankAccLedgEntry.Amount;
@@ -1053,9 +1252,11 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         END;
 
         BankAccPostingGr.TESTFIELD("G/L Bank Account No.");
+        //OS038s os.jgl
         CreateGLEntryBalAcc(
-          GenJnlLine,BankAccPostingGr."G/L Bank Account No.","Amount (LCY)","Source Currency Amount",
+          GenJnlLine,BankAccPostingGr."G/L Bank Account No.","Amount (LCY)",Amount,"Source Currency Amount",
           "Bal. Account Type","Bal. Account No.");
+        //OS038e os.jgl
         DeferralPosting("Deferral Code","Source Code",BankAccPostingGr."G/L Bank Account No.",GenJnlLine,Balancing);
         OnMoveGenJournalLine(BankAccLedgEntry.RECORDID);
       END;
@@ -1076,9 +1277,14 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       NetDisposalNo@1007 : Integer;
       DimensionSetID@1008 : Integer;
       VATEntryGLEntryNo@1002 : Integer;
+      "***** Plexada Variables *****"@119451061 : Integer;
+      CurrCode@119451062 : Code[10];
+      CurrFactor@119451063 : Decimal;
     BEGIN
       WITH GenJnlLine DO BEGIN
-        InitGLEntry(GenJnlLine,GLEntry,'',"Amount (LCY)","Source Currency Amount",TRUE,"System-Created Entry");
+        //OS038s os.jgl
+        InitGLEntry(GenJnlLine,GLEntry,'',"Amount (LCY)",Amount,"Source Currency Amount",TRUE,"System-Created Entry");
+        //OS038e os.jgl
         GLEntry."Gen. Posting Type" := "Gen. Posting Type";
         GLEntry."Bal. Account Type" := "Bal. Account Type";
         GLEntry."Bal. Account No." := "Bal. Account No.";
@@ -1090,6 +1296,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         ShortcutDim2Code := "Shortcut Dimension 2 Code";
         DimensionSetID := "Dimension Set ID";
         Correction2 := Correction;
+        //OS030s os.jgl
+        CurrCode := "Currency Code";
+        CurrFactor := "Currency Factor";
+        //OS030e os.jgl
       END;
       WITH TempFAGLPostBuf DO
         IF FAJnlPostLine.FindFirstGLAcc(TempFAGLPostBuf) THEN
@@ -1098,13 +1308,26 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             GenJnlLine."Shortcut Dimension 2 Code" := "Global Dimension 2 Code";
             GenJnlLine."Dimension Set ID" := "Dimension Set ID";
             GenJnlLine.Correction := Correction;
+            //OS030s os.jgl
+            GenJnlLine."Currency Code" := CurrCode;
+            GenJnlLine."Currency Factor" := CurrFactor;
+            //OS030e os.jgl
             FADimAlreadyChecked := "FA Posting Group" <> '';
             CheckDimValueForDisposal(GenJnlLine,"Account No.");
-            IF "Original General Journal Line" THEN
-              InitGLEntry(GenJnlLine,GLEntry,"Account No.",Amount,GLEntry2."Additional-Currency Amount",TRUE,TRUE)
-            ELSE BEGIN
+            IF "Original General Journal Line" THEN BEGIN
+            //OS030s os.jgl
+              CheckNonAddCurrCodeOccurred(GenJnlLine."Currency Code");
+              //OS038s os.jgl
+              InitGLEntry(GenJnlLine,GLEntry,"Account No.",Amount,GLEntry2."Amount (FCY)",GLEntry2."Additional-Currency Amount",TRUE,TRUE)
+              //OS038e os.jgl
+            END ELSE BEGIN
+              GenJnlLine."Currency Code" := '';
+              GenJnlLine."Currency Factor" := 0;
+            //OS030e os.jgl
               CheckNonAddCurrCodeOccurred('');
-              InitGLEntry(GenJnlLine,GLEntry,"Account No.",Amount,0,FALSE,TRUE);
+              //OS038s os.jgl
+              InitGLEntry(GenJnlLine,GLEntry,"Account No.",Amount,Amount,0,FALSE,TRUE);
+              //OS038e os.jgl
             END;
             FADimAlreadyChecked := FALSE;
             GLEntry.CopyPostingGroupsFromGLEntry(GLEntry2);
@@ -1119,8 +1342,17 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               NetDisposalNo := 0;
             IF "Automatic Entry" AND NOT "Net Disposal" THEN
               FAAutomaticEntry.AdjustGLEntry(GLEntry);
-            IF NetDisposalNo > 1 THEN
+            //OS030s os.jgl
+            // ************************************************** Plexada ****************************************
+            // Standard Code:
+            // IF NetDisposalNo > 1 THEN
+            //   GLEntry."VAT Amount" := 0;
+            // ************************************************** Plexada ****************************************
+            IF NetDisposalNo > 1 THEN BEGIN
               GLEntry."VAT Amount" := 0;
+              GLEntry."VAT Amount (FCY)" := 0;
+            END;
+            //OS030e os.jgl
             IF "FA Posting Group" <> '' THEN BEGIN
               FAGLPostBuf := TempFAGLPostBuf;
               FAGLPostBuf."Entry No." := NextEntryNo;
@@ -1134,6 +1366,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       GenJnlLine."Shortcut Dimension 2 Code" := ShortcutDim2Code;
       GenJnlLine."Dimension Set ID" := DimensionSetID;
       GenJnlLine.Correction := Correction2;
+      //OS030s os.jgl
+      GenJnlLine."Currency Code" := CurrCode;
+      GenJnlLine."Currency Factor" := CurrFactor;
+      //OS030e os.jgl
       GLEntry := GLEntry2;
       IF VATEntryGLEntryNo = 0 THEN
         VATEntryGLEntryNo := GLEntry."Entry No.";
@@ -1160,9 +1396,11 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           AccountNo := ICPartner."Payables Account";
         END;
 
+        //OS038s os.jgl
         CreateGLEntryBalAcc(
-          GenJnlLine,AccountNo,"Amount (LCY)","Source Currency Amount",
+          GenJnlLine,AccountNo,"Amount (LCY)",Amount,"Source Currency Amount",
           "Bal. Account Type","Bal. Account No.");
+        //OS038e os.jgl
       END;
     END;
 
@@ -1235,8 +1473,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
         GetCurrencyExchRate(GenJnlLine);
         TempGLEntryBuf.DELETEALL;
+        //OS015s os.jgl
         CalculateCurrentBalance(
-          "Account No.","Bal. Account No.",IncludeVATAmount,"Amount (LCY)","VAT Amount");
+          "Account No.","Bal. Account No.",IncludeVATAmount,"Amount (LCY)","VAT Amount (LCY)");
+        //OS015e os.jgl
       END;
     END;
 
@@ -1333,14 +1573,21 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         PostUnrealizedVAT(GenJnlLine)
     END;
 
-    LOCAL PROCEDURE InitGLEntry@3(GenJnlLine@1008 : Record 81;VAR GLEntry@1009 : Record 17;GLAccNo@1000 : Code[20];Amount@1001 : Decimal;AmountAddCurr@1002 : Decimal;UseAmountAddCurr@1003 : Boolean;SystemCreatedEntry@1004 : Boolean);
+    LOCAL PROCEDURE InitGLEntry@3(GenJnlLine@1008 : Record 81;VAR GLEntry@1009 : Record 17;GLAccNo@1000 : Code[20];AmountLCY@1001 : Decimal;AmountFCY@119451022 : Decimal;AmountAddCurr@1002 : Decimal;UseAmountAddCurr@1003 : Boolean;SystemCreatedEntry@1004 : Boolean);
     VAR
       GLAcc@1007 : Record 15;
     BEGIN
       IF GLAccNo <> '' THEN BEGIN
         GLAcc.GET(GLAccNo);
-        GLAcc.TESTFIELD(Blocked,FALSE);
+        //OS002s os.jgl
+        IF NOT GenJnlLine."Force Post" THEN
+          GLAcc.TESTFIELD(Blocked,FALSE);
+        //OS002e os.jgl
         GLAcc.TESTFIELD("Account Type",GLAcc."Account Type"::Posting);
+        //OS009s os.jgl
+        IF (GLAcc."Currency Code"<>'') THEN
+          GLAcc.TESTFIELD("Currency Code",GenJnlLine."Currency Code");
+        //OS009e os.jgl
 
         // Check the Value Posting field on the G/L Account if it is not checked already in Codeunit 11
         IF (NOT
@@ -1358,31 +1605,42 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       GLEntry."Entry No." := NextEntryNo;
       GLEntry."Transaction No." := NextTransactionNo;
       GLEntry."G/L Account No." := GLAccNo;
+      //OS001s os.jgl
+      GLEntry.Amount := AmountLCY;
+      GLEntry."Amount (FCY)" := AmountFCY;
+      //OS001e os.jgl
       GLEntry."System-Created Entry" := SystemCreatedEntry;
-      GLEntry.Amount := Amount;
+      //OS038s os.jgl
       GLEntry."Additional-Currency Amount" :=
-        GLCalcAddCurrency(Amount,AmountAddCurr,GLEntry."Additional-Currency Amount",UseAmountAddCurr,GenJnlLine);
+        GLCalcAddCurrency(AmountLCY,AmountAddCurr,GLEntry."Additional-Currency Amount",UseAmountAddCurr,GenJnlLine);
+      //OS038e os.jgl
     END;
 
-    LOCAL PROCEDURE InitGLEntryVAT@113(GenJnlLine@1004 : Record 81;AccNo@1003 : Code[20];BalAccNo@1008 : Code[20];Amount@1002 : Decimal;AmountAddCurr@1001 : Decimal;UseAmtAddCurr@1007 : Boolean);
+    LOCAL PROCEDURE InitGLEntryVAT@113(GenJnlLine@1004 : Record 81;AccNo@1003 : Code[20];BalAccNo@1008 : Code[20];AmountLCY@1002 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1001 : Decimal;UseAmtAddCurr@1007 : Boolean);
     VAR
       GLEntry@1005 : Record 17;
     BEGIN
       IF UseAmtAddCurr THEN
-        InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,AmountAddCurr,TRUE,TRUE)
+        //OS038s os.jgl
+        InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,AmountAddCurr,TRUE,TRUE)
+        //OS038e os.jgl
       ELSE BEGIN
-        InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,0,FALSE,TRUE);
+        //OS038s os.jgl
+        InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,0,FALSE,TRUE);
+        //OS038e os.jgl
         GLEntry."Additional-Currency Amount" := AmountAddCurr;
         GLEntry."Bal. Account No." := BalAccNo;
       END;
       SummarizeVAT(GLSetup."Summarize G/L Entries",GLEntry);
     END;
 
-    LOCAL PROCEDURE InitGLEntryVATCopy@116(GenJnlLine@1001 : Record 81;AccNo@1003 : Code[20];BalAccNo@1007 : Code[20];Amount@1004 : Decimal;AmountAddCurr@1005 : Decimal;VATEntry@1008 : Record 254) : Integer;
+    LOCAL PROCEDURE InitGLEntryVATCopy@116(GenJnlLine@1001 : Record 81;AccNo@1003 : Code[20];BalAccNo@1007 : Code[20];AmountLCY@1004 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1005 : Decimal;VATEntry@1008 : Record 254) : Integer;
     VAR
       GLEntry@1000 : Record 17;
     BEGIN
-      InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,0,FALSE,TRUE);
+      //OS038s os.jgl
+      InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,0,FALSE,TRUE);
+      //OS038e os.jgl
       GLEntry."Additional-Currency Amount" := AmountAddCurr;
       GLEntry."Bal. Account No." := BalAccNo;
       GLEntry.CopyPostingGroupsFromVATEntry(VATEntry);
@@ -1423,24 +1681,30 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         HandleAddCurrResidualGLEntry(GenJnlLine,GLEntry.Amount,GLEntry."Additional-Currency Amount");
     END;
 
-    LOCAL PROCEDURE CreateGLEntry@112(GenJnlLine@1005 : Record 81;AccNo@1004 : Code[20];Amount@1003 : Decimal;AmountAddCurr@1002 : Decimal;UseAmountAddCurr@1006 : Boolean);
+    LOCAL PROCEDURE CreateGLEntry@112(GenJnlLine@1005 : Record 81;AccNo@1004 : Code[20];AmountLCY@1003 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1002 : Decimal;UseAmountAddCurr@1006 : Boolean);
     VAR
       GLEntry@1000 : Record 17;
     BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
       IF UseAmountAddCurr THEN
-        InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,AmountAddCurr,TRUE,TRUE)
+      //OS038s os.jgl
+        InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,AmountAddCurr,TRUE,TRUE)
       ELSE BEGIN
-        InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,0,FALSE,TRUE);
+        InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,0,FALSE,TRUE);
+      //OS038e os.jgl
         GLEntry."Additional-Currency Amount" := AmountAddCurr;
       END;
       InsertGLEntry(GenJnlLine,GLEntry,TRUE);
     END;
 
-    LOCAL PROCEDURE CreateGLEntryBalAcc@126(GenJnlLine@1005 : Record 81;AccNo@1004 : Code[20];Amount@1003 : Decimal;AmountAddCurr@1002 : Decimal;BalAccType@1008 : Option;BalAccNo@1007 : Code[20]);
+    LOCAL PROCEDURE CreateGLEntryBalAcc@126(GenJnlLine@1005 : Record 81;AccNo@1004 : Code[20];AmountLCY@1003 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1002 : Decimal;BalAccType@1008 : Option;BalAccNo@1007 : Code[20]);
     VAR
       GLEntry@1000 : Record 17;
     BEGIN
-      InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,AmountAddCurr,TRUE,TRUE);
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
+      //OS038s os.jgl
+      InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,AmountAddCurr,TRUE,TRUE);
+      //OS038e os.jgl
       GLEntry."Bal. Account Type" := BalAccType;
       GLEntry."Bal. Account No." := BalAccNo;
       InsertGLEntry(GenJnlLine,GLEntry,TRUE);
@@ -1451,40 +1715,54 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
     VAR
       GLEntry@1000 : Record 17;
     BEGIN
-      InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,0,UseAmountAddCurr,TRUE);
+      //OS040s os.jgl
+      InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,0,0,UseAmountAddCurr,TRUE);
+      //OS040e os.jgl
       InsertGLEntry(GenJnlLine,GLEntry,TRUE);
     END;
 
-    LOCAL PROCEDURE CreateGLEntryVAT@117(GenJnlLine@1004 : Record 81;AccNo@1003 : Code[20];Amount@1002 : Decimal;AmountAddCurr@1001 : Decimal;VATAmount@1005 : Decimal;DtldCVLedgEntryBuf@1006 : Record 383);
+    LOCAL PROCEDURE CreateGLEntryVAT@117(GenJnlLine@1004 : Record 81;AccNo@1003 : Code[20];AmountLCY@1002 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1001 : Decimal;VATAmountLCY@1005 : Decimal;VATAmountFCY@119451022 : Decimal;DtldCVLedgEntryBuf@1006 : Record 383);
     VAR
       GLEntry@1000 : Record 17;
     BEGIN
-      InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,0,FALSE,TRUE);
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
+      //OS038s os.jgl
+      InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,0,FALSE,TRUE);
       GLEntry."Additional-Currency Amount" := AmountAddCurr;
-      GLEntry."VAT Amount" := VATAmount;
+      GLEntry."VAT Amount" := VATAmountLCY;
+      GLEntry."VAT Amount (FCY)" := VATAmountFCY;
+      //OS038e os.jgl
       GLEntry.CopyPostingGroupsFromDtldCVBuf(DtldCVLedgEntryBuf,DtldCVLedgEntryBuf."Gen. Posting Type");
       InsertGLEntry(GenJnlLine,GLEntry,TRUE);
       InsertVATEntriesFromTemp(DtldCVLedgEntryBuf,GLEntry);
     END;
 
-    LOCAL PROCEDURE CreateGLEntryVATCollectAdj@110(GenJnlLine@1004 : Record 81;AccNo@1003 : Code[20];Amount@1002 : Decimal;AmountAddCurr@1001 : Decimal;VATAmount@1005 : Decimal;DtldCVLedgEntryBuf@1006 : Record 383;VAR AdjAmount@1007 : ARRAY [4] OF Decimal);
+    LOCAL PROCEDURE CreateGLEntryVATCollectAdj@110(GenJnlLine@1004 : Record 81;AccNo@1003 : Code[20];AmountLCY@1002 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1001 : Decimal;VATAmountLCY@1005 : Decimal;VATAmountFCY@119451022 : Decimal;DtldCVLedgEntryBuf@1006 : Record 383;VAR CVPostBuf@1007 : TEMPORARY Record 5274200);
     VAR
       GLEntry@1000 : Record 17;
     BEGIN
-      InitGLEntry(GenJnlLine,GLEntry,AccNo,Amount,0,FALSE,TRUE);
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr, CVPostBuf
+      //OS038s os.jgl
+      InitGLEntry(GenJnlLine,GLEntry,AccNo,AmountLCY,AmountFCY,0,FALSE,TRUE);
       GLEntry."Additional-Currency Amount" := AmountAddCurr;
-      GLEntry."VAT Amount" := VATAmount;
+      GLEntry."VAT Amount" := VATAmountLCY;
+      GLEntry."VAT Amount (FCY)" := VATAmountFCY;
       GLEntry.CopyPostingGroupsFromDtldCVBuf(DtldCVLedgEntryBuf,DtldCVLedgEntryBuf."Gen. Posting Type");
       InsertGLEntry(GenJnlLine,GLEntry,TRUE);
-      CollectAdjustment(AdjAmount,GLEntry.Amount,GLEntry."Additional-Currency Amount");
+      CollectAdjustment(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+        GLEntry.Amount,GLEntry."Amount (FCY)",GLEntry."Additional-Currency Amount");
+      //OS038e os.jgl
       InsertVATEntriesFromTemp(DtldCVLedgEntryBuf,GLEntry);
     END;
 
-    LOCAL PROCEDURE CreateGLEntryFromVATEntry@22(GenJnlLine@1000 : Record 81;VATAccNo@1002 : Code[20];Amount@1003 : Decimal;AmountAddCurr@1004 : Decimal;VATEntry@1005 : Record 254);
+    LOCAL PROCEDURE CreateGLEntryFromVATEntry@22(GenJnlLine@1000 : Record 81;VATAccNo@1002 : Code[20];AmountLCY@1003 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1004 : Decimal;VATEntry@1005 : Record 254);
     VAR
       GLEntry@1001 : Record 17;
     BEGIN
-      InitGLEntry(GenJnlLine,GLEntry,VATAccNo,Amount,0,FALSE,TRUE);
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
+      //OS038s os.jgl
+      InitGLEntry(GenJnlLine,GLEntry,VATAccNo,AmountLCY,AmountFCY,0,FALSE,TRUE);
+      //OS038e os.jgl
       GLEntry."Additional-Currency Amount" := AmountAddCurr;
       GLEntry.CopyPostingGroupsFromVATEntry(VATEntry);
       InsertGLEntry(GenJnlLine,GLEntry,TRUE);
@@ -1606,13 +1884,17 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         PmtTolAddCurr := CalcLCYToAddCurr(PmtTolLCY);
 
       IF NOT GLSetup."Pmt. Disc. Excl. VAT" AND GLSetup."Adjust for Payment Disc." AND (PmtTolLCY <> 0) THEN
+      //PX001s px.jgl
+        //OS038s os.jgl
         CalcPmtDiscIfAdjVAT(
-          NewCVLedgEntryBuf,OldCVLedgEntryBuf2,DtldCVLedgEntryBuf,GenJnlLine,PmtTolLCY,PmtTolAddCurr,
-          NextTransactionNo,FirstNewVATEntryNo,DtldCVLedgEntryBuf."Entry Type"::"Payment Tolerance (VAT Excl.)");
+          NewCVLedgEntryBuf,OldCVLedgEntryBuf2,DtldCVLedgEntryBuf,GenJnlLine,PmtTolLCY,PmtTol,PmtTolAddCurr,
+          NextTransactionNo,FirstNewVATEntryNo,DtldCVLedgEntryBuf."Entry Type"::"Payment Tolerance (VAT Excl.)",NextTransactionNo);
+        //OS038e os.jgl
 
       DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
         GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
-        DtldCVLedgEntryBuf."Entry Type"::"Payment Tolerance",PmtTol,PmtTolLCY,PmtTolAddCurr,0,0,0);
+        DtldCVLedgEntryBuf."Entry Type"::"Payment Tolerance",PmtTol,PmtTolLCY,PmtTolAddCurr,0,0,0,NextTransactionNo);
+      //PX001e px.jgl
     END;
 
     LOCAL PROCEDURE CalcPmtDisc@50(VAR NewCVLedgEntryBuf@1000 : Record 382;VAR OldCVLedgEntryBuf@1001 : Record 382;VAR OldCVLedgEntryBuf2@1002 : Record 382;VAR DtldCVLedgEntryBuf@1003 : Record 383;GenJnlLine@1004 : Record 81;PmtTolAmtToBeApplied@1012 : Decimal;ApplnRoundingPrecision@1006 : Decimal;NextTransactionNo@1007 : Integer;FirstNewVATEntryNo@1008 : Integer);
@@ -1649,44 +1931,66 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         IF NOT GLSetup."Pmt. Disc. Excl. VAT" AND GLSetup."Adjust for Payment Disc." AND
            (PmtDiscLCY <> 0)
         THEN
+        //PX001s px.jgl
+          //OS038s os.jgl
           CalcPmtDiscIfAdjVAT(
-            NewCVLedgEntryBuf,OldCVLedgEntryBuf2,DtldCVLedgEntryBuf,GenJnlLine,PmtDiscLCY,PmtDiscAddCurr,
-            NextTransactionNo,FirstNewVATEntryNo,DtldCVLedgEntryBuf."Entry Type"::"Payment Discount (VAT Excl.)");
+            NewCVLedgEntryBuf,OldCVLedgEntryBuf2,DtldCVLedgEntryBuf,GenJnlLine,PmtDiscLCY,PmtDisc,PmtDiscAddCurr,
+            NextTransactionNo,FirstNewVATEntryNo,DtldCVLedgEntryBuf."Entry Type"::"Payment Discount (VAT Excl.)",NextTransactionNo);
+          //OS038e os.jgl
 
         DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
           GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
-          DtldCVLedgEntryBuf."Entry Type"::"Payment Discount",PmtDisc,PmtDiscLCY,PmtDiscAddCurr,0,0,0);
+          DtldCVLedgEntryBuf."Entry Type"::"Payment Discount",PmtDisc,PmtDiscLCY,PmtDiscAddCurr,0,0,0,NextTransactionNo);
+        //PX001e px.jgl
       END;
     END;
 
-    LOCAL PROCEDURE CalcPmtDiscIfAdjVAT@49(VAR NewCVLedgEntryBuf@1000 : Record 382;VAR OldCVLedgEntryBuf@1001 : Record 382;VAR DtldCVLedgEntryBuf@1002 : Record 383;GenJnlLine@1003 : Record 81;VAR PmtDiscLCY2@1005 : Decimal;VAR PmtDiscAddCurr2@1006 : Decimal;NextTransactionNo@1007 : Integer;FirstNewVATEntryNo@1008 : Integer;EntryType@1009 : Integer);
+    LOCAL PROCEDURE CalcPmtDiscIfAdjVAT@49(VAR NewCVLedgEntryBuf@1000 : Record 382;VAR OldCVLedgEntryBuf@1001 : Record 382;VAR DtldCVLedgEntryBuf@1002 : Record 383;GenJnlLine@1003 : Record 81;VAR PmtDiscLCY2@1005 : Decimal;VAR PmtDiscFCY2@119451021 : Decimal;VAR PmtDiscAddCurr2@1006 : Decimal;NextTransactionNo@1007 : Integer;FirstNewVATEntryNo@1008 : Integer;EntryType@1009 : Integer;ApplicationTransactionNo@119451121 : Integer);
     VAR
       VATEntry2@1011 : Record 254;
       VATPostingSetup@1012 : Record 325;
       TaxJurisdiction@1013 : Record 320;
       DtldCVLedgEntryBuf2@1015 : Record 383;
       OriginalAmountAddCurr@1016 : Decimal;
-      PmtDiscRounding@1017 : Decimal;
       PmtDiscRoundingAddCurr@1018 : Decimal;
       PmtDiscFactorLCY@1019 : Decimal;
       PmtDiscFactorAddCurr@1020 : Decimal;
-      VATBase@1021 : Decimal;
       VATBaseAddCurr@1022 : Decimal;
-      VATAmount@1023 : Decimal;
       VATAmountAddCurr@1024 : Decimal;
-      TotalVATAmount@1025 : Decimal;
       LastConnectionNo@1026 : Integer;
       VATEntryModifier@1027 : Integer;
-    BEGIN
+      "***** Plexada Renamed *****"@119451029 : Integer;
+      PmtDiscRoundingLCY@119451030 : Decimal;
+      VATBaseLCY@119451031 : Decimal;
+      VATAmountLCY@119451032 : Decimal;
+      TotalVATAmountLCY@119451033 : Decimal;
+      "***** Plexada Variables *****"@119451028 : Integer;
+      ForeignCurrency@119451022 : Record 4;
+      PmtDiscRoundingFCY@119451023 : Decimal;
+      PmtDiscFactorFCY@119451024 : Decimal;
+      VATBaseFCY@119451025 : Decimal;
+      VATAmountFCY@119451026 : Decimal;
+      TotalVATAmountFCY@119451027 : Decimal;
+    BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
+      //OS038 os.jgl  renaming of variables to ..LCY, ..FCY, ..AddCurr
       IF OldCVLedgEntryBuf."Original Amt. (LCY)" = 0 THEN
         EXIT;
+      //OS001s os.jgl
+      IF NOT ForeignCurrency.GET(OldCVLedgEntryBuf."Currency Code") THEN
+        ForeignCurrency.InitRoundingPrecision;
+      //OS001e os.jgl
 
       IF (AddCurrencyCode = '') OR (AddCurrencyCode = OldCVLedgEntryBuf."Currency Code") THEN
         OriginalAmountAddCurr := OldCVLedgEntryBuf.Amount
       ELSE
         OriginalAmountAddCurr := CalcLCYToAddCurr(OldCVLedgEntryBuf."Original Amt. (LCY)");
 
-      PmtDiscRounding := PmtDiscLCY2;
+      //OS001s os.jgl
+      PmtDiscRoundingFCY := PmtDiscFCY2;
+      PmtDiscFactorFCY := PmtDiscFCY2 / OldCVLedgEntryBuf."Original Amount";
+      //OS001e os.jgl
+      PmtDiscRoundingLCY := PmtDiscLCY2;
       PmtDiscFactorLCY := PmtDiscLCY2 / OldCVLedgEntryBuf."Original Amt. (LCY)";
       IF OriginalAmountAddCurr <> 0 THEN
         PmtDiscFactorAddCurr := PmtDiscAddCurr2 / OriginalAmountAddCurr
@@ -1698,7 +2002,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       IF OldCVLedgEntryBuf."Transaction No." = NextTransactionNo THEN
         VATEntry2.SETRANGE("Entry No.",0,FirstNewVATEntryNo - 1);
       IF VATEntry2.FINDSET THEN BEGIN
-        TotalVATAmount := 0;
+        //OS001s os.jgl
+        TotalVATAmountFCY := 0;
+        //OS001e os.jgl
+        TotalVATAmountLCY := 0;
         LastConnectionNo := 0;
         REPEAT
           VATPostingSetup.GET(VATEntry2."VAT Bus. Posting Group",VATEntry2."VAT Prod. Posting Group");
@@ -1713,27 +2020,39 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             IF LastConnectionNo <> VATEntry2."Sales Tax Connection No." THEN BEGIN
               IF LastConnectionNo <> 0 THEN BEGIN
                 DtldCVLedgEntryBuf := DtldCVLedgEntryBuf2;
-                DtldCVLedgEntryBuf."VAT Amount (LCY)" := -TotalVATAmount;
+                //OS001s os.jgl
+                DtldCVLedgEntryBuf."VAT Amount" := -TotalVATAmountFCY;
+                //OS001e os.jgl
+                DtldCVLedgEntryBuf."VAT Amount (LCY)" := -TotalVATAmountLCY;
                 DtldCVLedgEntryBuf.InsertDtldCVLedgEntry(DtldCVLedgEntryBuf,NewCVLedgEntryBuf,FALSE);
                 InsertSummarizedVAT(GenJnlLine);
               END;
 
-              CalcPmtDiscVATBases(VATEntry2,VATBase,VATBaseAddCurr);
-
-              PmtDiscRounding := PmtDiscRounding + VATBase * PmtDiscFactorLCY;
-              VATBase := ROUND(PmtDiscRounding - PmtDiscLCY2);
-              PmtDiscLCY2 := PmtDiscLCY2 + VATBase;
+              CalcPmtDiscVATBases(VATEntry2,VATBaseLCY,VATBaseFCY,VATBaseAddCurr);
 
+              //OS001s os.jgl
+              PmtDiscRoundingFCY := PmtDiscRoundingFCY + VATBaseFCY  * PmtDiscFactorFCY;
+              VATBaseFCY := ROUND(PmtDiscRoundingFCY - PmtDiscFCY2,ForeignCurrency."Amount Rounding Precision");
+              PmtDiscRoundingLCY := PmtDiscRoundingLCY + VATBaseLCY * PmtDiscFactorLCY;
+              VATBaseLCY := ROUND(PmtDiscRoundingLCY - PmtDiscLCY2);
+              //OS001 VATBaseAddCurr will be calculated from (unrounded) VATBaseLCY, to avoid double rounding the order of calculations is changed
               PmtDiscRoundingAddCurr := PmtDiscRoundingAddCurr + VATBaseAddCurr * PmtDiscFactorAddCurr;
-              VATBaseAddCurr := ROUND(CalcLCYToAddCurr(VATBase),AddCurrency."Amount Rounding Precision");
+              VATBaseAddCurr := CalcLCYToAddCurr(PmtDiscRoundingLCY - PmtDiscLCY2);
+
+              PmtDiscFCY2 := PmtDiscFCY2 + VATBaseFCY;
+              PmtDiscLCY2 := PmtDiscLCY2 + VATBaseLCY;
               PmtDiscAddCurr2 := PmtDiscAddCurr2 + VATBaseAddCurr;
+              //OS001e os.jgl
 
               DtldCVLedgEntryBuf2.INIT;
               DtldCVLedgEntryBuf2."Posting Date" := GenJnlLine."Posting Date";
               DtldCVLedgEntryBuf2."Document Type" := GenJnlLine."Document Type";
               DtldCVLedgEntryBuf2."Document No." := GenJnlLine."Document No.";
-              DtldCVLedgEntryBuf2.Amount := 0;
-              DtldCVLedgEntryBuf2."Amount (LCY)" := -VATBase;
+              //OS001s os.jgl
+              //DtldCVLedgEntryBuf2.Amount := 0;
+              DtldCVLedgEntryBuf2.Amount := -VATBaseFCY;
+              //OS001e os.jgl
+              DtldCVLedgEntryBuf2."Amount (LCY)" := -VATBaseLCY;
               DtldCVLedgEntryBuf2."Entry Type" := EntryType;
               CASE EntryType OF
                 DtldCVLedgEntryBuf."Entry Type"::"Payment Discount Tolerance (VAT Excl.)":
@@ -1744,20 +2063,31 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                   VATEntryModifier := 3000000;
               END;
               DtldCVLedgEntryBuf2.CopyFromCVLedgEntryBuf(NewCVLedgEntryBuf);
+              //PX001s px.jgl
+              DtldCVLedgEntryBuf2."Application Transaction No." := ApplicationTransactionNo;
+              //PX001e px.jgl
               // The total payment discount in currency is posted on the entry made in
               // the function CalcPmtDisc.
               DtldCVLedgEntryBuf2."User ID" := USERID;
               DtldCVLedgEntryBuf2."Additional-Currency Amount" := -VATBaseAddCurr;
               DtldCVLedgEntryBuf2.CopyPostingGroupsFromVATEntry(VATEntry2);
-              TotalVATAmount := 0;
+              //OS001s os.jgl
+              TotalVATAmountFCY := 0;
+              //OS001e os.jgl
+              TotalVATAmountLCY := 0;
               LastConnectionNo := VATEntry2."Sales Tax Connection No.";
             END;
 
+            //OS038s os.jgl
             CalcPmtDiscVATAmounts(
-              VATEntry2,VATBase,VATBaseAddCurr,VATAmount,VATAmountAddCurr,
-              PmtDiscRounding,PmtDiscFactorLCY,PmtDiscLCY2,PmtDiscAddCurr2);
+              VATEntry2,VATBaseLCY,VATBaseFCY,VATBaseAddCurr,VATAmountLCY,VATAmountFCY,VATAmountAddCurr,
+              PmtDiscRoundingLCY,PmtDiscFactorLCY,PmtDiscRoundingFCY,PmtDiscFactorFCY,PmtDiscLCY2,PmtDiscFCY2,PmtDiscAddCurr2);
+            //OS038e os.jgl
 
-            TotalVATAmount := TotalVATAmount + VATAmount;
+            //OS001s os.jgl
+            TotalVATAmountFCY := TotalVATAmountFCY + VATAmountFCY;
+            //OS001e os.jgl
+            TotalVATAmountLCY := TotalVATAmountLCY + VATAmountLCY;
 
             IF (PmtDiscAddCurr2 <> 0) AND (PmtDiscLCY2 = 0) THEN BEGIN
               VATAmountAddCurr := VATAmountAddCurr - PmtDiscAddCurr2;
@@ -1766,22 +2096,31 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
             // Post VAT
             // VAT for VAT entry
+            //OS038s os.jgl
             IF VATEntry2.Type <> 0 THEN
+            //PX001s px.jgl
               InsertPmtDiscVATForVATEntry(
                 GenJnlLine,TempVATEntry,VATEntry2,VATEntryModifier,
-                VATAmount,VATAmountAddCurr,VATBase,VATBaseAddCurr,
-                PmtDiscFactorLCY,PmtDiscFactorAddCurr);
+                VATAmountLCY,VATAmountFCY,VATAmountAddCurr,VATBaseLCY,VATBaseFCY,VATBaseAddCurr,
+                PmtDiscFactorLCY,PmtDiscFactorFCY,PmtDiscFactorAddCurr,ApplicationTransactionNo);
+            //OS038e os.jgl
 
             // VAT for G/L entry/entries
+            //OS038s os.jgl
             InsertPmtDiscVATForGLEntry(
               GenJnlLine,DtldCVLedgEntryBuf,NewCVLedgEntryBuf,VATEntry2,
-              VATPostingSetup,TaxJurisdiction,EntryType,VATAmount,VATAmountAddCurr);
+              VATPostingSetup,TaxJurisdiction,EntryType,VATAmountLCY,VATAmountFCY,VATAmountAddCurr,ApplicationTransactionNo);
+            //OS038e os.jgl
+            //PX001e px.jgl
           END;
         UNTIL VATEntry2.NEXT = 0;
 
         IF LastConnectionNo <> 0 THEN BEGIN
           DtldCVLedgEntryBuf := DtldCVLedgEntryBuf2;
-          DtldCVLedgEntryBuf."VAT Amount (LCY)" := -TotalVATAmount;
+          DtldCVLedgEntryBuf."VAT Amount (LCY)" := -TotalVATAmountLCY;
+          //OS038s os.jgl
+          DtldCVLedgEntryBuf."VAT Amount" := -TotalVATAmountFCY;
+          //OS038e os.jgl
           DtldCVLedgEntryBuf.InsertDtldCVLedgEntry(DtldCVLedgEntryBuf,NewCVLedgEntryBuf,TRUE);
           InsertSummarizedVAT(GenJnlLine);
         END;
@@ -1790,47 +2129,57 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
     LOCAL PROCEDURE CalcPmtDiscTolerance@60(VAR NewCVLedgEntryBuf@1008 : Record 382;VAR OldCVLedgEntryBuf@1007 : Record 382;VAR OldCVLedgEntryBuf2@1006 : Record 382;VAR DtldCVLedgEntryBuf@1005 : Record 383;GenJnlLine@1004 : Record 81;NextTransactionNo@1001 : Integer;FirstNewVATEntryNo@1000 : Integer);
     VAR
-      PmtDiscTol@1011 : Decimal;
+      PmtDiscTolFCY@1011 : Decimal;
       PmtDiscTolLCY@1010 : Decimal;
       PmtDiscTolAddCurr@1009 : Decimal;
     BEGIN
+      //OS038 os.jgl  renaming of variables to ..LCY, ..FCY, ..AddCurr
       IF NOT OldCVLedgEntryBuf2."Accepted Pmt. Disc. Tolerance" THEN
         EXIT;
 
-      PmtDiscTol := -OldCVLedgEntryBuf2."Remaining Pmt. Disc. Possible";
+      PmtDiscTolFCY := -OldCVLedgEntryBuf2."Remaining Pmt. Disc. Possible";
       PmtDiscTolLCY :=
         ROUND(
-          (NewCVLedgEntryBuf."Original Amount" + PmtDiscTol) / NewCVLedgEntryBuf."Original Currency Factor") -
+          (NewCVLedgEntryBuf."Original Amount" + PmtDiscTolFCY) / NewCVLedgEntryBuf."Original Currency Factor") -
         NewCVLedgEntryBuf."Original Amt. (LCY)";
 
       OldCVLedgEntryBuf."Pmt. Disc. Given (LCY)" := -PmtDiscTolLCY;
 
       IF NewCVLedgEntryBuf."Currency Code" = AddCurrencyCode THEN
-        PmtDiscTolAddCurr := PmtDiscTol
+        PmtDiscTolAddCurr := PmtDiscTolFCY
       ELSE
         PmtDiscTolAddCurr := CalcLCYToAddCurr(PmtDiscTolLCY);
 
       IF NOT GLSetup."Pmt. Disc. Excl. VAT" AND GLSetup."Adjust for Payment Disc." AND (PmtDiscTolLCY <> 0) THEN
+      //PX001s px.jgl
+        //OS038s os.jgl
         CalcPmtDiscIfAdjVAT(
-          NewCVLedgEntryBuf,OldCVLedgEntryBuf2,DtldCVLedgEntryBuf,GenJnlLine,PmtDiscTolLCY,PmtDiscTolAddCurr,
-          NextTransactionNo,FirstNewVATEntryNo,DtldCVLedgEntryBuf."Entry Type"::"Payment Discount Tolerance (VAT Excl.)");
+          NewCVLedgEntryBuf,OldCVLedgEntryBuf2,DtldCVLedgEntryBuf,GenJnlLine,PmtDiscTolLCY,PmtDiscTolFCY,PmtDiscTolAddCurr,
+          NextTransactionNo,FirstNewVATEntryNo,DtldCVLedgEntryBuf."Entry Type"::"Payment Discount Tolerance (VAT Excl.)",NextTransactionNo);
+        //OS038e os.jgl
 
       DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
         GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
-        DtldCVLedgEntryBuf."Entry Type"::"Payment Discount Tolerance",PmtDiscTol,PmtDiscTolLCY,PmtDiscTolAddCurr,0,0,0);
+        DtldCVLedgEntryBuf."Entry Type"::"Payment Discount Tolerance",PmtDiscTolFCY,PmtDiscTolLCY,PmtDiscTolAddCurr,0,0,0,NextTransactionNo);
+      //PX001e px.jgl
     END;
 
-    LOCAL PROCEDURE CalcPmtDiscVATBases@118(VATEntry2@1001 : Record 254;VAR VATBase@1002 : Decimal;VAR VATBaseAddCurr@1003 : Decimal);
+    LOCAL PROCEDURE CalcPmtDiscVATBases@118(VATEntry2@1001 : Record 254;VAR VATBaseLCY@1002 : Decimal;VAR VATBaseFCY@119451021 : Decimal;VAR VATBaseAddCurr@1003 : Decimal);
     VAR
       VATEntry@1000 : Record 254;
     BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
       CASE VATEntry2."VAT Calculation Type" OF
         VATEntry2."VAT Calculation Type"::"Normal VAT",
         VATEntry2."VAT Calculation Type"::"Reverse Charge VAT",
         VATEntry2."VAT Calculation Type"::"Full VAT":
           BEGIN
-            VATBase :=
+            VATBaseLCY :=
               VATEntry2.Base + VATEntry2."Unrealized Base";
+            //OS038s os.jgl previously OS001
+            VATBaseFCY :=
+              VATEntry2."Base (FCY)" + VATEntry2."Unrealized Base (FCY)";
+            //OS038e os.jgl
             VATBaseAddCurr :=
               VATEntry2."Additional-Currency Base" +
               VATEntry2."Add.-Currency Unrealized Base";
@@ -1849,8 +2198,12 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                 VATEntry.SETFILTER(Base,'<%1',VATEntry.Base);
             UNTIL NOT VATEntry.FINDLAST;
             VATEntry.RESET;
-            VATBase :=
+            VATBaseLCY :=
               VATEntry.Base + VATEntry."Unrealized Base";
+            //OS038s os.jgl previously OS001
+            VATBaseFCY :=
+              VATEntry."Base (FCY)" + VATEntry."Unrealized Base (FCY)";
+            //OS038e os.jgl
             VATBaseAddCurr :=
               VATEntry."Additional-Currency Base" +
               VATEntry."Add.-Currency Unrealized Base";
@@ -1858,79 +2211,133 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       END;
     END;
 
-    LOCAL PROCEDURE CalcPmtDiscVATAmounts@129(VATEntry2@1000 : Record 254;VATBase@1001 : Decimal;VATBaseAddCurr@1007 : Decimal;VAR VATAmount@1002 : Decimal;VAR VATAmountAddCurr@1003 : Decimal;VAR PmtDiscRounding@1004 : Decimal;PmtDiscFactorLCY@1005 : Decimal;VAR PmtDiscLCY2@1006 : Decimal;VAR PmtDiscAddCurr2@1008 : Decimal);
+    LOCAL PROCEDURE CalcPmtDiscVATAmounts@129(VATEntry2@1000 : Record 254;VATBaseLCY@1001 : Decimal;VATBaseFCY@119451021 : Decimal;VATBaseAddCurr@1007 : Decimal;VAR VATAmountLCY@1002 : Decimal;VAR VATAmountFCY@119451022 : Decimal;VAR VATAmountAddCurr@1003 : Decimal;VAR PmtDiscRoundingLCY@1004 : Decimal;PmtDiscFactorLCY@1005 : Decimal;VAR PmtDiscRoundingFCY@119451024 : Decimal;PmtDiscFactorFCY@119451025 : Decimal;VAR PmtDiscLCY2@1006 : Decimal;VAR PmtDiscFCY2@119451023 : Decimal;VAR PmtDiscAddCurr2@1008 : Decimal);
     BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
+      //OS038 os.jgl  renaming of variables to ..LCY, ..FCY, ..AddCurr
       CASE VATEntry2."VAT Calculation Type" OF
         VATEntry2."VAT Calculation Type"::"Normal VAT",
         VATEntry2."VAT Calculation Type"::"Full VAT":
           IF (VATEntry2.Amount + VATEntry2."Unrealized Amount" <> 0) OR
+             //OS038s os.jgl
+             (VATEntry2."Amount (FCY)" + VATEntry2."Unrealized Amount (FCY)" <> 0) OR
+             //OS038e os.jgl
              (VATEntry2."Additional-Currency Amount" + VATEntry2."Add.-Currency Unrealized Amt." <> 0)
           THEN BEGIN
-            IF (VATBase = 0) AND
+            IF (VATBaseLCY = 0) AND
                (VATEntry2."VAT Calculation Type" <> VATEntry2."VAT Calculation Type"::"Full VAT")
             THEN
-              VATAmount := 0
+              VATAmountLCY := 0
             ELSE BEGIN
-              PmtDiscRounding :=
-                PmtDiscRounding +
+              PmtDiscRoundingLCY :=
+                PmtDiscRoundingLCY +
                 (VATEntry2.Amount + VATEntry2."Unrealized Amount") * PmtDiscFactorLCY;
-              VATAmount := ROUND(PmtDiscRounding - PmtDiscLCY2);
-              PmtDiscLCY2 := PmtDiscLCY2 + VATAmount;
+              VATAmountLCY := ROUND(PmtDiscRoundingLCY - PmtDiscLCY2);
+              PmtDiscLCY2 := PmtDiscLCY2 + VATAmountLCY;
             END;
+            //OS038s os.jgl
+            IF (VATBaseFCY = 0) AND
+               (VATEntry2."VAT Calculation Type" <> VATEntry2."VAT Calculation Type"::"Full VAT")
+            THEN
+              VATAmountFCY := 0
+            ELSE BEGIN
+              PmtDiscRoundingFCY :=
+                PmtDiscRoundingFCY +
+                (VATEntry2."Amount (FCY)" + VATEntry2."Unrealized Amount (FCY)") * PmtDiscFactorFCY;
+              VATAmountFCY := ROUND(PmtDiscRoundingFCY - PmtDiscFCY2);
+              PmtDiscFCY2 := PmtDiscFCY2 + VATAmountFCY;
+            END;
+            //OS038e os.jgl
             IF (VATBaseAddCurr = 0) AND
                (VATEntry2."VAT Calculation Type" <> VATEntry2."VAT Calculation Type"::"Full VAT")
             THEN
               VATAmountAddCurr := 0
             ELSE BEGIN
-              VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmount),AddCurrency."Amount Rounding Precision");
+              VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmountLCY),AddCurrency."Amount Rounding Precision");
               PmtDiscAddCurr2 := PmtDiscAddCurr2 + VATAmountAddCurr;
             END;
           END ELSE BEGIN
-            VATAmount := 0;
+            VATAmountLCY := 0;
+            //OS038s os.jgl
+            VATAmountFCY := 0;
+            //OS038e os.jgl
             VATAmountAddCurr := 0;
           END;
         VATEntry2."VAT Calculation Type"::"Reverse Charge VAT":
           BEGIN
-            VATAmount :=
+            VATAmountLCY :=
               ROUND((VATEntry2.Amount + VATEntry2."Unrealized Amount") * PmtDiscFactorLCY);
-            VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmount),AddCurrency."Amount Rounding Precision");
+            //OS038s os.jgl
+            VATAmountFCY :=
+              ROUND((VATEntry2."Amount (FCY)" + VATEntry2."Unrealized Amount (FCY)") * PmtDiscFactorFCY);
+            //OS038e os.jgl
+            VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmountLCY),AddCurrency."Amount Rounding Precision");
           END;
         VATEntry2."VAT Calculation Type"::"Sales Tax":
           IF (VATEntry2.Type = VATEntry2.Type::Purchase) AND VATEntry2."Use Tax" THEN BEGIN
-            VATAmount :=
+            VATAmountLCY :=
               ROUND((VATEntry2.Amount + VATEntry2."Unrealized Amount") * PmtDiscFactorLCY);
-            VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmount),AddCurrency."Amount Rounding Precision");
+            //OS038s os.jgl
+            VATAmountFCY :=
+              ROUND((VATEntry2."Amount (FCY)" + VATEntry2."Unrealized Amount (FCY)") * PmtDiscFactorFCY);
+            //OS038e os.jgl
+            VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmountLCY),AddCurrency."Amount Rounding Precision");
           END ELSE
             IF (VATEntry2.Amount + VATEntry2."Unrealized Amount" <> 0) OR
+               //OS038s os.jgl
+               (VATEntry2."Amount (FCY)" + VATEntry2."Unrealized Amount (FCY)" <> 0) OR
+               //OS038e os.jgl
                (VATEntry2."Additional-Currency Amount" + VATEntry2."Add.-Currency Unrealized Amt." <> 0)
             THEN BEGIN
-              IF VATBase = 0 THEN
-                VATAmount := 0
+              IF VATBaseLCY = 0 THEN
+                VATAmountLCY := 0
               ELSE BEGIN
-                PmtDiscRounding :=
-                  PmtDiscRounding +
+                PmtDiscRoundingLCY :=
+                  PmtDiscRoundingLCY +
                   (VATEntry2.Amount + VATEntry2."Unrealized Amount") * PmtDiscFactorLCY;
-                VATAmount := ROUND(PmtDiscRounding - PmtDiscLCY2);
-                PmtDiscLCY2 := PmtDiscLCY2 + VATAmount;
+                VATAmountLCY := ROUND(PmtDiscRoundingLCY - PmtDiscLCY2);
+                PmtDiscLCY2 := PmtDiscLCY2 + VATAmountLCY;
+              END;
+
+              //OS038s os.jgl
+              IF VATBaseFCY = 0 THEN
+                VATAmountFCY := 0
+              ELSE BEGIN
+                PmtDiscRoundingFCY :=
+                  PmtDiscRoundingFCY +
+                  (VATEntry2."Amount (FCY)" + VATEntry2."Unrealized Amount (FCY)") * PmtDiscFactorFCY;
+                VATAmountFCY := ROUND(PmtDiscRoundingFCY - PmtDiscFCY2);
+                PmtDiscFCY2 := PmtDiscFCY2 + VATAmountFCY;
               END;
+              //OS038e os.jgl
 
               IF VATBaseAddCurr = 0 THEN
                 VATAmountAddCurr := 0
               ELSE BEGIN
-                VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmount),AddCurrency."Amount Rounding Precision");
+                VATAmountAddCurr := ROUND(CalcLCYToAddCurr(VATAmountLCY),AddCurrency."Amount Rounding Precision");
                 PmtDiscAddCurr2 := PmtDiscAddCurr2 + VATAmountAddCurr;
               END;
             END ELSE BEGIN
-              VATAmount := 0;
+              VATAmountLCY := 0;
+              //OS038s os.jgl
+              VATAmountFCY := 0;
+              //OS038e os.jgl
               VATAmountAddCurr := 0;
             END;
       END;
     END;
 
-    LOCAL PROCEDURE InsertPmtDiscVATForVATEntry@43(GenJnlLine@1000 : Record 81;VAR TempVATEntry@1001 : TEMPORARY Record 254;VATEntry2@1004 : Record 254;VATEntryModifier@1002 : Integer;VATAmount@1005 : Decimal;VATAmountAddCurr@1006 : Decimal;VATBase@1007 : Decimal;VATBaseAddCurr@1008 : Decimal;PmtDiscFactorLCY@1009 : Decimal;PmtDiscFactorAddCurr@1010 : Decimal);
+    LOCAL PROCEDURE InsertPmtDiscVATForVATEntry@43(GenJnlLine@1000 : Record 81;VAR TempVATEntry@1001 : TEMPORARY Record 254;VATEntry2@1004 : Record 254;VATEntryModifier@1002 : Integer;VATAmountLCY@1005 : Decimal;VATAmountFCY@119451021 : Decimal;VATAmountAddCurr@1006 : Decimal;VATBaseLCY@1007 : Decimal;VATBaseFCY@119451022 : Decimal;VATBaseAddCurr@1008 : Decimal;PmtDiscFactorLCY@1009 : Decimal;PmtDiscFactorFCY@119451025 : Decimal;PmtDiscFactorAddCurr@1010 : Decimal;ApplicationTransactionNo@119451121 : Integer);
     VAR
       TempVATEntryNo@1003 : Integer;
-    BEGIN
+      "***** Plexada Variables *****"@119451024 : Integer;
+      ForeignCurrency@119451023 : Record 4;
+    BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
+      //OS001s os.jgl
+      IF NOT ForeignCurrency.GET(VATEntry2."Currency Code") THEN
+        ForeignCurrency.InitRoundingPrecision;
+      //OS001e os.jgl
       TempVATEntry.RESET;
       TempVATEntry.SETRANGE("Entry No.",VATEntryModifier,VATEntryModifier + 999999);
       IF TempVATEntry.FINDLAST THEN
@@ -1946,22 +2353,46 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       TempVATEntry."Source Code" := GenJnlLine."Source Code";
       TempVATEntry."Reason Code" := GenJnlLine."Reason Code";
       TempVATEntry."Transaction No." := NextTransactionNo;
+      //PX001s px.jgl
+      TempVATEntry."Application Transaction No." := ApplicationTransactionNo;
+      //PX001e px.jgl
       TempVATEntry."Sales Tax Connection No." := NextConnectionNo;
       TempVATEntry."Unrealized Amount" := 0;
       TempVATEntry."Unrealized Base" := 0;
+      //OS001s os.jgl
+      //OS010s os.jgl
+      TempVATEntry."Unrealized Amount (FCY)" := 0;
+      //OS010e os.jgl
+      TempVATEntry."Unrealized Base (FCY)" := 0;
+      //OS001e os.jgl
       TempVATEntry."Remaining Unrealized Amount" := 0;
       TempVATEntry."Remaining Unrealized Base" := 0;
+      //OS001s os.jgl
+      TempVATEntry."Remaining Unreal. Amount (FCY)" := 0;
+      TempVATEntry."Remaining Unreal. Base (FCY)" := 0;
+      //OS001e os.jgl
       TempVATEntry."User ID" := USERID;
       TempVATEntry."Closed by Entry No." := 0;
       TempVATEntry.Closed := FALSE;
       TempVATEntry."Internal Ref. No." := '';
-      TempVATEntry.Amount := VATAmount;
+      //OS001s os.jgl
+      TempVATEntry."Amount (FCY)" := VATAmountFCY;
+      //OS001e os.jgl
+      TempVATEntry.Amount := VATAmountLCY;
       TempVATEntry."Additional-Currency Amount" := VATAmountAddCurr;
+      //OS001s os.jgl
+      TempVATEntry."VAT Difference (FCY)" := 0;
+      //OS001e os.jgl
       TempVATEntry."VAT Difference" := 0;
       TempVATEntry."Add.-Curr. VAT Difference" := 0;
       TempVATEntry."Add.-Currency Unrealized Amt." := 0;
       TempVATEntry."Add.-Currency Unrealized Base" := 0;
       IF VATEntry2."Tax on Tax" THEN BEGIN
+        //OS001s os.jgl
+        TempVATEntry."Base (FCY)":=
+          ROUND((VATEntry2."Base (FCY)"+ VATEntry2."Unrealized Base (FCY)") * PmtDiscFactorFCY,
+          ForeignCurrency."Amount Rounding Precision");
+        //OS001e os.jgl
         TempVATEntry.Base :=
           ROUND((VATEntry2.Base + VATEntry2."Unrealized Base") * PmtDiscFactorLCY);
         TempVATEntry."Additional-Currency Base" :=
@@ -1970,7 +2401,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
              VATEntry2."Add.-Currency Unrealized Base") * PmtDiscFactorAddCurr,
             AddCurrency."Amount Rounding Precision");
       END ELSE BEGIN
-        TempVATEntry.Base := VATBase;
+        //OS001s os.jgl
+        TempVATEntry."Base (FCY)" := VATBaseFCY;
+        //OS001e os.jgl
+        TempVATEntry.Base := VATBaseLCY;
         TempVATEntry."Additional-Currency Base" := VATBaseAddCurr;
       END;
 
@@ -1983,8 +2417,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       TempVATEntry.INSERT;
     END;
 
-    LOCAL PROCEDURE InsertPmtDiscVATForGLEntry@94(GenJnlLine@1000 : Record 81;VAR DtldCVLedgEntryBuf@1001 : Record 383;VAR NewCVLedgEntryBuf@1003 : Record 382;VATEntry2@1004 : Record 254;VAR VATPostingSetup@1005 : Record 325;VAR TaxJurisdiction@1008 : Record 320;EntryType@1002 : Integer;VATAmount@1006 : Decimal;VATAmountAddCurr@1007 : Decimal);
+    LOCAL PROCEDURE InsertPmtDiscVATForGLEntry@94(GenJnlLine@1000 : Record 81;VAR DtldCVLedgEntryBuf@1001 : Record 383;VAR NewCVLedgEntryBuf@1003 : Record 382;VATEntry2@1004 : Record 254;VAR VATPostingSetup@1005 : Record 325;VAR TaxJurisdiction@1008 : Record 320;EntryType@1002 : Integer;VATAmountLCY@1006 : Decimal;VATAmountFCY@119451021 : Decimal;VATAmountAddCurr@1007 : Decimal;ApplicationTransactionNo@119451121 : Integer);
     BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
       DtldCVLedgEntryBuf.INIT;
       DtldCVLedgEntryBuf.CopyFromCVLedgEntryBuf(NewCVLedgEntryBuf);
       CASE EntryType OF
@@ -2001,7 +2436,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       DtldCVLedgEntryBuf."Posting Date" := GenJnlLine."Posting Date";
       DtldCVLedgEntryBuf."Document Type" := GenJnlLine."Document Type";
       DtldCVLedgEntryBuf."Document No." := GenJnlLine."Document No.";
-      DtldCVLedgEntryBuf.Amount := 0;
+      //OS038s os.jgl
+      // shouldn't be needed
+      // DtldCVLedgEntryBuf.Amount := 0;
+      //OS038e os.jgl
       DtldCVLedgEntryBuf."VAT Bus. Posting Group" := VATEntry2."VAT Bus. Posting Group";
       DtldCVLedgEntryBuf."VAT Prod. Posting Group" := VATEntry2."VAT Prod. Posting Group";
       DtldCVLedgEntryBuf."Tax Jurisdiction Code" := VATEntry2."Tax Jurisdiction Code";
@@ -2009,6 +2447,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       // the function CalcPmtDisc.
       DtldCVLedgEntryBuf."User ID" := USERID;
       DtldCVLedgEntryBuf."Use Additional-Currency Amount" := TRUE;
+      //PX001s px.jgl
+      DtldCVLedgEntryBuf."Application Transaction No." := ApplicationTransactionNo;
+      //PX001e px.jgl
 
       CASE VATEntry2.Type OF
         VATEntry2.Type::Purchase:
@@ -2016,29 +2457,43 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             VATEntry2."VAT Calculation Type"::"Normal VAT",
             VATEntry2."VAT Calculation Type"::"Full VAT":
               BEGIN
+                //OS038s os.jgl
                 InitGLEntryVAT(GenJnlLine,VATPostingSetup.GetPurchAccount(FALSE),'',
-                  VATAmount,VATAmountAddCurr,FALSE);
-                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmount;
+                  VATAmountLCY,VATAmountFCY,VATAmountAddCurr,FALSE);
+                //OS038e os.jgl
+                //OS001s os.jgl
+                DtldCVLedgEntryBuf.Amount := -VATAmountFCY;
+                //OS001e os.jgl
+                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmountLCY;
                 DtldCVLedgEntryBuf."Additional-Currency Amount" := -VATAmountAddCurr;
                 DtldCVLedgEntryBuf.InsertDtldCVLedgEntry(DtldCVLedgEntryBuf,NewCVLedgEntryBuf,TRUE);
               END;
             VATEntry2."VAT Calculation Type"::"Reverse Charge VAT":
               BEGIN
+                //OS038s os.jgl
                 InitGLEntryVAT(GenJnlLine,VATPostingSetup.GetPurchAccount(FALSE),'',
-                  VATAmount,VATAmountAddCurr,FALSE);
+                  VATAmountLCY,VATAmountFCY,VATAmountAddCurr,FALSE);
                 InitGLEntryVAT(GenJnlLine,VATPostingSetup.GetRevChargeAccount(FALSE),'',
-                  -VATAmount,-VATAmountAddCurr,FALSE);
+                  -VATAmountLCY,-VATAmountFCY,-VATAmountAddCurr,FALSE);
+                //OS038e os.jgl
               END;
             VATEntry2."VAT Calculation Type"::"Sales Tax":
               IF VATEntry2."Use Tax" THEN BEGIN
+                //OS038s os.jgl
                 InitGLEntryVAT(GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),'',
-                  VATAmount,VATAmountAddCurr,FALSE);
+                  VATAmountLCY,VATAmountFCY,VATAmountAddCurr,FALSE);
                 InitGLEntryVAT(GenJnlLine,TaxJurisdiction.GetRevChargeAccount(FALSE),'',
-                  -VATAmount,-VATAmountAddCurr,FALSE);
+                  -VATAmountLCY,-VATAmountFCY,-VATAmountAddCurr,FALSE);
+                //OS038e os.jgl
               END ELSE BEGIN
+                //OS038s os.jgl
                 InitGLEntryVAT(GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),'',
-                  VATAmount,VATAmountAddCurr,FALSE);
-                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmount;
+                  VATAmountLCY,VATAmountFCY,VATAmountAddCurr,FALSE);
+                //OS038s os.jgl
+                //OS001s os.jgl
+                DtldCVLedgEntryBuf.Amount := -VATAmountFCY;
+                //OS001e os.jgl
+                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmountLCY;
                 DtldCVLedgEntryBuf."Additional-Currency Amount" := -VATAmountAddCurr;
                 DtldCVLedgEntryBuf.InsertDtldCVLedgEntry(DtldCVLedgEntryBuf,NewCVLedgEntryBuf,TRUE);
               END;
@@ -2048,10 +2503,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             VATEntry2."VAT Calculation Type"::"Normal VAT",
             VATEntry2."VAT Calculation Type"::"Full VAT":
               BEGIN
+                //OS038s os.jgl
                 InitGLEntryVAT(
                   GenJnlLine,VATPostingSetup.GetSalesAccount(FALSE),'',
-                  VATAmount,VATAmountAddCurr,FALSE);
-                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmount;
+                  VATAmountLCY,VATAmountFCY,VATAmountAddCurr,FALSE);
+                //OS038e os.jgl
+                //OS001s os.jgl
+                DtldCVLedgEntryBuf.Amount := -VATAmountFCY;
+                //OS001e os.jgl
+                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmountLCY;
                 DtldCVLedgEntryBuf."Additional-Currency Amount" := -VATAmountAddCurr;
                 DtldCVLedgEntryBuf.InsertDtldCVLedgEntry(DtldCVLedgEntryBuf,NewCVLedgEntryBuf,TRUE);
               END;
@@ -2059,10 +2519,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               ;
             VATEntry2."VAT Calculation Type"::"Sales Tax":
               BEGIN
+                //OS038s os.jgl
                 InitGLEntryVAT(
                   GenJnlLine,TaxJurisdiction.GetSalesAccount(FALSE),'',
-                  VATAmount,VATAmountAddCurr,FALSE);
-                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmount;
+                  VATAmountLCY,VATAmountFCY,VATAmountAddCurr,FALSE);
+                //OS038e os.jgl
+                //OS001s os.jgl
+                DtldCVLedgEntryBuf.Amount := -VATAmountFCY;
+                //OS001e os.jgl
+                DtldCVLedgEntryBuf."Amount (LCY)" := -VATAmountLCY;
                 DtldCVLedgEntryBuf."Additional-Currency Amount" := -VATAmountAddCurr;
                 DtldCVLedgEntryBuf.InsertDtldCVLedgEntry(DtldCVLedgEntryBuf,NewCVLedgEntryBuf,TRUE);
               END;
@@ -2087,9 +2552,25 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       IF (ApplnRounding = 0) OR (ABS(ApplnRounding) > ApplnRoundingPrecision) THEN
         EXIT;
 
-      DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
-        GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
-        DtldCVLedgEntryBuf."Entry Type"::"Appln. Rounding",ApplnRounding,ApplnRoundingLCY,ApplnRounding,0,0,0);
+      //PX001s px.jgl
+      //OS017s os.jgl
+      // ************************************************** Plexada ****************************************
+      // Standard Code:
+      // DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
+      //   GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
+      //   DtldCVLedgEntryBuf."Entry Type"::"Appln. Rounding",ApplnRounding,ApplnRoundingLCY,ApplnRounding,0,0,0);
+      // ************************************************** Plexada ****************************************
+      IF NewCVLedgEntryBuf."Currency Code" = GLSetup."Additional Reporting Currency" THEN
+        DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
+          GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
+          DtldCVLedgEntryBuf."Entry Type"::"Appln. Rounding",ApplnRounding,ApplnRoundingLCY,ApplnRounding,0,0,0,NextTransactionNo)
+      ELSE
+        DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
+          GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
+          DtldCVLedgEntryBuf."Entry Type"::"Appln. Rounding",ApplnRounding,ApplnRoundingLCY,
+          ROUND(CalcLCYToAddCurr(ApplnRoundingLCY),AddCurrency."Amount Rounding Precision"),0,0,0,NextTransactionNo);
+      //OS017e os.jgl
+      //PX001e px.jgl
     END;
 
     LOCAL PROCEDURE FindAmtForAppln@6(VAR NewCVLedgEntryBuf@1000 : Record 382;VAR OldCVLedgEntryBuf@1001 : Record 382;VAR OldCVLedgEntryBuf2@1002 : Record 382;VAR AppliedAmount@1003 : Decimal;VAR AppliedAmountLCY@1004 : Decimal;VAR OldAppliedAmount@1005 : Decimal;ApplnRoundingPrecision@1007 : Decimal);
@@ -2176,13 +2657,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
       IF UnRealizedGainLossLCY <> 0 THEN
         IF UnRealizedGainLossLCY < 0 THEN
+      //PX001s px.jgl
           TempDtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
             GenJnlLine,CVLedgEntryBuf,TempDtldCVLedgEntryBuf,
-            TempDtldCVLedgEntryBuf."Entry Type"::"Unrealized Loss",0,-UnRealizedGainLossLCY,0,0,0,0)
+            TempDtldCVLedgEntryBuf."Entry Type"::"Unrealized Loss",0,-UnRealizedGainLossLCY,0,0,0,0,NextTransactionNo)
         ELSE
           TempDtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
             GenJnlLine,CVLedgEntryBuf,TempDtldCVLedgEntryBuf,
-            TempDtldCVLedgEntryBuf."Entry Type"::"Unrealized Gain",0,-UnRealizedGainLossLCY,0,0,0,0);
+            TempDtldCVLedgEntryBuf."Entry Type"::"Unrealized Gain",0,-UnRealizedGainLossLCY,0,0,0,0,NextTransactionNo);
+      //PX001e px.jgl
     END;
 
     LOCAL PROCEDURE CalcCurrencyRealizedGainLoss@62(VAR CVLedgEntryBuf@1005 : Record 382;VAR TempDtldCVLedgEntryBuf@1003 : TEMPORARY Record 383;GenJnlLine@1002 : Record 81;AppliedAmount@1001 : Decimal;AppliedAmountLCY@1000 : Decimal);
@@ -2197,13 +2680,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         AppliedAmountLCY - ROUND(AppliedAmount / CVLedgEntryBuf."Original Currency Factor");
       IF RealizedGainLossLCY <> 0 THEN
         IF RealizedGainLossLCY < 0 THEN
+      //PX001s px.jgl
           TempDtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
             GenJnlLine,CVLedgEntryBuf,TempDtldCVLedgEntryBuf,
-            TempDtldCVLedgEntryBuf."Entry Type"::"Realized Loss",0,RealizedGainLossLCY,0,0,0,0)
+            TempDtldCVLedgEntryBuf."Entry Type"::"Realized Loss",0,RealizedGainLossLCY,0,0,0,0,NextTransactionNo)
         ELSE
           TempDtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
             GenJnlLine,CVLedgEntryBuf,TempDtldCVLedgEntryBuf,
-            TempDtldCVLedgEntryBuf."Entry Type"::"Realized Gain",0,RealizedGainLossLCY,0,0,0,0);
+            TempDtldCVLedgEntryBuf."Entry Type"::"Realized Gain",0,RealizedGainLossLCY,0,0,0,0,NextTransactionNo);
+      //PX001e px.jgl
     END;
 
     LOCAL PROCEDURE CalcApplication@55(VAR NewCVLedgEntryBuf@1000 : Record 382;VAR OldCVLedgEntryBuf@1001 : Record 382;VAR DtldCVLedgEntryBuf@1002 : Record 383;GenJnlLine@1003 : Record 81;AppliedAmount@1004 : Decimal;AppliedAmountLCY@1005 : Decimal;OldAppliedAmount@1006 : Decimal;PrevNewCVLedgEntryBuf@1008 : Record 382;PrevOldCVLedgEntryBuf@1007 : Record 382;VAR AllApplied@1009 : Boolean);
@@ -2211,11 +2696,23 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       IF AppliedAmount = 0 THEN
         EXIT;
 
-      DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
-        GenJnlLine,OldCVLedgEntryBuf,DtldCVLedgEntryBuf,
-        DtldCVLedgEntryBuf."Entry Type"::Application,OldAppliedAmount,AppliedAmountLCY,0,
-        NewCVLedgEntryBuf."Entry No.",PrevOldCVLedgEntryBuf."Remaining Pmt. Disc. Possible",
-        PrevOldCVLedgEntryBuf."Max. Payment Tolerance");
+      //PX001s px.jgl
+      //OS017s os.jgl
+      IF OldCVLedgEntryBuf."Currency Code" = GLSetup."Additional Reporting Currency" THEN
+        DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
+          GenJnlLine,OldCVLedgEntryBuf,DtldCVLedgEntryBuf,
+          DtldCVLedgEntryBuf."Entry Type"::Application,OldAppliedAmount,AppliedAmountLCY,OldAppliedAmount,
+          NewCVLedgEntryBuf."Entry No.",PrevOldCVLedgEntryBuf."Remaining Pmt. Disc. Possible",
+          PrevOldCVLedgEntryBuf."Max. Payment Tolerance",NextTransactionNo)
+      ELSE
+        DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
+          GenJnlLine,OldCVLedgEntryBuf,DtldCVLedgEntryBuf,
+          DtldCVLedgEntryBuf."Entry Type"::Application,OldAppliedAmount,AppliedAmountLCY,
+          ROUND(CalcLCYToAddCurr(AppliedAmountLCY),AddCurrency."Amount Rounding Precision"),
+          NewCVLedgEntryBuf."Entry No.",PrevOldCVLedgEntryBuf."Remaining Pmt. Disc. Possible",
+          PrevOldCVLedgEntryBuf."Max. Payment Tolerance",NextTransactionNo);
+      //OS017e os.jgl
+      //PX001e px.jgl
 
       OldCVLedgEntryBuf.Open := OldCVLedgEntryBuf."Remaining Amount" <> 0;
       IF NOT OldCVLedgEntryBuf.Open THEN
@@ -2225,11 +2722,23 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       ELSE
         AllApplied := FALSE;
 
-      DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
-        GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
-        DtldCVLedgEntryBuf."Entry Type"::Application,-AppliedAmount,-AppliedAmountLCY,0,
-        NewCVLedgEntryBuf."Entry No.",PrevNewCVLedgEntryBuf."Remaining Pmt. Disc. Possible",
-        PrevNewCVLedgEntryBuf."Max. Payment Tolerance");
+      //PX001s px.jgl
+      //OS017s os.jgl
+      IF NewCVLedgEntryBuf."Currency Code" = GLSetup."Additional Reporting Currency" THEN
+        DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
+          GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
+          DtldCVLedgEntryBuf."Entry Type"::Application,-AppliedAmount,-AppliedAmountLCY,-AppliedAmount,
+          NewCVLedgEntryBuf."Entry No.",PrevNewCVLedgEntryBuf."Remaining Pmt. Disc. Possible",
+          PrevNewCVLedgEntryBuf."Max. Payment Tolerance",NextTransactionNo)
+      ELSE
+        DtldCVLedgEntryBuf.InitDtldCVLedgEntryBuf(
+          GenJnlLine,NewCVLedgEntryBuf,DtldCVLedgEntryBuf,
+          DtldCVLedgEntryBuf."Entry Type"::Application,-AppliedAmount,-AppliedAmountLCY,
+          ROUND(CalcLCYToAddCurr(-AppliedAmountLCY),AddCurrency."Amount Rounding Precision"),
+          NewCVLedgEntryBuf."Entry No.",PrevNewCVLedgEntryBuf."Remaining Pmt. Disc. Possible",
+          PrevNewCVLedgEntryBuf."Max. Payment Tolerance",NextTransactionNo);
+      //OS017e os.jgl
+      //PX001e px.jgl
 
       NewCVLedgEntryBuf.Open := NewCVLedgEntryBuf."Remaining Amount" <> 0;
       IF NOT NewCVLedgEntryBuf.Open AND NOT AllApplied THEN
@@ -2494,7 +3003,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           ContinuePosting(GenJnlLine);
 
         Cust.GET(CustLedgEntry."Customer No.");
-        Cust.CheckBlockedCustOnJnls(Cust,"Document Type",TRUE);
+        //OS002s os.jgl
+        IF NOT "Force Post" THEN
+          Cust.CheckBlockedCustOnJnls(Cust,"Document Type",TRUE);
+        //OS002e os.jgl
 
         IF "Posting Group" = '' THEN BEGIN
           Cust.TESTFIELD("Customer Posting Group");
@@ -2607,14 +3119,22 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
     LOCAL PROCEDURE PostDtldCustLedgEntries@46(GenJnlLine@1000 : Record 81;VAR DtldCVLedgEntryBuf@1001 : Record 383;CustPostingGr@1002 : Record 92;LedgEntryInserted@1012 : Boolean) DtldLedgEntryInserted : Boolean;
     VAR
-      TempInvPostBuf@1011 : TEMPORARY Record 49;
       DtldCustLedgEntry@1005 : Record 379;
-      AdjAmount@1003 : ARRAY [4] OF Decimal;
       DtldCustLedgEntryNoOffset@1006 : Integer;
       SaveEntryNo@1014 : Integer;
+      "***** Plexada Variables *****"@119451021 : Integer;
+      OriginalGenJnlCurrencyCode@119451024 : Code[10];
+      OriginalGenJnlSrcCurrencyCode@119451025 : Code[10];
     BEGIN
+      //OS016 os.jgl  to keep track of the 3 currencies, all fields are named to ..LCY, ..FCY and ..ACY throughout the function.
       IF GenJnlLine."Account Type" <> GenJnlLine."Account Type"::Customer THEN
         EXIT;
+      //OS016s os.jgl clear the by-currency posting buffers
+      CVPostBuf.RESET;
+      CVPostBuf.DELETEALL;
+      OriginalGenJnlCurrencyCode := GenJnlLine."Currency Code";
+      OriginalGenJnlSrcCurrencyCode := GenJnlLine."Source Currency Code";
+      //OS016e os.jgl
 
       IF DtldCustLedgEntry.FINDLAST THEN
         DtldCustLedgEntryNoOffset := DtldCustLedgEntry."Entry No."
@@ -2628,50 +3148,78 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           NextEntryNo := NextEntryNo + 1;
         END;
         REPEAT
+          //OS016s os.jgl
+          //set the currency code in the GenJnlLine
+          GenJnlLine."Currency Code" := DtldCVLedgEntryBuf."Currency Code";
+          GenJnlLine."Source Currency Code" := DtldCVLedgEntryBuf."Currency Code";
+          //OS016e os.jgl
+
           InsertDtldCustLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,DtldCustLedgEntry,DtldCustLedgEntryNoOffset);
 
-          UpdateTotalAmounts(
-            TempInvPostBuf,GenJnlLine."Dimension Set ID",
-            DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount");
+          //OS016s os.jgl
+          //OS038s os.jgl
+          UpdateTotalAmounts(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+            DtldCVLedgEntryBuf.Amount,DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount",
+            DtldCVLedgEntryBuf."Entry Type" = DtldCVLedgEntryBuf."Entry Type"::"Initial Entry");
+          //OS038e os.jgl
+          //OS016e os.jgl
 
           // Post automatic entries.
           IF ((DtldCVLedgEntryBuf."Amount (LCY)" <> 0) OR
               (DtldCVLedgEntryBuf."VAT Amount (LCY)" <> 0)) OR
              ((AddCurrencyCode <> '') AND (DtldCVLedgEntryBuf."Additional-Currency Amount" <> 0))
           THEN
-            PostDtldCustLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,CustPostingGr,AdjAmount);
+            //OS038s os.jgl
+            PostDtldCustLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,CustPostingGr,CVPostBuf);
+            //OS038e os.jgl
         UNTIL DtldCVLedgEntryBuf.NEXT = 0;
       END;
 
-      CreateGLEntriesForTotalAmounts(
-        GenJnlLine,TempInvPostBuf,AdjAmount,SaveEntryNo,CustPostingGr.GetReceivablesAccount,LedgEntryInserted);
+      //OS016s os.jgl
+      //OS038s os.jgl
+      CreateGLEntriesForAdjAndTotalAmts(GenJnlLine,CVPostBuf,SaveEntryNo,CustPostingGr.GetReceivablesAccount,LedgEntryInserted);
+      //OS038e os.jgl
+      //OS016e os.jgl
 
       DtldLedgEntryInserted := NOT DtldCVLedgEntryBuf.ISEMPTY;
       DtldCVLedgEntryBuf.DELETEALL;
+      //OS016s os.jgl
+      GenJnlLine."Currency Code" := OriginalGenJnlCurrencyCode;
+      GenJnlLine."Source Currency Code" := OriginalGenJnlSrcCurrencyCode;
+      //OS016e os.jgl
     END;
 
-    LOCAL PROCEDURE PostDtldCustLedgEntry@82(GenJnlLine@1005 : Record 81;DtldCVLedgEntryBuf@1003 : Record 383;CustPostingGr@1002 : Record 92;VAR AdjAmount@1001 : ARRAY [4] OF Decimal);
+    LOCAL PROCEDURE PostDtldCustLedgEntry@82(GenJnlLine@1005 : Record 81;DtldCVLedgEntryBuf@1003 : Record 383;CustPostingGr@1002 : Record 92;VAR CVPostBuf@119451021 : TEMPORARY Record 5274200);
     VAR
       AccNo@1006 : Code[20];
     BEGIN
+      //OS038 os.jgl changed call parameters to integrate the CV Posting Buffer
       AccNo := GetDtldCustLedgEntryAccNo(GenJnlLine,DtldCVLedgEntryBuf,CustPostingGr,0,FALSE);
-      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,AdjAmount,FALSE);
+      //OS038s os.jgl
+      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,CVPostBuf,FALSE);
+      //OS038e os.jgl
     END;
 
     LOCAL PROCEDURE PostDtldCustLedgEntryUnapply@114(GenJnlLine@1007 : Record 81;DtldCVLedgEntryBuf@1001 : Record 383;CustPostingGr@1000 : Record 92;OriginalTransactionNo@1006 : Integer);
     VAR
-      AdjAmount@1004 : ARRAY [4] OF Decimal;
       AccNo@1002 : Code[20];
     BEGIN
-      IF (DtldCVLedgEntryBuf."Amount (LCY)" = 0) AND
-         (DtldCVLedgEntryBuf."VAT Amount (LCY)" = 0) AND
-         ((AddCurrencyCode = '') OR (DtldCVLedgEntryBuf."Additional-Currency Amount" = 0))
+      //OS038s os.jgl
+      IF (DtldCVLedgEntryBuf.Amount = 0) AND (DtldCVLedgEntryBuf."Amount (LCY)" = 0) AND
+        //PX046s px.jgl
+        (DtldCVLedgEntryBuf."VAT Amount" = 0) AND (DtldCVLedgEntryBuf."VAT Amount (LCY)" = 0) AND
+        ((AddCurrencyCode = '') OR ((DtldCVLedgEntryBuf."Additional-Currency Amount" = 0) AND
+        (DtldCVLedgEntryBuf."VAT Amount (ACY)" = 0)))
+        //PX046e px.jgl
+      //OS038e os.jgl
       THEN
         EXIT;
 
       AccNo := GetDtldCustLedgEntryAccNo(GenJnlLine,DtldCVLedgEntryBuf,CustPostingGr,OriginalTransactionNo,TRUE);
       DtldCVLedgEntryBuf."Gen. Posting Type" := DtldCVLedgEntryBuf."Gen. Posting Type"::Sale;
-      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,AdjAmount,TRUE);
+      //OS038s os.jgl
+      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,CVPostBuf,TRUE);
+      //OS038e os.jgl
     END;
 
     LOCAL PROCEDURE GetDtldCustLedgEntryAccNo@147(GenJnlLine@1007 : Record 81;DtldCVLedgEntryBuf@1001 : Record 383;CustPostingGr@1000 : Record 92;OriginalTransactionNo@1006 : Integer;Unapply@1012 : Boolean) : Code[20];
@@ -2754,25 +3302,36 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       END;
     END;
 
-    LOCAL PROCEDURE CustUnrealizedVAT@16(GenJnlLine@1015 : Record 81;VAR CustLedgEntry2@1000 : Record 21;SettledAmount@1001 : Decimal);
+    LOCAL PROCEDURE CustUnrealizedVAT@16(GenJnlLine@1015 : Record 81;VAR CustLedgEntry2@1000 : Record 21;SettledAmountFCY@1001 : Decimal);
     VAR
       VATEntry2@1002 : Record 254;
       TaxJurisdiction@1014 : Record 320;
       VATPostingSetup@1017 : Record 325;
       VATPart@1003 : Decimal;
-      VATAmount@1004 : Decimal;
-      VATBase@1005 : Decimal;
       VATAmountAddCurr@1006 : Decimal;
       VATBaseAddCurr@1007 : Decimal;
-      PaidAmount@1008 : Decimal;
-      TotalUnrealVATAmountLast@1012 : Decimal;
-      TotalUnrealVATAmountFirst@1013 : Decimal;
       SalesVATAccount@1009 : Code[20];
       SalesVATUnrealAccount@1010 : Code[20];
       LastConnectionNo@1011 : Integer;
       GLEntryNo@1016 : Integer;
-    BEGIN
-      PaidAmount := CustLedgEntry2."Amount (LCY)" - CustLedgEntry2."Remaining Amt. (LCY)";
+      "***** Plexada Renamed *****"@119451029 : Integer;
+      VATAmountLCY@119451028 : Decimal;
+      VATBaseLCY@119451027 : Decimal;
+      PaidAmountFCY@119451026 : Decimal;
+      TotalUnrealVATAmountLastFCY@119451025 : Decimal;
+      TotalUnrealVATAmountFirstFCY@119451024 : Decimal;
+      "***** Plexada Variables *****"@119451021 : Integer;
+      ForeignCurrency@119451030 : Record 4;
+      VATBaseFCY@119451023 : Decimal;
+      VATAmountFCY@119451022 : Decimal;
+    BEGIN
+      //OS001 os.jgl  to keep track of the 3 currencies, all fields are renamed to ..LCY, ..FCY and ..AddCurr throughout the function.
+      //calculate the realized part in currency... that should be more accurate.
+      //OS001s os.jgl
+      IF NOT ForeignCurrency.GET(CustLedgEntry2."Currency Code") THEN
+        ForeignCurrency.InitRoundingPrecision;
+      PaidAmountFCY := CustLedgEntry2.Amount - CustLedgEntry2."Remaining Amount";
+      //OS001e os.jgl
       VATEntry2.RESET;
       VATEntry2.SETCURRENTKEY("Transaction No.");
       VATEntry2.SETRANGE("Transaction No.",CustLedgEntry2."Transaction No.");
@@ -2782,11 +3341,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           IF VATPostingSetup."Unrealized VAT Type" IN
              [VATPostingSetup."Unrealized VAT Type"::Last,VATPostingSetup."Unrealized VAT Type"::"Last (Fully Paid)"]
           THEN
-            TotalUnrealVATAmountLast := TotalUnrealVATAmountLast - VATEntry2."Remaining Unrealized Amount";
+            //OS001s os.jgl
+            TotalUnrealVATAmountLastFCY := TotalUnrealVATAmountLastFCY - VATEntry2."Remaining Unreal. Amount (FCY)";
+            //OS001e os.jgl
           IF VATPostingSetup."Unrealized VAT Type" IN
              [VATPostingSetup."Unrealized VAT Type"::First,VATPostingSetup."Unrealized VAT Type"::"First (Fully Paid)"]
           THEN
-            TotalUnrealVATAmountFirst := TotalUnrealVATAmountFirst - VATEntry2."Remaining Unrealized Amount";
+            //OS001s os.jgl
+            TotalUnrealVATAmountFirstFCY := TotalUnrealVATAmountFirstFCY - VATEntry2."Remaining Unreal. Amount (FCY)";
+            //OS001e os.jgl
         UNTIL VATEntry2.NEXT = 0;
       IF VATEntry2.FINDSET THEN BEGIN
         LastConnectionNo := 0;
@@ -2797,13 +3360,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             LastConnectionNo := VATEntry2."Sales Tax Connection No.";
           END;
 
+          //OS001s os.jgl
           VATPart :=
             VATEntry2.GetUnrealizedVATPart(
-              ROUND(SettledAmount / CustLedgEntry2.GetOriginalCurrencyFactor),
-              PaidAmount,
-              CustLedgEntry2."Original Amt. (LCY)",
-              TotalUnrealVATAmountFirst,
-              TotalUnrealVATAmountLast);
+              SettledAmountFCY,
+              PaidAmountFCY,
+              CustLedgEntry2."Original Amount",
+              TotalUnrealVATAmountFirstFCY,
+              TotalUnrealVATAmountLastFCY);
+          //OS001e os.jgl
 
           IF VATPart > 0 THEN BEGIN
             CASE VATEntry2."VAT Calculation Type" OF
@@ -2823,13 +3388,21 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             END;
 
             IF VATPart = 1 THEN BEGIN
-              VATAmount := VATEntry2."Remaining Unrealized Amount";
-              VATBase := VATEntry2."Remaining Unrealized Base";
+              //OS001s os.jgl
+              VATAmountFCY := VATEntry2."Remaining Unreal. Amount (FCY)";
+              VATBaseFCY := VATEntry2."Remaining Unreal. Base (FCY)";
+              //OS001e os.jgl
+              VATAmountLCY := VATEntry2."Remaining Unrealized Amount";
+              VATBaseLCY := VATEntry2."Remaining Unrealized Base";
               VATAmountAddCurr := VATEntry2."Add.-Curr. Rem. Unreal. Amount";
               VATBaseAddCurr := VATEntry2."Add.-Curr. Rem. Unreal. Base";
             END ELSE BEGIN
-              VATAmount := ROUND(VATEntry2."Remaining Unrealized Amount" * VATPart,GLSetup."Amount Rounding Precision");
-              VATBase := ROUND(VATEntry2."Remaining Unrealized Base" * VATPart,GLSetup."Amount Rounding Precision");
+              //OS001s os.jgl
+              VATAmountFCY := ROUND(VATEntry2."Remaining Unreal. Amount (FCY)" * VATPart,ForeignCurrency."Amount Rounding Precision");
+              VATBaseFCY := ROUND(VATEntry2."Remaining Unreal. Base (FCY)" * VATPart,ForeignCurrency."Amount Rounding Precision");
+              //OS001e os.jgl
+              VATAmountLCY := ROUND(VATEntry2."Remaining Unrealized Amount" * VATPart,GLSetup."Amount Rounding Precision");
+              VATBaseLCY := ROUND(VATEntry2."Remaining Unrealized Base" * VATPart,GLSetup."Amount Rounding Precision");
               VATAmountAddCurr :=
                 ROUND(
                   VATEntry2."Add.-Curr. Rem. Unreal. Amount" * VATPart,
@@ -2839,13 +3412,14 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                   VATEntry2."Add.-Curr. Rem. Unreal. Base" * VATPart,
                   AddCurrency."Amount Rounding Precision");
             END;
-
+            //OS038s os.jgl
             InitGLEntryVAT(
-              GenJnlLine,SalesVATUnrealAccount,SalesVATAccount,-VATAmount,-VATAmountAddCurr,FALSE);
+              GenJnlLine,SalesVATUnrealAccount,SalesVATAccount,-VATAmountLCY,-VATAmountFCY,-VATAmountAddCurr,FALSE);
             GLEntryNo :=
-              InitGLEntryVATCopy(GenJnlLine,SalesVATAccount,SalesVATUnrealAccount,VATAmount,VATAmountAddCurr,VATEntry2);
+               InitGLEntryVATCopy(GenJnlLine,SalesVATAccount,SalesVATUnrealAccount,VATAmountLCY,VATAmountFCY,VATAmountAddCurr,VATEntry2);
 
-            PostUnrealVATEntry(GenJnlLine,VATEntry2,VATAmount,VATBase,VATAmountAddCurr,VATBaseAddCurr,GLEntryNo);
+            PostUnrealVATEntry(GenJnlLine,VATEntry2,VATAmountLCY,VATBaseLCY,VATAmountFCY,VATBaseFCY,VATAmountAddCurr,VATBaseAddCurr,GLEntryNo);
+            //OS038e os.jgl
           END;
         UNTIL VATEntry2.NEXT = 0;
 
@@ -3083,7 +3657,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           ContinuePosting(GenJnlLine);
 
         Vend.GET(VendLedgEntry."Vendor No.");
-        Vend.CheckBlockedVendOnJnls(Vend,"Document Type",TRUE);
+        //OS002s os.jgl
+        IF NOT "Force Post" THEN
+          Vend.CheckBlockedVendOnJnls(Vend,"Document Type",TRUE);
+        //OS002e os.jgl
 
         IF "Posting Group" = '' THEN BEGIN
           Vend.TESTFIELD("Vendor Posting Group");
@@ -3317,14 +3894,22 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
     LOCAL PROCEDURE PostDtldVendLedgEntries@32(GenJnlLine@1000 : Record 81;VAR DtldCVLedgEntryBuf@1001 : Record 383;VendPostingGr@1002 : Record 93;LedgEntryInserted@1011 : Boolean) DtldLedgEntryInserted : Boolean;
     VAR
-      TempInvPostBuf@1007 : TEMPORARY Record 49;
       DtldVendLedgEntry@1004 : Record 380;
-      AdjAmount@1012 : ARRAY [4] OF Decimal;
       DtldVendLedgEntryNoOffset@1005 : Integer;
       SaveEntryNo@1013 : Integer;
+      "***** Plexada Variables *****"@119451021 : Integer;
+      OriginalGenJnlCurrencyCode@119451024 : Code[10];
+      OriginalGenJnlSrcCurrencyCode@119451025 : Code[10];
     BEGIN
+      //OS016 os.jgl  to keep track of the 3 currencies, all fields are named to ..LCY, ..FCY and ..ACY throughout the function.
       IF GenJnlLine."Account Type" <> GenJnlLine."Account Type"::Vendor THEN
         EXIT;
+      //OS016s os.jgl clear the by-currency posting buffers
+      CVPostBuf.RESET;
+      CVPostBuf.DELETEALL;
+      OriginalGenJnlCurrencyCode := GenJnlLine."Currency Code";
+      OriginalGenJnlSrcCurrencyCode := GenJnlLine."Source Currency Code";
+      //OS016e os.jgl
 
       IF DtldVendLedgEntry.FINDLAST THEN
         DtldVendLedgEntryNoOffset := DtldVendLedgEntry."Entry No."
@@ -3338,50 +3923,77 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           NextEntryNo := NextEntryNo + 1;
         END;
         REPEAT
+          //OS016s os.jgl
+          //set the currency code in the GenJnlLine
+          GenJnlLine."Currency Code" := DtldCVLedgEntryBuf."Currency Code";
+          GenJnlLine."Source Currency Code" := DtldCVLedgEntryBuf."Currency Code";
+          //OS016e os.jgl
+
           InsertDtldVendLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,DtldVendLedgEntry,DtldVendLedgEntryNoOffset);
 
-          UpdateTotalAmounts(
-            TempInvPostBuf,GenJnlLine."Dimension Set ID",
-            DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount");
+          //OS016s os.jgl
+          //OS038s os.jgl
+          UpdateTotalAmounts(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+            DtldCVLedgEntryBuf.Amount,DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount",
+            DtldCVLedgEntryBuf."Entry Type" = DtldCVLedgEntryBuf."Entry Type"::"Initial Entry");
+          //OS038e os.jgl
+          //OS016e os.jgl
 
           // Post automatic entries.
           IF ((DtldCVLedgEntryBuf."Amount (LCY)" <> 0) OR
               (DtldCVLedgEntryBuf."VAT Amount (LCY)" <> 0)) OR
              ((AddCurrencyCode <> '') AND (DtldCVLedgEntryBuf."Additional-Currency Amount" <> 0))
           THEN
-            PostDtldVendLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,VendPostingGr,AdjAmount);
+            //OS038s os.jgl
+            PostDtldVendLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,VendPostingGr,CVPostBuf);
+            //OS038e os.jgl
         UNTIL DtldCVLedgEntryBuf.NEXT = 0;
       END;
 
-      CreateGLEntriesForTotalAmounts(
-        GenJnlLine,TempInvPostBuf,AdjAmount,SaveEntryNo,VendPostingGr.GetPayablesAccount,LedgEntryInserted);
+      //OS016s os.jgl
+      //OS038s os.jgl
+      CreateGLEntriesForAdjAndTotalAmts(GenJnlLine,CVPostBuf,SaveEntryNo,VendPostingGr.GetPayablesAccount,LedgEntryInserted);
+      //OS038e os.jgl
+      //OS016e os.jgl
 
       DtldLedgEntryInserted := NOT DtldCVLedgEntryBuf.ISEMPTY;
       DtldCVLedgEntryBuf.DELETEALL;
+      //OS016s os.jgl
+      GenJnlLine."Currency Code" := OriginalGenJnlCurrencyCode;
+      GenJnlLine."Source Currency Code" := OriginalGenJnlSrcCurrencyCode;
+      //OS016e os.jgl
     END;
 
-    LOCAL PROCEDURE PostDtldVendLedgEntry@81(GenJnlLine@1000 : Record 81;DtldCVLedgEntryBuf@1002 : Record 383;VendPostingGr@1006 : Record 93;VAR AdjAmount@1003 : ARRAY [4] OF Decimal);
+    LOCAL PROCEDURE PostDtldVendLedgEntry@81(GenJnlLine@1000 : Record 81;DtldCVLedgEntryBuf@1002 : Record 383;VendPostingGr@1006 : Record 93;VAR CVPostBuf@119451021 : TEMPORARY Record 5274200);
     VAR
       AccNo@1005 : Code[20];
     BEGIN
       AccNo := GetDtldVendLedgEntryAccNo(GenJnlLine,DtldCVLedgEntryBuf,VendPostingGr,0,FALSE);
-      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,AdjAmount,FALSE);
+      //OS038s os.jgl
+      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,CVPostBuf,FALSE);
+      //OS038e os.jgl
     END;
 
     LOCAL PROCEDURE PostDtldVendLedgEntryUnapply@69(GenJnlLine@1007 : Record 81;DtldCVLedgEntryBuf@1001 : Record 383;VendPostingGr@1000 : Record 93;OriginalTransactionNo@1006 : Integer);
     VAR
       AccNo@1002 : Code[20];
-      AdjAmount@1003 : ARRAY [4] OF Decimal;
     BEGIN
-      IF (DtldCVLedgEntryBuf."Amount (LCY)" = 0) AND
-         (DtldCVLedgEntryBuf."VAT Amount (LCY)" = 0) AND
-         ((AddCurrencyCode = '') OR (DtldCVLedgEntryBuf."Additional-Currency Amount" = 0))
+      //OS038s os.jgl
+      IF (DtldCVLedgEntryBuf.Amount = 0) AND (DtldCVLedgEntryBuf."Amount (LCY)" = 0) AND
+        //PX046s px.jgl
+        (DtldCVLedgEntryBuf."VAT Amount" = 0) AND (DtldCVLedgEntryBuf."VAT Amount (LCY)" = 0) AND
+        ((AddCurrencyCode = '') OR ((DtldCVLedgEntryBuf."Additional-Currency Amount" = 0) AND
+        (DtldCVLedgEntryBuf."VAT Amount (ACY)" = 0)))
+        //PX046e px.jgl
+      //OS038e os.jgl
       THEN
         EXIT;
 
       AccNo := GetDtldVendLedgEntryAccNo(GenJnlLine,DtldCVLedgEntryBuf,VendPostingGr,OriginalTransactionNo,TRUE);
       DtldCVLedgEntryBuf."Gen. Posting Type" := DtldCVLedgEntryBuf."Gen. Posting Type"::Purchase;
-      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,AdjAmount,TRUE);
+      //OS038s os.jgl
+      PostDtldCVLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,AccNo,CVPostBuf,TRUE);
+      //OS038e os.jgl
     END;
 
     LOCAL PROCEDURE GetDtldVendLedgEntryAccNo@56(GenJnlLine@1000 : Record 81;DtldCVLedgEntryBuf@1002 : Record 383;VendPostingGr@1006 : Record 93;OriginalTransactionNo@1003 : Integer;Unapply@1001 : Boolean) : Code[20];
@@ -3464,15 +4076,24 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
     LOCAL PROCEDURE PostDtldEmplLedgEntries@148(GenJnlLine@1000 : Record 81;VAR DtldCVLedgEntryBuf@1001 : Record 383;EmplPostingGr@1002 : Record 5221;LedgEntryInserted@1011 : Boolean) DtldLedgEntryInserted : Boolean;
     VAR
-      TempInvPostBuf@1007 : TEMPORARY Record 49;
       DtldEmplLedgEntry@1004 : Record 5223;
       DummyAdjAmount@1012 : ARRAY [4] OF Decimal;
       DtldEmplLedgEntryNoOffset@1005 : Integer;
       SaveEntryNo@1013 : Integer;
+      "***** Plexada Variables *****"@119451023 : Integer;
+      OriginalGenJnlCurrencyCode@119451022 : Code[10];
+      OriginalGenJnlSrcCurrencyCode@119451021 : Code[10];
     BEGIN
       IF GenJnlLine."Account Type" <> GenJnlLine."Account Type"::Employee THEN
         EXIT;
 
+      //PX050s px.jgl os.jgl clear the by-currency posting buffers
+      CVPostBuf.RESET;
+      CVPostBuf.DELETEALL;
+      OriginalGenJnlCurrencyCode := GenJnlLine."Currency Code";
+      OriginalGenJnlSrcCurrencyCode := GenJnlLine."Source Currency Code";
+      //PX050e px.jgl
+
       IF DtldEmplLedgEntry.FINDLAST THEN
         DtldEmplLedgEntryNoOffset := DtldEmplLedgEntry."Entry No."
       ELSE
@@ -3485,23 +4106,38 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           NextEntryNo := NextEntryNo + 1;
         END;
         REPEAT
+          //PX050s px.jgl
+          //set the currency code in the GenJnlLine
+          GenJnlLine."Currency Code" := DtldCVLedgEntryBuf."Currency Code";
+          GenJnlLine."Source Currency Code" := DtldCVLedgEntryBuf."Currency Code";
+          //PX050e px.jgl
+
           InsertDtldEmplLedgEntry(GenJnlLine,DtldCVLedgEntryBuf,DtldEmplLedgEntry,DtldEmplLedgEntryNoOffset);
 
-          UpdateTotalAmounts(
-            TempInvPostBuf,GenJnlLine."Dimension Set ID",
-            DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount");
+          //PX050s px.jgl
+          UpdateTotalAmounts(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+            DtldCVLedgEntryBuf.Amount,DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount",
+            DtldCVLedgEntryBuf."Entry Type" = DtldCVLedgEntryBuf."Entry Type"::"Initial Entry");
+          //PX050e px.jgl
         UNTIL DtldCVLedgEntryBuf.NEXT = 0;
       END;
 
-      CreateGLEntriesForTotalAmounts(
-        GenJnlLine,TempInvPostBuf,DummyAdjAmount,SaveEntryNo,EmplPostingGr.GetPayablesAccount,LedgEntryInserted);
+      //PX050s px.jgl
+      CreateGLEntriesForAdjAndTotalAmts(
+        GenJnlLine,CVPostBuf,SaveEntryNo,EmplPostingGr.GetPayablesAccount,LedgEntryInserted);
+      //PX050e px.jgl
 
       DtldLedgEntryInserted := NOT DtldCVLedgEntryBuf.ISEMPTY;
       DtldCVLedgEntryBuf.DELETEALL;
+      //PX050s px.jgl
+      GenJnlLine."Currency Code" := OriginalGenJnlCurrencyCode;
+      GenJnlLine."Source Currency Code" := OriginalGenJnlSrcCurrencyCode;
+      //PX050e px.jgl
     END;
 
-    LOCAL PROCEDURE PostDtldCVLedgEntry@15(GenJnlLine@1000 : Record 81;DtldCVLedgEntryBuf@1001 : Record 383;AccNo@1002 : Code[20];VAR AdjAmount@1004 : ARRAY [4] OF Decimal;Unapply@1005 : Boolean);
+    LOCAL PROCEDURE PostDtldCVLedgEntry@15(GenJnlLine@1000 : Record 81;DtldCVLedgEntryBuf@1001 : Record 383;AccNo@1002 : Code[20];VAR CVPostBuf@119451021 : Record 5274200;Unapply@1005 : Boolean);
     BEGIN
+      //OS038 os.jgl changed call parameters to integrate the CV Posting Buffer
       WITH DtldCVLedgEntryBuf DO
         CASE "Entry Type" OF
           "Entry Type"::"Initial Entry":
@@ -3515,39 +4151,55 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             BEGIN
               CreateGLEntryGainLoss(GenJnlLine,AccNo,-"Amount (LCY)","Currency Code" = AddCurrencyCode);
               IF NOT Unapply THEN
-                CollectAdjustment(AdjAmount,-"Amount (LCY)",0);
+                //OS038s os.jgl
+                CollectAdjustment(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+                  -"Amount (LCY)",-Amount,0);
+                //OS038e os.jgl
             END;
           "Entry Type"::"Payment Discount",
           "Entry Type"::"Payment Tolerance",
           "Entry Type"::"Payment Discount Tolerance":
             BEGIN
-              CreateGLEntry(GenJnlLine,AccNo,-"Amount (LCY)",-"Additional-Currency Amount",FALSE);
+              //OS038s os.jgl
+              CreateGLEntry(GenJnlLine,AccNo,-"Amount (LCY)",-Amount,-"Additional-Currency Amount",FALSE);
               IF NOT Unapply THEN
-                CollectAdjustment(AdjAmount,-"Amount (LCY)",-"Additional-Currency Amount");
+                CollectAdjustment(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+                  -"Amount (LCY)",-Amount,-"Additional-Currency Amount");
+              //OS038e os.jgl
             END;
           "Entry Type"::"Payment Discount (VAT Excl.)",
           "Entry Type"::"Payment Tolerance (VAT Excl.)",
           "Entry Type"::"Payment Discount Tolerance (VAT Excl.)":
             BEGIN
               IF NOT Unapply THEN
+                //OS038s os.jgl
                 CreateGLEntryVATCollectAdj(
-                  GenJnlLine,AccNo,-"Amount (LCY)",-"Additional-Currency Amount",-"VAT Amount (LCY)",DtldCVLedgEntryBuf,
-                  AdjAmount)
+                  GenJnlLine,AccNo,-"Amount (LCY)",-Amount,-"Additional-Currency Amount",-"VAT Amount (LCY)",-"VAT Amount",DtldCVLedgEntryBuf,
+                  CVPostBuf)
+                //OS038e os.jgl
               ELSE
+                //OS038s os.jgl
                 CreateGLEntryVAT(
-                  GenJnlLine,AccNo,-"Amount (LCY)",-"Additional-Currency Amount",-"VAT Amount (LCY)",DtldCVLedgEntryBuf);
+                  GenJnlLine,AccNo,-"Amount (LCY)",-Amount,-"Additional-Currency Amount",-"VAT Amount (LCY)",-"VAT Amount",DtldCVLedgEntryBuf);
+                //OS038e os.jgl
             END;
           "Entry Type"::"Appln. Rounding":
             IF "Amount (LCY)" <> 0 THEN BEGIN
-              CreateGLEntry(GenJnlLine,AccNo,-"Amount (LCY)",-"Additional-Currency Amount",TRUE);
+              //OS038s os.jgl
+              CreateGLEntry(GenJnlLine,AccNo,-"Amount (LCY)",-Amount,-"Additional-Currency Amount",TRUE);
               IF NOT Unapply THEN
-                CollectAdjustment(AdjAmount,-"Amount (LCY)",-"Additional-Currency Amount");
+                CollectAdjustment(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+                  -"Amount (LCY)",-Amount,-"Additional-Currency Amount");
+              //OS038e os.jgl
             END;
           "Entry Type"::"Correction of Remaining Amount":
             IF "Amount (LCY)" <> 0 THEN BEGIN
-              CreateGLEntry(GenJnlLine,AccNo,-"Amount (LCY)",0,FALSE);
+              //OS038s os.jgl
+              CreateGLEntry(GenJnlLine,AccNo,-"Amount (LCY)",-Amount,0,FALSE);
               IF NOT Unapply THEN
-                CollectAdjustment(AdjAmount,-"Amount (LCY)",0);
+                CollectAdjustment(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+                  -"Amount (LCY)",-Amount,0);
+              //OS038e os.jgl
             END;
           "Entry Type"::"Payment Discount (VAT Adjustment)",
           "Entry Type"::"Payment Tolerance (VAT Adjustment)",
@@ -3572,8 +4224,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             BEGIN
               VATPostingSetup.GET("VAT Bus. Posting Group","VAT Prod. Posting Group");
               VATPostingSetup.TESTFIELD("VAT Calculation Type",VATEntry."VAT Calculation Type");
+              //OS038s os.jgl
               CreateGLEntry(
-                GenJnlLine,VATPostingSetup.GetSalesAccount(FALSE),-"Amount (LCY)",-"Additional-Currency Amount",FALSE);
+                GenJnlLine,VATPostingSetup.GetSalesAccount(FALSE),-"Amount (LCY)",-Amount,-"Additional-Currency Amount",FALSE);
+              //OS038e os.jgl
             END;
           VATPostingSetup."VAT Calculation Type"::"Reverse Charge VAT":
             ;
@@ -3581,8 +4235,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             BEGIN
               TESTFIELD("Tax Jurisdiction Code");
               TaxJurisdiction.GET("Tax Jurisdiction Code");
+              //OS038s os.jgl
               CreateGLEntry(
-                GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),-"Amount (LCY)",-"Additional-Currency Amount",FALSE);
+                GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),-"Amount (LCY)",-Amount,-"Additional-Currency Amount",FALSE);
+              //OS038e os.jgl
             END;
         END;
       END;
@@ -3602,69 +4258,91 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             BEGIN
               VATPostingSetup.GET("VAT Bus. Posting Group","VAT Prod. Posting Group");
               VATPostingSetup.TESTFIELD("VAT Calculation Type",VATEntry."VAT Calculation Type");
+              //OS038s os.jgl
               CreateGLEntry(
-                GenJnlLine,VATPostingSetup.GetPurchAccount(FALSE),-"Amount (LCY)",-"Additional-Currency Amount",FALSE);
+                GenJnlLine,VATPostingSetup.GetPurchAccount(FALSE),-"Amount (LCY)",-Amount,-"Additional-Currency Amount",FALSE);
+              //OS038e os.jgl
             END;
           VATPostingSetup."VAT Calculation Type"::"Reverse Charge VAT":
             BEGIN
               VATPostingSetup.GET("VAT Bus. Posting Group","VAT Prod. Posting Group");
               VATPostingSetup.TESTFIELD("VAT Calculation Type",VATEntry."VAT Calculation Type");
+              //OS038s os.jgl
               CreateGLEntry(
-                GenJnlLine,VATPostingSetup.GetPurchAccount(FALSE),-"Amount (LCY)",-"Additional-Currency Amount",FALSE);
+                GenJnlLine,VATPostingSetup.GetPurchAccount(FALSE),-"Amount (LCY)",-Amount,-"Additional-Currency Amount",FALSE);
               CreateGLEntry(
-                GenJnlLine,VATPostingSetup.GetRevChargeAccount(FALSE),"Amount (LCY)","Additional-Currency Amount",FALSE);
+                GenJnlLine,VATPostingSetup.GetRevChargeAccount(FALSE),"Amount (LCY)",Amount,"Additional-Currency Amount",FALSE);
+              //OS038e os.jgl
             END;
           VATPostingSetup."VAT Calculation Type"::"Sales Tax":
             BEGIN
               TaxJurisdiction.GET("Tax Jurisdiction Code");
               IF "Use Tax" THEN BEGIN
+                //OS038s os.jgl
                 CreateGLEntry(
-                  GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),-"Amount (LCY)",-"Additional-Currency Amount",FALSE);
+                  GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),-"Amount (LCY)",-Amount,-"Additional-Currency Amount",FALSE);
                 CreateGLEntry(
-                  GenJnlLine,TaxJurisdiction.GetRevChargeAccount(FALSE),"Amount (LCY)","Additional-Currency Amount",FALSE);
+                  GenJnlLine,TaxJurisdiction.GetRevChargeAccount(FALSE),"Amount (LCY)",Amount,"Additional-Currency Amount",FALSE);
+                //OS038e os.jgl
               END ELSE
+                //OS038s os.jgl
                 CreateGLEntry(
-                  GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),-"Amount (LCY)",-"Additional-Currency Amount",FALSE);
+                  GenJnlLine,TaxJurisdiction.GetPurchAccount(FALSE),-"Amount (LCY)",-Amount,-"Additional-Currency Amount",FALSE);
+                //OS038e os.jgl
             END;
         END;
       END;
     END;
 
-    LOCAL PROCEDURE VendUnrealizedVAT@18(GenJnlLine@1017 : Record 81;VAR VendLedgEntry2@1000 : Record 25;SettledAmount@1001 : Decimal);
+    LOCAL PROCEDURE VendUnrealizedVAT@18(GenJnlLine@1017 : Record 81;VAR VendLedgEntry2@1000 : Record 25;SettledAmountFCY@1001 : Decimal);
     VAR
       VATEntry2@1002 : Record 254;
       TaxJurisdiction@1016 : Record 320;
       VATPostingSetup@1019 : Record 325;
       VATPart@1003 : Decimal;
-      VATAmount@1004 : Decimal;
-      VATBase@1005 : Decimal;
       VATAmountAddCurr@1006 : Decimal;
       VATBaseAddCurr@1007 : Decimal;
-      PaidAmount@1008 : Decimal;
-      TotalUnrealVATAmountFirst@1014 : Decimal;
-      TotalUnrealVATAmountLast@1015 : Decimal;
       PurchVATAccount@1009 : Code[20];
       PurchVATUnrealAccount@1010 : Code[20];
       PurchReverseAccount@1011 : Code[20];
       PurchReverseUnrealAccount@1012 : Code[20];
       LastConnectionNo@1013 : Integer;
       GLEntryNo@1018 : Integer;
-    BEGIN
+      "***** Plexada Renamed *****"@119451025 : Integer;
+      VATAmountLCY@119451027 : Decimal;
+      VATBaseLCY@119451026 : Decimal;
+      PaidAmountFCY@119451030 : Decimal;
+      TotalUnrealVATAmountFirstFCY@119451029 : Decimal;
+      TotalUnrealVATAmountLastFCY@119451028 : Decimal;
+      "***** Plexada Variables *****"@119451024 : Integer;
+      ForeignCurrency@119451021 : Record 4;
+      VATAmountFCY@119451023 : Decimal;
+      VATBaseFCY@119451022 : Decimal;
+    BEGIN
+      //OS001 os.jgl  to keep track of the 3 currencies, all fields are renamed to ..LCY, ..FCY and ..AddCurr throughout the function.
+      //calculate the realized part in currency... that should be more accurate.
+      //OS001s os.jgl
+      IF NOT ForeignCurrency.GET(VendLedgEntry2."Currency Code") THEN
+        ForeignCurrency.InitRoundingPrecision;
+      PaidAmountFCY := -VendLedgEntry2.Amount + VendLedgEntry2."Remaining Amount";
+      //OS001e os.jgl
       VATEntry2.RESET;
       VATEntry2.SETCURRENTKEY("Transaction No.");
       VATEntry2.SETRANGE("Transaction No.",VendLedgEntry2."Transaction No.");
-      PaidAmount := -VendLedgEntry2."Amount (LCY)" + VendLedgEntry2."Remaining Amt. (LCY)";
       IF VATEntry2.FINDSET THEN
         REPEAT
           VATPostingSetup.GET(VATEntry2."VAT Bus. Posting Group",VATEntry2."VAT Prod. Posting Group");
           IF VATPostingSetup."Unrealized VAT Type" IN
              [VATPostingSetup."Unrealized VAT Type"::Last,VATPostingSetup."Unrealized VAT Type"::"Last (Fully Paid)"]
           THEN
-            TotalUnrealVATAmountLast := TotalUnrealVATAmountLast - VATEntry2."Remaining Unrealized Amount";
+            //OS001s os.jgl
+            TotalUnrealVATAmountLastFCY := TotalUnrealVATAmountLastFCY - VATEntry2."Remaining Unreal. Amount (FCY)";
+            //OS001e os.jgl
           IF VATPostingSetup."Unrealized VAT Type" IN
-             [VATPostingSetup."Unrealized VAT Type"::First,VATPostingSetup."Unrealized VAT Type"::"First (Fully Paid)"]
-          THEN
-            TotalUnrealVATAmountFirst := TotalUnrealVATAmountFirst - VATEntry2."Remaining Unrealized Amount";
+            [VATPostingSetup."Unrealized VAT Type"::First,VATPostingSetup."Unrealized VAT Type"::"First (Fully Paid)"] THEN
+            //OS001s os.jgl
+            TotalUnrealVATAmountFirstFCY := TotalUnrealVATAmountFirstFCY - VATEntry2."Remaining Unreal. Amount (FCY)";
+            //OS001e os.jgl
         UNTIL VATEntry2.NEXT = 0;
       IF VATEntry2.FINDSET THEN BEGIN
         LastConnectionNo := 0;
@@ -3675,13 +4353,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             LastConnectionNo := VATEntry2."Sales Tax Connection No.";
           END;
 
+          //OS001s os.jgl
           VATPart :=
             VATEntry2.GetUnrealizedVATPart(
-              ROUND(SettledAmount / VendLedgEntry2.GetOriginalCurrencyFactor),
-              PaidAmount,
-              VendLedgEntry2."Original Amt. (LCY)",
-              TotalUnrealVATAmountFirst,
-              TotalUnrealVATAmountLast);
+              SettledAmountFCY,
+              PaidAmountFCY,
+              VendLedgEntry2."Original Amount",
+              TotalUnrealVATAmountFirstFCY,
+              TotalUnrealVATAmountLastFCY);
+          //OS001e os.jgl
 
           IF VATPart > 0 THEN BEGIN
             CASE VATEntry2."VAT Calculation Type" OF
@@ -3713,13 +4393,21 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             END;
 
             IF VATPart = 1 THEN BEGIN
-              VATAmount := VATEntry2."Remaining Unrealized Amount";
-              VATBase := VATEntry2."Remaining Unrealized Base";
+              //OS001s os.jgl
+              VATAmountFCY := VATEntry2."Remaining Unreal. Amount (FCY)";
+              VATBaseFCY := VATEntry2."Remaining Unreal. Base (FCY)";
+              //OS001e os.jgl
+              VATAmountLCY := VATEntry2."Remaining Unrealized Amount";
+              VATBaseLCY := VATEntry2."Remaining Unrealized Base";
               VATAmountAddCurr := VATEntry2."Add.-Curr. Rem. Unreal. Amount";
               VATBaseAddCurr := VATEntry2."Add.-Curr. Rem. Unreal. Base";
             END ELSE BEGIN
-              VATAmount := ROUND(VATEntry2."Remaining Unrealized Amount" * VATPart,GLSetup."Amount Rounding Precision");
-              VATBase := ROUND(VATEntry2."Remaining Unrealized Base" * VATPart,GLSetup."Amount Rounding Precision");
+              //OS001s os.jgl
+              VATAmountFCY := ROUND(VATEntry2."Remaining Unreal. Amount (FCY)" * VATPart,ForeignCurrency."Amount Rounding Precision");
+              VATBaseFCY := ROUND(VATEntry2."Remaining Unreal. Base (FCY)" *VATPart,ForeignCurrency."Amount Rounding Precision");
+              //OS001e os.jgl
+              VATAmountLCY := ROUND(VATEntry2."Remaining Unrealized Amount" * VATPart,GLSetup."Amount Rounding Precision");
+              VATBaseLCY := ROUND(VATEntry2."Remaining Unrealized Base" * VATPart,GLSetup."Amount Rounding Precision");
               VATAmountAddCurr :=
                 ROUND(
                   VATEntry2."Add.-Curr. Rem. Unreal. Amount" * VATPart,
@@ -3730,10 +4418,13 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                   AddCurrency."Amount Rounding Precision");
             END;
 
+            //OS038s os.jgl
             InitGLEntryVAT(
-              GenJnlLine,PurchVATUnrealAccount,PurchVATAccount,-VATAmount,-VATAmountAddCurr,FALSE);
+              GenJnlLine,PurchVATUnrealAccount,PurchVATAccount,-VATAmountLCY,-VATAmountFCY,-VATAmountAddCurr,FALSE);
             GLEntryNo :=
-              InitGLEntryVATCopy(GenJnlLine,PurchVATAccount,PurchVATUnrealAccount,VATAmount,VATAmountAddCurr,VATEntry2);
+              InitGLEntryVATCopy(
+                GenJnlLine,PurchVATAccount,PurchVATUnrealAccount,VATAmountLCY,VATAmountFCY,VATAmountAddCurr,VATEntry2);
+            //OS038e os.jgl
 
             IF (VATEntry2."VAT Calculation Type" =
                 VATEntry2."VAT Calculation Type"::"Reverse Charge VAT") OR
@@ -3741,13 +4432,17 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
                  VATEntry2."VAT Calculation Type"::"Sales Tax") AND
                 (VATEntry2.Type = VATEntry2.Type::Purchase) AND VATEntry2."Use Tax")
             THEN BEGIN
+              //OS038s os.jgl
               InitGLEntryVAT(
-                GenJnlLine,PurchReverseUnrealAccount,PurchReverseAccount,VATAmount,VATAmountAddCurr,FALSE);
+                GenJnlLine,PurchReverseUnrealAccount,PurchReverseAccount,VATAmountLCY,VATAmountFCY,VATAmountAddCurr,FALSE);
               GLEntryNo :=
-                InitGLEntryVATCopy(GenJnlLine,PurchReverseAccount,PurchReverseUnrealAccount,-VATAmount,-VATAmountAddCurr,VATEntry2);
+                InitGLEntryVATCopy(GenJnlLine,PurchReverseAccount,PurchReverseUnrealAccount,-VATAmountLCY,-VATAmountFCY,-VATAmountAddCurr,VATEntry2);
+              //OS038e os.jgl
             END;
 
-            PostUnrealVATEntry(GenJnlLine,VATEntry2,VATAmount,VATBase,VATAmountAddCurr,VATBaseAddCurr,GLEntryNo);
+            //OS038s os.jgl
+            PostUnrealVATEntry(GenJnlLine,VATEntry2,VATAmountLCY,VATBaseLCY,VATAmountFCY,VATBaseFCY,VATAmountAddCurr,VATBaseAddCurr,GLEntryNo);
+            //OS038e os.jgl
           END;
         UNTIL VATEntry2.NEXT = 0;
 
@@ -3755,8 +4450,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       END;
     END;
 
-    LOCAL PROCEDURE PostUnrealVATEntry@5(GenJnlLine@1002 : Record 81;VAR VATEntry2@1000 : Record 254;VATAmount@1003 : Decimal;VATBase@1004 : Decimal;VATAmountAddCurr@1006 : Decimal;VATBaseAddCurr@1005 : Decimal;GLEntryNo@1001 : Integer);
+    LOCAL PROCEDURE PostUnrealVATEntry@5(GenJnlLine@1002 : Record 81;VAR VATEntry2@1000 : Record 254;VATAmountLCY@1003 : Decimal;VATBaseLCY@1004 : Decimal;VATAmountFCY@119451021 : Decimal;VATBaseFCY@119451022 : Decimal;VATAmountAddCurr@1006 : Decimal;VATBaseAddCurr@1005 : Decimal;GLEntryNo@1001 : Integer);
     BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr
       VATEntry.LOCKTABLE;
       VATEntry := VATEntry2;
       VATEntry."Entry No." := NextVATEntryNo;
@@ -3764,8 +4460,16 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       VATEntry."Document No." := GenJnlLine."Document No.";
       VATEntry."External Document No." := GenJnlLine."External Document No.";
       VATEntry."Document Type" := GenJnlLine."Document Type";
-      VATEntry.Amount := VATAmount;
-      VATEntry.Base := VATBase;
+      //OS001s os.jgl
+      VATEntry."Amount (FCY)" := VATAmountFCY;
+      VATEntry."Base (FCY)" := VATBaseFCY;
+      //OS001e os.jgl
+      VATEntry.Amount := VATAmountLCY;
+      VATEntry.Base := VATBaseLCY;
+      //OS001s os.jgl
+      VATEntry."Unrealized Amount (FCY)" := 0;
+      VATEntry."Unrealized Base (FCY)" := 0;
+      //OS001e os.jgl
       VATEntry."Additional-Currency Amount" := VATAmountAddCurr;
       VATEntry."Additional-Currency Base" := VATBaseAddCurr;
       VATEntry.SetUnrealAmountsToZero;
@@ -3781,6 +4485,12 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       GLEntryVATEntryLink.InsertLink(GLEntryNo + 1,NextVATEntryNo);
       NextVATEntryNo := NextVATEntryNo + 1;
 
+      //OS001s os.jgl
+      VATEntry2."Remaining Unreal. Amount (FCY)" :=
+        VATEntry2."Remaining Unreal. Amount (FCY)" - VATEntry."Amount (FCY)";
+      VATEntry2."Remaining Unreal. Base (FCY)" :=
+        VATEntry2."Remaining Unreal. Base (FCY)" - VATEntry."Base (FCY)";
+      //OS001e os.jgl
       VATEntry2."Remaining Unrealized Amount" :=
         VATEntry2."Remaining Unrealized Amount" - VATEntry.Amount;
       VATEntry2."Remaining Unrealized Base" :=
@@ -3866,10 +4576,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       VATEntry@1009 : Record 254;
       TempVATEntry2@1023 : TEMPORARY Record 254;
       CurrencyLCY@1024 : Record 4;
-      TempInvPostBuf@1002 : TEMPORARY Record 49;
-      AdjAmount@1031 : ARRAY [4] OF Decimal;
       NextDtldLedgEntryNo@1001 : Integer;
       UnapplyVATEntries@1000 : Boolean;
+      "***** Plexada Variables *****"@119451022 : Integer;
+      ForeignCurrency@119451021 : Record 4;
     BEGIN
       GenJnlLine.TRANSFERFIELDS(GenJnlLine2);
       IF GenJnlLine."Document Date" = 0D THEN
@@ -3882,8 +4592,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
       ReadGLSetup(GLSetup);
 
+      //OS016s os.jgl clear the by-currency posting buffers
+      CVPostBuf.RESET;
+      CVPostBuf.DELETEALL;
+      //OS016e os.jgl
       Cust.GET(DtldCustLedgEntry."Customer No.");
-      Cust.CheckBlockedCustOnJnls(Cust,GenJnlLine2."Document Type"::Payment,TRUE);
+      //OS002s os.jgl
+      IF NOT GenJnlLine."Force Post" THEN
+        Cust.CheckBlockedCustOnJnls(Cust,GenJnlLine2."Document Type"::Payment,TRUE);
+      //OS002e os.jgl
       CustPostingGr.GET(GenJnlLine."Posting Group");
       CustPostingGr.GetReceivablesAccount;
 
@@ -3914,9 +4631,12 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             UnapplyVATEntries := TRUE
         UNTIL DtldCustLedgEntry2.NEXT = 0;
 
+        //PX001s px.jgl
         PostUnapply(
           GenJnlLine,VATEntry,VATEntry.Type::Sale,
-          DtldCustLedgEntry."Customer No.",DtldCustLedgEntry."Transaction No.",UnapplyVATEntries,TempVATEntry);
+          DtldCustLedgEntry."Customer No.",DtldCustLedgEntry."Transaction No.",UnapplyVATEntries,TempVATEntry,
+          DtldCustLedgEntry."Application Transaction No.");
+        //PX001e px.jgl
 
         DtldCustLedgEntry2.FINDSET;
         REPEAT
@@ -3928,33 +4648,54 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
       // Look one more time
       DtldCustLedgEntry2.FINDSET;
-      TempInvPostBuf.DELETEALL;
       REPEAT
         DtldCustLedgEntry2.TESTFIELD(Unapplied,FALSE);
-        InsertDtldCustLedgEntryUnapply(GenJnlLine,NewDtldCustLedgEntry,DtldCustLedgEntry2,NextDtldLedgEntryNo);
+        //OS019s os.jgl  keep the currency handling
+        //OS012s os.jgl
+        GenJnlLine."Currency Code" := DtldCustLedgEntry2."Currency Code";
+        //OS012e os.jgl
+        GenJnlLine."Source Currency Code" := DtldCustLedgEntry2."Currency Code";
+        //OS019e os.jgl
+        //PX001s px.jgl
+        InsertDtldCustLedgEntryUnapply(GenJnlLine,NewDtldCustLedgEntry,DtldCustLedgEntry2,NextDtldLedgEntryNo,NextTransactionNo);
+        //PX001e px.jgl
 
         DtldCVLedgEntryBuf.INIT;
         DtldCVLedgEntryBuf.TRANSFERFIELDS(NewDtldCustLedgEntry);
         SetAddCurrForUnapplication(DtldCVLedgEntryBuf);
         CurrencyLCY.InitRoundingPrecision;
+        //OS001s os.jgl
+        IF NOT ForeignCurrency.GET(DtldCustLedgEntry2."Currency Code") THEN
+          ForeignCurrency.InitRoundingPrecision;
+        //OS001e os.jgl
 
         IF (DtldCustLedgEntry2."Transaction No." <> 0) AND IsVATExcluded(DtldCustLedgEntry2."Entry Type") THEN BEGIN
+          //PX047s px.jgl
           UnapplyExcludedVAT(
             TempVATEntry2,DtldCustLedgEntry2."Transaction No.",DtldCustLedgEntry2."VAT Bus. Posting Group",
-            DtldCustLedgEntry2."VAT Prod. Posting Group",DtldCustLedgEntry2."Gen. Prod. Posting Group");
-          DtldCVLedgEntryBuf."VAT Amount (LCY)" :=
-            CalcVATAmountFromVATEntry(DtldCVLedgEntryBuf."Amount (LCY)",TempVATEntry2,CurrencyLCY);
+            DtldCustLedgEntry2."VAT Prod. Posting Group",DtldCustLedgEntry2."Gen. Prod. Posting Group",
+            DtldCustLedgEntry2."Application Transaction No.");
+          //PX047e px.jgl
+          //OS038s os.jgl
+          CalcVATAmountFromVATEntry(DtldCVLedgEntryBuf,TempVATEntry2,CurrencyLCY,ForeignCurrency);
+          //OS038e os.jgl
         END;
+        //OS038s os.jgl
+        //OS039s os.jgl
         UpdateTotalAmounts(
-          TempInvPostBuf,GenJnlLine."Dimension Set ID",DtldCVLedgEntryBuf."Amount (LCY)",
-          DtldCVLedgEntryBuf."Additional-Currency Amount");
-
+          CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",DtldCVLedgEntryBuf.Amount,
+          DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount",
+          DtldCVLedgEntryBuf."Entry Type" = DtldCVLedgEntryBuf."Entry Type"::"Initial Entry");
+        //OS039e os.jgl
+        //OS038e os.jgl
         IF NOT (DtldCVLedgEntryBuf."Entry Type" IN [
                                                     DtldCVLedgEntryBuf."Entry Type"::"Initial Entry",
                                                     DtldCVLedgEntryBuf."Entry Type"::Application])
         THEN
-          CollectAdjustment(AdjAmount,
-            -DtldCVLedgEntryBuf."Amount (LCY)",-DtldCVLedgEntryBuf."Additional-Currency Amount");
+          //OS038s os.jgl
+          CollectAdjustment(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+            -DtldCVLedgEntryBuf."Amount (LCY)",-DtldCVLedgEntryBuf.Amount,-DtldCVLedgEntryBuf."Additional-Currency Amount");
+          //OS038e os.jgl
 
         PostDtldCustLedgEntryUnapply(
           GenJnlLine,DtldCVLedgEntryBuf,CustPostingGr,DtldCustLedgEntry2."Transaction No.");
@@ -3966,7 +4707,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         UpdateCustLedgEntry(DtldCustLedgEntry2);
       UNTIL DtldCustLedgEntry2.NEXT = 0;
 
-      CreateGLEntriesForTotalAmountsUnapply(GenJnlLine,TempInvPostBuf,CustPostingGr.GetReceivablesAccount);
+      //OS038s os.jgl
+      CreateGLEntriesForAdjAndTotalAmts(GenJnlLine,CVPostBuf,0,CustPostingGr.GetReceivablesAccount,FALSE);
+      //OS038e os.jgl
 
       IF IsTempGLEntryBufEmpty THEN
         DtldCustLedgEntry.SetZeroTransNo(NextTransactionNo);
@@ -3987,10 +4730,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       VATEntry@1008 : Record 254;
       TempVATEntry2@1023 : TEMPORARY Record 254;
       CurrencyLCY@1024 : Record 4;
-      TempInvPostBuf@1001 : TEMPORARY Record 49;
-      AdjAmount@1031 : ARRAY [4] OF Decimal;
       NextDtldLedgEntryNo@1000 : Integer;
       UnapplyVATEntries@1013 : Boolean;
+      "***** Plexada Variables *****"@119451022 : Integer;
+      ForeignCurrency@119451021 : Record 4;
     BEGIN
       GenJnlLine.TRANSFERFIELDS(GenJnlLine2);
       IF GenJnlLine."Document Date" = 0D THEN
@@ -4003,8 +4746,15 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
       ReadGLSetup(GLSetup);
 
+      //OS016s os.jgl clear the by-currency posting buffers
+      CVPostBuf.RESET;
+      CVPostBuf.DELETEALL;
+      //OS016e os.jgl
       Vend.GET(DtldVendLedgEntry."Vendor No.");
-      Vend.CheckBlockedVendOnJnls(Vend,GenJnlLine2."Document Type"::Payment,TRUE);
+      //OS002s os.jgl
+      IF NOT GenJnlLine."Force Post" THEN
+        Vend.CheckBlockedVendOnJnls(Vend,GenJnlLine2."Document Type"::Payment,TRUE);
+      //OS002e os.jgl
       VendPostingGr.GET(GenJnlLine."Posting Group");
       VendPostingGr.GetPayablesAccount;
 
@@ -4035,9 +4785,12 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             UnapplyVATEntries := TRUE
         UNTIL DtldVendLedgEntry2.NEXT = 0;
 
+        //PX001s px.jgl
         PostUnapply(
           GenJnlLine,VATEntry,VATEntry.Type::Purchase,
-          DtldVendLedgEntry."Vendor No.",DtldVendLedgEntry."Transaction No.",UnapplyVATEntries,TempVATEntry);
+          DtldVendLedgEntry."Vendor No.",DtldVendLedgEntry."Transaction No.",UnapplyVATEntries,TempVATEntry,
+          DtldVendLedgEntry."Application Transaction No.");
+        //PX001e px.jgl
 
         DtldVendLedgEntry2.FINDSET;
         REPEAT
@@ -4049,33 +4802,55 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
       // Look one more time
       DtldVendLedgEntry2.FINDSET;
-      TempInvPostBuf.DELETEALL;
       REPEAT
         DtldVendLedgEntry2.TESTFIELD(Unapplied,FALSE);
-        InsertDtldVendLedgEntryUnapply(GenJnlLine,NewDtldVendLedgEntry,DtldVendLedgEntry2,NextDtldLedgEntryNo);
+        //OS019s os.jgl  keep the currency handling
+        //OS012s os.jgl
+        GenJnlLine."Currency Code" := DtldVendLedgEntry2."Currency Code";
+        //OS012e os.jgl
+        GenJnlLine."Source Currency Code" := DtldVendLedgEntry2."Currency Code";
+        //OS019e os.jgl
+        //PX001s px.jgl
+        InsertDtldVendLedgEntryUnapply(GenJnlLine,NewDtldVendLedgEntry,DtldVendLedgEntry2,NextDtldLedgEntryNo,NextTransactionNo);
+        //PX001e px.jgl
 
         DtldCVLedgEntryBuf.INIT;
         DtldCVLedgEntryBuf.TRANSFERFIELDS(NewDtldVendLedgEntry);
         SetAddCurrForUnapplication(DtldCVLedgEntryBuf);
         CurrencyLCY.InitRoundingPrecision;
+        //OS001s os.jgl
+        IF NOT ForeignCurrency.GET(DtldVendLedgEntry2."Currency Code") THEN
+          ForeignCurrency.InitRoundingPrecision;
+        //OS001e os.jgl
 
         IF (DtldVendLedgEntry2."Transaction No." <> 0) AND IsVATExcluded(DtldVendLedgEntry2."Entry Type") THEN BEGIN
+          //PX047s px.jgl
           UnapplyExcludedVAT(
             TempVATEntry2,DtldVendLedgEntry2."Transaction No.",DtldVendLedgEntry2."VAT Bus. Posting Group",
-            DtldVendLedgEntry2."VAT Prod. Posting Group",DtldVendLedgEntry2."Gen. Prod. Posting Group");
-          DtldCVLedgEntryBuf."VAT Amount (LCY)" :=
-            CalcVATAmountFromVATEntry(DtldCVLedgEntryBuf."Amount (LCY)",TempVATEntry2,CurrencyLCY);
+            DtldVendLedgEntry2."VAT Prod. Posting Group",DtldVendLedgEntry2."Gen. Prod. Posting Group",
+            DtldVendLedgEntry2."Application Transaction No.");
+          //PX047e px.jgl
+          //OS038s os.jgl
+          CalcVATAmountFromVATEntry(DtldCVLedgEntryBuf,TempVATEntry2,CurrencyLCY,ForeignCurrency);
+          //OS038e os.jgl
         END;
+        //OS038s os.jgl
+        //OS039s os.jgl
         UpdateTotalAmounts(
-          TempInvPostBuf,GenJnlLine."Dimension Set ID",DtldCVLedgEntryBuf."Amount (LCY)",
-          DtldCVLedgEntryBuf."Additional-Currency Amount");
+          CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",DtldCVLedgEntryBuf.Amount,
+          DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount",
+          DtldCVLedgEntryBuf."Entry Type" = DtldCVLedgEntryBuf."Entry Type"::"Initial Entry");
+        //OS039e os.jgl
+        //OS038e os.jgl
 
         IF NOT (DtldCVLedgEntryBuf."Entry Type" IN [
                                                     DtldCVLedgEntryBuf."Entry Type"::"Initial Entry",
                                                     DtldCVLedgEntryBuf."Entry Type"::Application])
         THEN
-          CollectAdjustment(AdjAmount,
-            -DtldCVLedgEntryBuf."Amount (LCY)",-DtldCVLedgEntryBuf."Additional-Currency Amount");
+          //OS038s os.jgl
+          CollectAdjustment(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+            -DtldCVLedgEntryBuf."Amount (LCY)",-DtldCVLedgEntryBuf.Amount,-DtldCVLedgEntryBuf."Additional-Currency Amount");
+          //OS038e os.jgl
 
         PostDtldVendLedgEntryUnapply(
           GenJnlLine,DtldCVLedgEntryBuf,VendPostingGr,DtldVendLedgEntry2."Transaction No.");
@@ -4087,7 +4862,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         UpdateVendLedgEntry(DtldVendLedgEntry2);
       UNTIL DtldVendLedgEntry2.NEXT = 0;
 
-      CreateGLEntriesForTotalAmountsUnapply(GenJnlLine,TempInvPostBuf,VendPostingGr.GetPayablesAccount);
+      //OS038s os.jgl
+      CreateGLEntriesForAdjAndTotalAmts(GenJnlLine,CVPostBuf,0,VendPostingGr.GetPayablesAccount,FALSE);
+      //OS038e os.jgl
 
       IF IsTempGLEntryBufEmpty THEN
         DtldVendLedgEntry.SetZeroTransNo(NextTransactionNo);
@@ -4106,7 +4883,6 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       EmplLedgEntry@1010 : Record 5222;
       DtldCVLedgEntryBuf@1009 : Record 383;
       CurrencyLCY@1024 : Record 4;
-      TempInvPostBuf@1001 : TEMPORARY Record 49;
       NextDtldLedgEntryNo@1000 : Integer;
     BEGIN
       GenJnlLine.TRANSFERFIELDS(GenJnlLine2);
@@ -4120,6 +4896,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
       ReadGLSetup(GLSetup);
 
+      //PX050s px.jgl clear the by-currency posting buffers
+      CVPostBuf.RESET;
+      CVPostBuf.DELETEALL;
+      //PX050e px.jgl
       Employee.GET(DtldEmplLedgEntry."Employee No.");
       Employee.CheckBlockedEmployeeOnJnls(TRUE);
       EmployeePostingGroup.GET(GenJnlLine."Posting Group");
@@ -4145,8 +4925,11 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
       // Look one more time
       DtldEmplLedgEntry2.FINDSET;
-      TempInvPostBuf.DELETEALL;
       REPEAT
+        //PX050s px.jgl
+        GenJnlLine."Currency Code" := DtldEmplLedgEntry2."Currency Code";
+        GenJnlLine."Source Currency Code" := DtldEmplLedgEntry2."Currency Code";
+        //PX050e px.jgl
         DtldEmplLedgEntry2.TESTFIELD(Unapplied,FALSE);
         InsertDtldEmplLedgEntryUnapply(GenJnlLine,NewDtldEmplLedgEntry,DtldEmplLedgEntry2,NextDtldLedgEntryNo);
 
@@ -4155,9 +4938,11 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         SetAddCurrForUnapplication(DtldCVLedgEntryBuf);
         CurrencyLCY.InitRoundingPrecision;
 
-        UpdateTotalAmounts(
-          TempInvPostBuf,GenJnlLine."Dimension Set ID",DtldCVLedgEntryBuf."Amount (LCY)",
-          DtldCVLedgEntryBuf."Additional-Currency Amount");
+        //PX050s px.jgl
+        UpdateTotalAmounts(CVPostBuf,GenJnlLine."Currency Code",GenJnlLine."Posting Date",GenJnlLine."Dimension Set ID",
+          DtldCVLedgEntryBuf.Amount,DtldCVLedgEntryBuf."Amount (LCY)",DtldCVLedgEntryBuf."Additional-Currency Amount",
+          DtldCVLedgEntryBuf."Entry Type" = DtldCVLedgEntryBuf."Entry Type"::"Initial Entry");
+        //PX050e px.jgl
 
         DtldEmplLedgEntry2.Unapplied := TRUE;
         DtldEmplLedgEntry2."Unapplied by Entry No." := NewDtldEmplLedgEntry."Entry No.";
@@ -4166,14 +4951,17 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         UpdateEmplLedgEntry(DtldEmplLedgEntry2);
       UNTIL DtldEmplLedgEntry2.NEXT = 0;
 
-      CreateGLEntriesForTotalAmountsUnapply(GenJnlLine,TempInvPostBuf,EmployeePostingGroup.GetPayablesAccount);
+      //PX050s px.jgl
+      CreateGLEntriesForAdjAndTotalAmts(
+        GenJnlLine,CVPostBuf,0,EmployeePostingGroup.GetPayablesAccount,FALSE);
+      //PX050e px.jgl
 
       IF IsTempGLEntryBufEmpty THEN
         DtldEmplLedgEntry.SetZeroTransNo(NextTransactionNo);
       FinishPosting;
     END;
 
-    LOCAL PROCEDURE UnapplyExcludedVAT@85(VAR TempVATEntry@1000 : TEMPORARY Record 254;TransactionNo@1004 : Integer;VATBusPostingGroup@1001 : Code[20];VATProdPostingGroup@1002 : Code[20];GenProdPostingGroup@1003 : Code[20]);
+    LOCAL PROCEDURE UnapplyExcludedVAT@85(VAR TempVATEntry@1000 : TEMPORARY Record 254;TransactionNo@1004 : Integer;VATBusPostingGroup@1001 : Code[20];VATProdPostingGroup@1002 : Code[20];GenProdPostingGroup@1003 : Code[20];ApplicationtransactionNo@119451021 : Integer);
     BEGIN
       TempVATEntry.SETRANGE("VAT Bus. Posting Group",VATBusPostingGroup);
       TempVATEntry.SETRANGE("VAT Prod. Posting Group",VATProdPostingGroup);
@@ -4188,16 +4976,27 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         TempVATEntry."VAT Bus. Posting Group" := VATBusPostingGroup;
         TempVATEntry."VAT Prod. Posting Group" := VATProdPostingGroup;
         TempVATEntry."Gen. Prod. Posting Group" := GenProdPostingGroup;
-        VATEntry.SETCURRENTKEY("Transaction No.");
+        //PX001s px.jgl
+        VATEntry.SETCURRENTKEY("Transaction No.","Application Transaction No.");
         VATEntry.SETRANGE("Transaction No.",TransactionNo);
+        VATEntry.SETRANGE("Application Transaction No.",ApplicationtransactionNo);
+        //PX001e px.jgl
         VATEntry.SETRANGE("VAT Bus. Posting Group",VATBusPostingGroup);
         VATEntry.SETRANGE("VAT Prod. Posting Group",VATProdPostingGroup);
         VATEntry.SETRANGE("Gen. Prod. Posting Group",GenProdPostingGroup);
         IF VATEntry.FINDSET THEN
           REPEAT
             IF VATEntry."Unrealized VAT Entry No." = 0 THEN BEGIN
+              //OS001s os.jgl
+              TempVATEntry."Base (FCY)" := TempVATEntry."Base (FCY)" + VATEntry."Base (FCY)";
+              TempVATEntry."Amount (FCY)" := TempVATEntry."Amount (FCY)" + VATEntry."Amount (FCY)";
+              //OS001e os.jgl
               TempVATEntry.Base := TempVATEntry.Base + VATEntry.Base;
               TempVATEntry.Amount := TempVATEntry.Amount + VATEntry.Amount;
+              //OS038s os.jgl
+              TempVATEntry."Additional-Currency Base" := TempVATEntry."Additional-Currency Base" + VATEntry."Additional-Currency Base";
+              TempVATEntry."Additional-Currency Amount" := TempVATEntry."Additional-Currency Amount" + VATEntry."Additional-Currency Amount";
+              //OS038e os.jgl
             END;
           UNTIL VATEntry.NEXT = 0;
         CLEAR(VATEntry);
@@ -4210,14 +5009,23 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       VATEntry2@1003 : Record 254;
       AmountAddCurr@1007 : Decimal;
     BEGIN
+      //OS038s os.jgl
+      IF (AddCurrencyCode <> '') AND (AddCurrencyCode = VATEntry."Currency Code") THEN
+        AmountAddCurr := VATEntry."Additional-Currency Amount"
+      ELSE
       AmountAddCurr := CalcAddCurrForUnapplication(VATEntry."Posting Date",VATEntry.Amount);
       CreateGLEntry(
-        GenJnlLine,GetPostingAccountNo(VATPostingSetup,VATEntry,TRUE),VATEntry.Amount,AmountAddCurr,FALSE);
+        GenJnlLine,GetPostingAccountNo(VATPostingSetup,VATEntry,TRUE),VATEntry.Amount,VATEntry."Amount (FCY)",AmountAddCurr,FALSE);
       CreateGLEntryFromVATEntry(
-        GenJnlLine,GetPostingAccountNo(VATPostingSetup,VATEntry,FALSE),-VATEntry.Amount,-AmountAddCurr,VATEntry);
+        GenJnlLine,GetPostingAccountNo(VATPostingSetup,VATEntry,FALSE),-VATEntry.Amount,-VATEntry."Amount (FCY)",-AmountAddCurr,VATEntry);
+      //OS038e os.jgl
 
       WITH VATEntry2 DO BEGIN
         GET(VATEntry."Unrealized VAT Entry No.");
+        //OS001s os.jgl
+        "Remaining Unreal. Amount (FCY)" := "Remaining Unreal. Amount (FCY)" - NewVATEntry."Amount (FCY)";
+        "Remaining Unreal. Base (FCY)" := "Remaining Unreal. Base (FCY)" - NewVATEntry."Base (FCY)";
+        //OS001e os.jgl
         "Remaining Unrealized Amount" := "Remaining Unrealized Amount" - NewVATEntry.Amount;
         "Remaining Unrealized Base" := "Remaining Unrealized Base" - NewVATEntry.Base;
         "Add.-Curr. Rem. Unreal. Amount" :=
@@ -4233,11 +5041,13 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       AmountAddCurr@1005 : Decimal;
     BEGIN
       AmountAddCurr := CalcAddCurrForUnapplication(VATEntry."Posting Date",VATEntry.Amount);
-      CreateGLEntry(GenJnlLine,ReverseChargeVATAccNo,VATEntry.Amount,AmountAddCurr,FALSE);
-      CreateGLEntry(GenJnlLine,VATAccNo,-VATEntry.Amount,-AmountAddCurr,FALSE);
+      //OS038s os.jgl
+      CreateGLEntry(GenJnlLine,ReverseChargeVATAccNo,VATEntry.Amount,VATEntry."Amount (FCY)",AmountAddCurr,FALSE);
+      CreateGLEntry(GenJnlLine,VATAccNo,-VATEntry.Amount,-VATEntry."Amount (FCY)",-AmountAddCurr,FALSE);
+      //OS038e os.jgl
     END;
 
-    LOCAL PROCEDURE PostUnapply@101(GenJnlLine@1007 : Record 81;VAR VATEntry@1002 : Record 254;VATEntryType@1004 : Option;BilltoPaytoNo@1001 : Code[20];TransactionNo@1003 : Integer;UnapplyVATEntries@1006 : Boolean;VAR TempVATEntry@1013 : TEMPORARY Record 254);
+    LOCAL PROCEDURE PostUnapply@101(GenJnlLine@1007 : Record 81;VAR VATEntry@1002 : Record 254;VATEntryType@1004 : Option;BilltoPaytoNo@1001 : Code[20];TransactionNo@1003 : Integer;UnapplyVATEntries@1006 : Boolean;VAR TempVATEntry@1013 : TEMPORARY Record 254;ApplicationTransactionNo@119451121 : Integer);
     VAR
       VATPostingSetup@1000 : Record 325;
       VATEntry2@1009 : Record 254;
@@ -4246,15 +5056,22 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       TempVATEntryNo@1005 : Integer;
     BEGIN
       TempVATEntryNo := 1;
-      VATEntry.SETCURRENTKEY(Type,"Bill-to/Pay-to No.","Transaction No.");
+      //PX001s px.jgl
+      VATEntry.SETCURRENTKEY(Type,"Bill-to/Pay-to No.","Transaction No.","Application Transaction No.");
+      //PX001e px.jgl
       VATEntry.SETRANGE(Type,VATEntryType);
       VATEntry.SETRANGE("Bill-to/Pay-to No.",BilltoPaytoNo);
       VATEntry.SETRANGE("Transaction No.",TransactionNo);
+      //PX001s px.jgl
+      VATEntry.SETRANGE("Application Transaction No.",ApplicationTransactionNo);
+      //PX001e px.jgl
       IF VATEntry.FINDSET THEN
         REPEAT
           VATPostingSetup.GET(VATEntry."VAT Bus. Posting Group",VATEntry."VAT Prod. Posting Group");
           IF UnapplyVATEntries OR (VATEntry."Unrealized VAT Entry No." <> 0) THEN BEGIN
-            InsertTempVATEntry(GenJnlLine,VATEntry,TempVATEntryNo,TempVATEntry);
+            //PX001s px.jgl
+            InsertTempVATEntry(GenJnlLine,VATEntry,TempVATEntryNo,TempVATEntry,NextTransactionNo);
+            //PX001e px.jgl
             IF VATEntry."Unrealized VAT Entry No." <> 0 THEN BEGIN
               VATPostingSetup.GET(VATEntry."VAT Bus. Posting Group",VATEntry."VAT Prod. Posting Group");
               IF VATPostingSetup."VAT Calculation Type" IN
@@ -4265,12 +5082,14 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
               ELSE
                 IF VATPostingSetup."VAT Calculation Type" = VATPostingSetup."VAT Calculation Type"::"Reverse Charge VAT" THEN BEGIN
                   PostUnrealVATByUnapply(GenJnlLine,VATPostingSetup,VATEntry,TempVATEntry);
+                  //OS038s os.jgl
                   CreateGLEntry(
                     GenJnlLine,VATPostingSetup.GetRevChargeAccount(TRUE),
-                    -VATEntry.Amount,CalcAddCurrForUnapplication(VATEntry."Posting Date",-VATEntry.Amount),FALSE);
+                    -VATEntry.Amount,-VATEntry."Amount (FCY)",CalcAddCurrForUnapplication(VATEntry."Posting Date",-VATEntry.Amount),FALSE);
                   CreateGLEntry(
                     GenJnlLine,VATPostingSetup.GetRevChargeAccount(FALSE),
-                    VATEntry.Amount,CalcAddCurrForUnapplication(VATEntry."Posting Date",VATEntry.Amount),FALSE);
+                    VATEntry.Amount,VATEntry."Amount (FCY)",CalcAddCurrForUnapplication(VATEntry."Posting Date",VATEntry.Amount),FALSE);
+                  //OS038e os.jgl
                 END ELSE
                   PostUnrealVATByUnapply(GenJnlLine,VATPostingSetup,VATEntry,TempVATEntry);
               VATEntry2 := TempVATEntry;
@@ -4317,25 +5136,62 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           AddCurrency."Amount Rounding Precision"));
     END;
 
-    LOCAL PROCEDURE CalcVATAmountFromVATEntry@99(AmountLCY@1000 : Decimal;VAR VATEntry@1001 : Record 254;CurrencyLCY@1003 : Record 4) VATAmountLCY : Decimal;
+    LOCAL PROCEDURE CalcVATAmountFromVATEntry@99(VAR DtldCVLedgEntryBuf@1000 : Record 383;VAR VATEntry@1001 : Record 254;CurrencyLCY@1003 : Record 4;CurrencyFCY@119451021 : Record 4);
     BEGIN
+      //OS038s os.jgl
+      // to handle all three currencies in one call, change parameters to records only, return the resulting VATAmounts in DtldCVLedgEntryBuf
       WITH VATEntry DO
-        IF (AmountLCY = Base) OR (Base = 0) THEN BEGIN
-          VATAmountLCY := Amount;
+        IF ((DtldCVLedgEntryBuf."Amount (LCY)" = Base) AND (DtldCVLedgEntryBuf.Amount = "Base (FCY)") AND
+          (DtldCVLedgEntryBuf."Additional-Currency Amount" = "Additional-Currency Base")) OR
+          ((Base = 0) AND ("Base (FCY)" = 0) AND ("Additional-Currency Base" = 0)) THEN BEGIN
+          DtldCVLedgEntryBuf."VAT Amount (LCY)" := Amount;
+          DtldCVLedgEntryBuf."VAT Amount" := "Amount (FCY)";
+          DtldCVLedgEntryBuf."VAT Amount (ACY)" := "Additional-Currency Amount";
           DELETE;
         END ELSE BEGIN
-          VATAmountLCY :=
-            ROUND(
-              Amount * AmountLCY / Base,
-              CurrencyLCY."Amount Rounding Precision",
-              CurrencyLCY.VATRoundingDirection);
-          Base := Base - AmountLCY;
-          Amount := Amount - VATAmountLCY;
+          //PX045s px.jgl
+          IF (DtldCVLedgEntryBuf."Amount (LCY)" = Base) OR (Base = 0) THEN BEGIN
+            DtldCVLedgEntryBuf."VAT Amount (LCY)" := Amount;
+          END ELSE BEGIN
+            DtldCVLedgEntryBuf."VAT Amount (LCY)" :=
+              ROUND(
+                Amount * DtldCVLedgEntryBuf."Amount (LCY)" / Base,
+                CurrencyLCY."Amount Rounding Precision",
+                CurrencyLCY.VATRoundingDirection);
+          END;
+          Base := Base - DtldCVLedgEntryBuf."Amount (LCY)";
+          Amount := Amount - DtldCVLedgEntryBuf."VAT Amount (LCY)";
+          IF (DtldCVLedgEntryBuf.Amount = "Base (FCY)") OR ("Base (FCY)" = 0) THEN BEGIN
+            DtldCVLedgEntryBuf."VAT Amount" := "Amount (FCY)";
+          END ELSE BEGIN
+            DtldCVLedgEntryBuf."VAT Amount" :=
+              ROUND(
+                "Amount (FCY)"* DtldCVLedgEntryBuf.Amount / "Base (FCY)",
+                CurrencyFCY."Amount Rounding Precision",
+                CurrencyFCY.VATRoundingDirection);
+          END;
+          "Base (FCY)" := "Base (FCY)" - DtldCVLedgEntryBuf.Amount;
+          "Amount (FCY)" := "Amount (FCY)" - DtldCVLedgEntryBuf."VAT Amount";
+          IF GLSetup."Additional Reporting Currency" <> '' THEN BEGIN
+            IF (DtldCVLedgEntryBuf."Additional-Currency Amount" = "Additional-Currency Base") OR ("Additional-Currency Base" = 0) THEN BEGIN
+              DtldCVLedgEntryBuf."VAT Amount (ACY)" := "Additional-Currency Amount";
+            END ELSE BEGIN
+              DtldCVLedgEntryBuf."VAT Amount (ACY)" :=
+                ROUND(
+                  "Additional-Currency Amount" * DtldCVLedgEntryBuf."Additional-Currency Amount" / "Additional-Currency Base",
+                  AddCurrency."Amount Rounding Precision",
+                  AddCurrency.VATRoundingDirection);
+            END;
+            "Additional-Currency Base" := "Additional-Currency Base" - DtldCVLedgEntryBuf."Additional-Currency Amount";
+            "Additional-Currency Amount" := "Additional-Currency Amount" - DtldCVLedgEntryBuf."VAT Amount (ACY)";
+          END;
+          //PX045e px.jgl
           MODIFY;
         END;
+      //OS038e os.jgl
     END;
 
-    LOCAL PROCEDURE InsertDtldCustLedgEntryUnapply@91(GenJnlLine@1002 : Record 81;VAR NewDtldCustLedgEntry@1000 : Record 379;OldDtldCustLedgEntry@1001 : Record 379;VAR NextDtldLedgEntryNo@1003 : Integer);
+    LOCAL PROCEDURE InsertDtldCustLedgEntryUnapply@91(GenJnlLine@1002 : Record 81;VAR NewDtldCustLedgEntry@1000 : Record 379;OldDtldCustLedgEntry@1001 : Record 379;VAR NextDtldLedgEntryNo@1003 : Integer;ApplicationTransactionNo@119451121 : Integer);
     BEGIN
       NewDtldCustLedgEntry := OldDtldCustLedgEntry;
       WITH NewDtldCustLedgEntry DO BEGIN
@@ -4343,6 +5199,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         "Posting Date" := GenJnlLine."Posting Date";
         "Transaction No." := NextTransactionNo;
         "Application No." := 0;
+        //PX001s px.jgl
+        "Application Transaction No." := ApplicationTransactionNo;
+        //PX001e px.jgl
         Amount := -OldDtldCustLedgEntry.Amount;
         "Amount (LCY)" := -OldDtldCustLedgEntry."Amount (LCY)";
         "Debit Amount" := -OldDtldCustLedgEntry."Debit Amount";
@@ -4359,7 +5218,7 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       NextDtldLedgEntryNo := NextDtldLedgEntryNo + 1;
     END;
 
-    LOCAL PROCEDURE InsertDtldVendLedgEntryUnapply@90(GenJnlLine@1003 : Record 81;VAR NewDtldVendLedgEntry@1002 : Record 380;OldDtldVendLedgEntry@1001 : Record 380;VAR NextDtldLedgEntryNo@1000 : Integer);
+    LOCAL PROCEDURE InsertDtldVendLedgEntryUnapply@90(GenJnlLine@1003 : Record 81;VAR NewDtldVendLedgEntry@1002 : Record 380;OldDtldVendLedgEntry@1001 : Record 380;VAR NextDtldLedgEntryNo@1000 : Integer;ApplicationTransactionNo@119451121 : Integer);
     BEGIN
       NewDtldVendLedgEntry := OldDtldVendLedgEntry;
       WITH NewDtldVendLedgEntry DO BEGIN
@@ -4367,6 +5226,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         "Posting Date" := GenJnlLine."Posting Date";
         "Transaction No." := NextTransactionNo;
         "Application No." := 0;
+        //PX001s px.jgl
+        "Application Transaction No." := ApplicationTransactionNo;
+        //PX001e px.jgl
         Amount := -OldDtldVendLedgEntry.Amount;
         "Amount (LCY)" := -OldDtldVendLedgEntry."Amount (LCY)";
         "Debit Amount" := -OldDtldVendLedgEntry."Debit Amount";
@@ -4407,7 +5269,7 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       NextDtldLedgEntryNo := NextDtldLedgEntryNo + 1;
     END;
 
-    LOCAL PROCEDURE InsertTempVATEntry@88(GenJnlLine@1002 : Record 81;VATEntry@1000 : Record 254;VAR TempVATEntryNo@1001 : Integer;VAR TempVATEntry@1003 : TEMPORARY Record 254);
+    LOCAL PROCEDURE InsertTempVATEntry@88(GenJnlLine@1002 : Record 81;VATEntry@1000 : Record 254;VAR TempVATEntryNo@1001 : Integer;VAR TempVATEntry@1003 : TEMPORARY Record 254;ApplicationTransactionNo@119451121 : Integer);
     BEGIN
       TempVATEntry := VATEntry;
       WITH TempVATEntry DO BEGIN
@@ -4420,6 +5282,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         "Document No." := GenJnlLine."Document No.";
         "User ID" := USERID;
         "Transaction No." := NextTransactionNo;
+        //PX001s px.jgl
+        "Application Transaction No."  := ApplicationTransactionNo;
+        //PX001e px.jgl
         INSERT;
       END;
     END;
@@ -4650,7 +5515,10 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         GLEntry."System-Created Entry" := TRUE;
         GLEntry."Additional-Currency Amount" := -TotalAddCurrAmount;
         GLAcc.GET(GLEntry."G/L Account No.");
-        GLAcc.TESTFIELD(Blocked,FALSE);
+        //OS002s os.jgl
+        IF NOT GenJnlLine."Force Post" THEN
+          GLAcc.TESTFIELD(Blocked,FALSE);
+        //OS002e os.jgl
         GLAcc.TESTFIELD("Account Type",GLAcc."Account Type"::Posting);
         InsertGLEntry(GenJnlLine,GLEntry,FALSE);
 
@@ -4901,19 +5769,23 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       IF (GenJnlLine.Amount = 0) AND (GenJnlLine."Amount (LCY)" = 0) THEN
         EXIT;
 
-      TableID[1] := DATABASE::"G/L Account";
-      AccNo[1] := GLAccNo;
-      IF DimMgt.CheckDimValuePosting(TableID,AccNo,GenJnlLine."Dimension Set ID") THEN
-        EXIT;
+      //OS002s os.jgl
+      IF NOT GenJnlLine."Force Post" THEN BEGIN
+        TableID[1] := DATABASE::"G/L Account";
+        AccNo[1] := GLAccNo;
+        IF DimMgt.CheckDimValuePosting(TableID,AccNo,GenJnlLine."Dimension Set ID") THEN
+          EXIT;
 
-      IF GenJnlLine."Line No." <> 0 THEN
-        ERROR(
-          DimensionUsedErr,
-          GenJnlLine.TABLECAPTION,GenJnlLine."Journal Template Name",
-          GenJnlLine."Journal Batch Name",GenJnlLine."Line No.",
-          DimMgt.GetDimValuePostingErr);
+        IF GenJnlLine."Line No." <> 0 THEN
+          ERROR(
+            DimensionUsedErr,
+            GenJnlLine.TABLECAPTION,GenJnlLine."Journal Template Name",
+            GenJnlLine."Journal Batch Name",GenJnlLine."Line No.",
+            DimMgt.GetDimValuePostingErr);
 
-      ERROR(DimMgt.GetDimValuePostingErr);
+        ERROR(DimMgt.GetDimValuePostingErr);
+      END;
+      //OS002e os.jgl
     END;
 
     LOCAL PROCEDURE CalculateCurrentBalance@95(AccountNo@1000 : Code[20];BalAccountNo@1001 : Code[20];InclVATAmount@1002 : Boolean;AmountLCY@1004 : Decimal;VATAmount@1005 : Decimal);
@@ -4943,50 +5815,77 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       END;
     END;
 
-    LOCAL PROCEDURE CollectAdjustment@181(VAR AdjAmount@1003 : ARRAY [4] OF Decimal;Amount@1004 : Decimal;AmountAddCurr@1005 : Decimal);
-    VAR
-      Offset@1001 : Integer;
-    BEGIN
-      Offset := GetAdjAmountOffset(Amount,AmountAddCurr);
-      AdjAmount[Offset] += Amount;
-      AdjAmount[Offset + 1] += AmountAddCurr;
-    END;
-
-    LOCAL PROCEDURE HandleDtldAdjustment@182(GenJnlLine@1008 : Record 81;VAR GLEntry@1002 : Record 17;AdjAmount@1010 : ARRAY [4] OF Decimal;TotalAmountLCY@1004 : Decimal;TotalAmountAddCurr@1005 : Decimal;GLAccNo@1007 : Code[20]);
-    BEGIN
-      IF NOT PostDtldAdjustment(
-           GenJnlLine,GLEntry,AdjAmount,
-           TotalAmountLCY,TotalAmountAddCurr,GLAccNo,
-           GetAdjAmountOffset(TotalAmountLCY,TotalAmountAddCurr))
-      THEN
-        InitGLEntry(GenJnlLine,GLEntry,GLAccNo,TotalAmountLCY,TotalAmountAddCurr,TRUE,TRUE);
-    END;
-
-    LOCAL PROCEDURE PostDtldAdjustment@96(GenJnlLine@1006 : Record 81;VAR GLEntry@1005 : Record 17;AdjAmount@1004 : ARRAY [4] OF Decimal;TotalAmountLCY@1002 : Decimal;TotalAmountAddCurr@1001 : Decimal;GLAcc@1000 : Code[20];ArrayIndex@1007 : Integer) : Boolean;
+    LOCAL PROCEDURE CollectAdjustment@181(VAR CVPostBuf@1003 : TEMPORARY Record 5274200;CurrencyCode@119451024 : Code[10];PostingDate@119451023 : Date;DimSetID@119451022 : Integer;AmountLCY@1004 : Decimal;AmountFCY@119451021 : Decimal;AmountAddCurr@1005 : Decimal);
     BEGIN
-      IF (GenJnlLine."Bal. Account No." <> '') AND
-         ((AdjAmount[ArrayIndex] <> 0) OR (AdjAmount[ArrayIndex + 1] <> 0)) AND
-         ((TotalAmountLCY + AdjAmount[ArrayIndex] <> 0) OR (TotalAmountAddCurr + AdjAmount[ArrayIndex + 1] <> 0))
-      THEN BEGIN
-        CreateGLEntryBalAcc(
-          GenJnlLine,GLAcc,-AdjAmount[ArrayIndex],-AdjAmount[ArrayIndex + 1],
-          GenJnlLine."Bal. Account Type",GenJnlLine."Bal. Account No.");
-        InitGLEntry(GenJnlLine,GLEntry,
-          GLAcc,TotalAmountLCY + AdjAmount[ArrayIndex],
-          TotalAmountAddCurr + AdjAmount[ArrayIndex + 1],TRUE,TRUE);
-        AdjAmount[ArrayIndex] := 0;
-        AdjAmount[ArrayIndex + 1] := 0;
-        EXIT(TRUE);
+      //OS038s os.jgl "co-opt" this function for use with the CVPostBuf instead. This is a better choice IMO, and it's SITC-compatible. We need the FCY field BTW.
+      WITH CVPostBuf DO BEGIN
+        SETRANGE("Currency Code",CurrencyCode);
+        SETRANGE("Dimension Set ID",DimSetID);
+        SETRANGE("Posting Date",PostingDate);
+        IF NOT FINDFIRST THEN BEGIN
+          INIT;
+          "Currency Code" := CurrencyCode;
+          "Dimension Set ID" := DimSetID;
+          "Posting Date" := PostingDate;
+          INSERT;
       END;
-
-      EXIT(FALSE);
+        IF (AmountLCY > 0) OR ((AmountLCY = 0) AND (AmountAddCurr > 0)) THEN BEGIN
+          DebitAddjustmentFCY := DebitAddjustmentFCY + AmountFCY;
+          DebitAddjustmentLCY := DebitAddjustmentLCY + AmountLCY;
+          DebitAddjustmentACY := DebitAddjustmentACY + AmountAddCurr;
+        END ELSE BEGIN
+          CreditAddjustmentFCY := CreditAddjustmentFCY + AmountFCY;
+          CreditAddjustmentLCY := CreditAddjustmentLCY + AmountLCY;
+          CreditAddjustmentACY := CreditAddjustmentACY + AmountAddCurr;
+      END;
+        MODIFY;
+      END;
+      //OS038e os.jgl
     END;
 
-    LOCAL PROCEDURE GetAdjAmountOffset@121(Amount@1000 : Decimal;AmountACY@1001 : Decimal) : Integer;
-    BEGIN
-      IF (Amount > 0) OR (Amount = 0) AND (AmountACY > 0) THEN
-        EXIT(1);
-      EXIT(3);
+    LOCAL PROCEDURE HandleDtldAdjustment@182(GenJnlLine@1008 : Record 81;VAR GLEntry@1002 : Record 17;CVPostBuf@119451021 : Record 5274200;GLAccNo@1007 : Code[20]) : Boolean;
+    VAR
+      GLInitDone@1006 : Boolean;
+    BEGIN
+      //OS038 os.jgl  extended parameters for ..FCY, ..LCY, ..AddCurr, completely reworked for use of CV Posting Buffer
+      //OS038s os.jgl
+      WITH CVPostBuf DO BEGIN
+        CASE TRUE OF
+          (TotalAmountLCY > 0) OR ((TotalAmountLCY = 0) AND (TotalAmountACY > 0)): BEGIN
+            IF ((DebitAddjustmentLCY <> 0) OR (DebitAddjustmentFCY <> 0) OR (DebitAddjustmentACY <> 0)) AND
+               ((TotalAmountLCY + DebitAddjustmentLCY <> 0) OR (TotalAmountFCY + DebitAddjustmentFCY <> 0) OR
+               (TotalAmountACY + DebitAddjustmentACY <> 0)) THEN BEGIN
+              CreateGLEntryBalAcc(
+                GenJnlLine,GLAccNo,-DebitAddjustmentLCY,-DebitAddjustmentFCY,-DebitAddjustmentACY,
+                GenJnlLine."Bal. Account Type",GenJnlLine."Bal. Account No.");
+              InitGLEntry(GenJnlLine,GLEntry,
+                GLAccNo,TotalAmountLCY + DebitAddjustmentLCY,TotalAmountFCY + DebitAddjustmentFCY,
+                TotalAmountACY + DebitAddjustmentACY,TRUE,TRUE);
+              GLInitDone := TRUE;
+            END;
+          END;
+          TotalAmountLCY < 0: BEGIN
+            IF ((CreditAddjustmentLCY <> 0) OR (CreditAddjustmentFCY <> 0) OR (CreditAddjustmentACY <> 0)) AND
+               ((TotalAmountLCY + CreditAddjustmentLCY <> 0) OR (TotalAmountFCY + CreditAddjustmentFCY <> 0) OR
+               (TotalAmountACY + CreditAddjustmentACY <> 0)) THEN BEGIN
+              CreateGLEntryBalAcc(
+                GenJnlLine,GLAccNo,-CreditAddjustmentLCY,-CreditAddjustmentFCY,-CreditAddjustmentACY,
+                GenJnlLine."Bal. Account Type",GenJnlLine."Bal. Account No.");
+              InitGLEntry(GenJnlLine,GLEntry,
+                GLAccNo,TotalAmountLCY + CreditAddjustmentLCY,TotalAmountFCY + CreditAddjustmentFCY,
+                TotalAmountACY + CreditAddjustmentACY,TRUE,TRUE);
+              GLInitDone := TRUE;
+            END;
+          END;
+        END;
+        IF NOT GLInitDone AND ((TotalAmountLCY <> 0) OR (TotalAmountFCY <> 0) OR (TotalAmountACY <> 0 ))THEN BEGIN
+          InitGLEntry(GenJnlLine,GLEntry,
+            GLAccNo,TotalAmountLCY,TotalAmountFCY,TotalAmountACY,TRUE,TRUE);
+          GLInitDone := TRUE;
+        END;
+        EXIT(GLInitDone);
+      END;
+      //OS038e os.jgl
     END;
 
     [External]
@@ -5053,74 +5952,101 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
       END;
     END;
 
-    LOCAL PROCEDURE UpdateTotalAmounts@132(VAR TempInvPostBuf@1003 : TEMPORARY Record 49;DimSetID@1000 : Integer;AmountToCollect@1001 : Decimal;AmountACYToCollect@1002 : Decimal);
+    LOCAL PROCEDURE UpdateTotalAmounts@132(VAR TempCVPostBuf@1003 : TEMPORARY Record 5274200;CurrencyCode@119451023 : Code[10];PostingDate@119451022 : Date;DimSetID@1000 : Integer;AmountFCYToCollect@119451021 : Decimal;AmountLCYToCollect@1001 : Decimal;AmountACYToCollect@1002 : Decimal;IsInitialEntry@119451024 : Boolean);
     BEGIN
-      WITH TempInvPostBuf DO BEGIN
+      //OS038s os.jgl "co-opt" this function for use with the CVPostBuf instead. This is a better choice IMO, and it's P4TC-compatible. We need the FCY field BTW.
+      WITH TempCVPostBuf DO BEGIN
+        SETRANGE("Currency Code",CurrencyCode);
         SETRANGE("Dimension Set ID",DimSetID);
+        SETRANGE("Posting Date",PostingDate);
         IF FINDFIRST THEN BEGIN
-          Amount += AmountToCollect;
-          "Amount (ACY)" += AmountACYToCollect;
+          //OS039s os.jgl
+          InitialEntry := InitialEntry OR IsInitialEntry;
+          //OS039e os.jgl
+          TotalAmountFCY += AmountFCYToCollect;
+          TotalAmountLCY += AmountLCYToCollect;
+          TotalAmountACY += AmountACYToCollect;
           MODIFY;
         END ELSE BEGIN
           INIT;
+          "Currency Code" := CurrencyCode;
           "Dimension Set ID" := DimSetID;
-          Amount := AmountToCollect;
-          "Amount (ACY)" := AmountACYToCollect;
+          "Posting Date" := PostingDate;
+          //OS039s os.jgl
+          InitialEntry := IsInitialEntry;
+          //OS039e os.jgl
+          TotalAmountFCY := AmountFCYToCollect;
+          TotalAmountLCY := AmountLCYToCollect;
+          TotalAmountACY := AmountACYToCollect;
           INSERT;
         END;
       END;
+      //OS038e os.jgl
     END;
 
-    LOCAL PROCEDURE CreateGLEntriesForTotalAmountsUnapply@135(GenJnlLine@1000 : Record 81;VAR TempInvPostBuf@1002 : TEMPORARY Record 49;Account@1001 : Code[20]);
+    LOCAL PROCEDURE CreateGLEntriesForAdjAndTotalAmts@5274200(GenJnlLine@1000 : Record 81;VAR CVPostBuf@1002 : TEMPORARY Record 5274200;SavedEntryNo@119451021 : Integer;Account@119451022 : Code[20];LedgEntryInserted@119451023 : Boolean);
     VAR
       DimMgt@1003 : Codeunit 408;
-    BEGIN
-      WITH TempInvPostBuf DO BEGIN
-        SETRANGE("Dimension Set ID");
-        IF FINDSET THEN
-          REPEAT
-            IF (Amount <> 0) OR
-               ("Amount (ACY)" <> 0) AND (GLSetup."Additional Reporting Currency" <> '')
+      "***** Plexada Variables *****"@119451024 : Integer;
+      GLEntry@119451025 : Record 17;
+      OriginalDimSetID@119451026 : Integer;
+    BEGIN
+      //OS038s os.jgl "co-opt" this function for use with the CVPostBuf instead. This is a better choice IMO, and it's SITC-compatible. We need the FCY field BTW.
+      //              Also, make this a complete handler for adjustments and totals, as it should be.
+      //PX050s px.jgl
+      OriginalDimSetID := GenJnlLine."Dimension Set ID";
+      //PX050e px.jgl
+      WITH CVPostBuf DO BEGIN
+        //OS039s os.jgl
+        RESET;
+        IF LedgEntryInserted THEN BEGIN
+          SETRANGE(InitialEntry,TRUE);
+          IF FINDFIRST THEN BEGIN
+            IF (TotalAmountFCY <> 0) OR (TotalAmountLCY <> 0) OR
+               //PX051s px.jgl
+               (TotalAmountACY <> 0) AND (GLSetup."Additional Reporting Currency" <> '')
+               //PX051e px.jgl
             THEN BEGIN
+              GenJnlLine."Posting Date" := CVPostBuf."Posting Date";
+              GenJnlLine."Currency Code" := CVPostBuf."Currency Code";
+              GenJnlLine."Source Currency Code" := CVPostBuf."Currency Code";
               DimMgt.UpdateGenJnlLineDim(GenJnlLine,"Dimension Set ID");
-              CreateGLEntry(GenJnlLine,Account,Amount,"Amount (ACY)",TRUE);
+              IF HandleDtldAdjustment(GenJnlLine,GLEntry,CVPostBuf,Account) THEN BEGIN
+                GLEntry."Bal. Account Type" := GenJnlLine."Bal. Account Type";
+                GLEntry."Bal. Account No." := GenJnlLine."Bal. Account No.";
+                UpdateGLEntryNo(GLEntry."Entry No.",SavedEntryNo);
+                InsertGLEntry(GenJnlLine,GLEntry,TRUE);
+              END;
             END;
-          UNTIL NEXT = 0;
-      END;
-    END;
-
-    LOCAL PROCEDURE CreateGLEntriesForTotalAmounts@36(GenJnlLine@1004 : Record 81;VAR InvPostBuf@1001 : Record 49;AdjAmountBuf@1006 : ARRAY [4] OF Decimal;SavedEntryNo@1009 : Integer;GLAccNo@1007 : Code[20];LedgEntryInserted@1003 : Boolean);
-    VAR
-      DimMgt@1002 : Codeunit 408;
-      GLEntryInserted@1000 : Boolean;
-    BEGIN
-      GLEntryInserted := FALSE;
-
-      WITH InvPostBuf DO BEGIN
-        RESET;
-        IF FINDSET THEN
+          END;
+          SETRANGE(InitialEntry);
+        END;
+        IF FINDSET THEN BEGIN
           REPEAT
-            IF (Amount <> 0) OR ("Amount (ACY)" <> 0) AND (AddCurrencyCode <> '') THEN BEGIN
+            IF ((TotalAmountFCY <> 0) OR (TotalAmountLCY <> 0) OR
+               //PX051s px.jgl
+               (TotalAmountACY <> 0) AND (GLSetup."Additional Reporting Currency" <> '')) AND NOT
+               //PX051e px.jgl
+               InitialEntry
+        //OS039e os.jgl
+            THEN BEGIN
+              GenJnlLine."Posting Date" := CVPostBuf."Posting Date";
+              GenJnlLine."Currency Code" := CVPostBuf."Currency Code";
+              GenJnlLine."Source Currency Code" := CVPostBuf."Currency Code";
               DimMgt.UpdateGenJnlLineDim(GenJnlLine,"Dimension Set ID");
-              CreateGLEntryForTotalAmounts(GenJnlLine,Amount,"Amount (ACY)",AdjAmountBuf,SavedEntryNo,GLAccNo);
-              GLEntryInserted := TRUE;
+              IF HandleDtldAdjustment(GenJnlLine,GLEntry,CVPostBuf,Account) THEN BEGIN
+                GLEntry."Bal. Account Type" := GenJnlLine."Bal. Account Type";
+                GLEntry."Bal. Account No." := GenJnlLine."Bal. Account No.";
+                InsertGLEntry(GenJnlLine,GLEntry,TRUE);
+              END;
             END;
           UNTIL NEXT = 0;
+        END;
       END;
-
-      IF NOT GLEntryInserted AND LedgEntryInserted THEN
-        CreateGLEntryForTotalAmounts(GenJnlLine,0,0,AdjAmountBuf,SavedEntryNo,GLAccNo);
-    END;
-
-    LOCAL PROCEDURE CreateGLEntryForTotalAmounts@122(GenJnlLine@1004 : Record 81;Amount@1000 : Decimal;AmountACY@1001 : Decimal;AdjAmountBuf@1006 : ARRAY [4] OF Decimal;VAR SavedEntryNo@1009 : Integer;GLAccNo@1007 : Code[20]);
-    VAR
-      GLEntry@1005 : Record 17;
-    BEGIN
-      HandleDtldAdjustment(GenJnlLine,GLEntry,AdjAmountBuf,Amount,AmountACY,GLAccNo);
-      GLEntry."Bal. Account Type" := GenJnlLine."Bal. Account Type";
-      GLEntry."Bal. Account No." := GenJnlLine."Bal. Account No.";
-      UpdateGLEntryNo(GLEntry."Entry No.",SavedEntryNo);
-      InsertGLEntry(GenJnlLine,GLEntry,TRUE);
+      //OS038e os.jgl
+      //PX050s px.jgl
+      DimMgt.UpdateGenJnlLineDim(GenJnlLine,OriginalDimSetID);
+      //PX050e px.jgl
     END;
 
     LOCAL PROCEDURE SetAddCurrForUnapplication@136(VAR DtldCVLedgEntryBuf@1000 : Record 383);
@@ -5163,6 +6089,9 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
           END;
 
         IF DeferralHeader.GET(DeferralDocType::"G/L","Journal Template Name","Journal Batch Name",0,'',"Line No.") THEN BEGIN
+          //PX049s px.jgl
+          TESTFIELD("Currency Code",DeferralHeader."Currency Code");
+          //PX049e px.jgl
           EmptyDeferralLine := FALSE;
           // Get the range of detail records for this schedule
           DeferralLine.SETRANGE("Deferral Doc. Type",DeferralDocType::"G/L");
@@ -5205,17 +6134,37 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
         END ELSE
           ERROR(NoDeferralScheduleErr,"Line No.","Deferral Code");
 
+        //OS045s os.jgl
+        // ************************************************** Plexada *******************************************************
+        // Standard Code:
+        // InitGLEntry(GenJournalLine,GLEntry,
+        //   AccountNumber,
+        //   -DeferralHeader."Amount to Defer (LCY)",
+        //   -DeferralHeader."Amount to Defer",TRUE,TRUE);
+        // ************************************************** Plexada *******************************************************
         InitGLEntry(GenJournalLine,GLEntry,
           AccountNumber,
           -DeferralHeader."Amount to Defer (LCY)",
-          -DeferralHeader."Amount to Defer",TRUE,TRUE);
+          -DeferralHeader."Amount to Defer",
+          -DeferralHeader."Amount to Defer",
+          DeferralHeader."Currency Code" = AddCurrencyCode,TRUE);
         GLEntry.Description := Description;
         InsertGLEntry(GenJournalLine,GLEntry,TRUE);
 
+        // ************************************************** Plexada *******************************************************
+        // Standard Code:
+        // InitGLEntry(GenJournalLine,GLEntry,
+        //   DeferralTemplate."Deferral Account",
+        //   DeferralHeader."Amount to Defer (LCY)",
+        //   DeferralHeader."Amount to Defer",TRUE,TRUE);
+        // ************************************************** Plexada *******************************************************
         InitGLEntry(GenJournalLine,GLEntry,
           DeferralTemplate."Deferral Account",
           DeferralHeader."Amount to Defer (LCY)",
-          DeferralHeader."Amount to Defer",TRUE,TRUE);
+          DeferralHeader."Amount to Defer",
+          DeferralHeader."Amount to Defer",
+          DeferralHeader."Currency Code" = AddCurrencyCode,TRUE);
+        //OS045e os.jgl
         GLEntry.Description := Description;
         InsertGLEntry(GenJournalLine,GLEntry,TRUE);
 
@@ -5227,17 +6176,34 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             IF GenJnlCheckLine.DateNotAllowed(PerPostDate) THEN
               ERROR(InvalidPostingDateErr,PerPostDate);
 
+            //OS045s os.jgl
+            // ************************************************** Plexada ***************************************************
+            // Standard Code:
+            // InitGLEntry(GenJournalLine,GLEntry,AccountNumber,DeferralLine."Amount (LCY)",
+            //   DeferralLine.Amount,
+            //   TRUE,TRUE);
+            // ************************************************** Plexada ***************************************************
             InitGLEntry(GenJournalLine,GLEntry,AccountNumber,DeferralLine."Amount (LCY)",
               DeferralLine.Amount,
-              TRUE,TRUE);
+              DeferralLine.Amount,
+              DeferralHeader."Currency Code" = AddCurrencyCode,TRUE);
             GLEntry."Posting Date" := PerPostDate;
             GLEntry.Description := DeferralLine.Description;
             InsertGLEntry(GenJournalLine,GLEntry,TRUE);
 
+            // ************************************************** Plexada ***************************************************
+            // Standard Code:
+            // InitGLEntry(GenJournalLine,GLEntry,
+            //   DeferralTemplate."Deferral Account",-DeferralLine."Amount (LCY)",
+            //   -DeferralLine.Amount,
+            //   TRUE,TRUE);
+            // ************************************************** Plexada ***************************************************
             InitGLEntry(GenJournalLine,GLEntry,
               DeferralTemplate."Deferral Account",-DeferralLine."Amount (LCY)",
               -DeferralLine.Amount,
-              TRUE,TRUE);
+              -DeferralLine.Amount,
+              DeferralHeader."Currency Code" = AddCurrencyCode,TRUE);
+            //OS045e os.jgl
             GLEntry."Posting Date" := PerPostDate;
             GLEntry.Description := DeferralLine.Description;
             InsertGLEntry(GenJournalLine,GLEntry,TRUE);
@@ -5266,16 +6232,29 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
 
         IF DeferralPostBuffer.FINDSET THEN BEGIN
           REPEAT
+            //PX049s px.jgl
+            TESTFIELD("Currency Code",DeferralPostBuffer."Currency Code");
+            //PX049e px.jgl
             PostDate := DeferralPostBuffer."Posting Date";
             IF GenJnlCheckLine.DateNotAllowed(PostDate) THEN
               ERROR(InvalidPostingDateErr,PostDate);
 
             // When no sales/purch amount is entered, the offset was already posted
             IF (DeferralPostBuffer."Sales/Purch Amount" <> 0) OR (DeferralPostBuffer."Sales/Purch Amount (LCY)" <> 0) THEN BEGIN
+              //PX049s px.jgl
+              // ************************************************** Plexada ***************************************************
+              // Standard Code:
+              // InitGLEntry(GenJournalLine,GLEntry,DeferralPostBuffer."G/L Account",
+              //   DeferralPostBuffer."Sales/Purch Amount (LCY)",
+              //   DeferralPostBuffer."Sales/Purch Amount",
+              //   TRUE,TRUE);
+              // ************************************************** Plexada ***************************************************
               InitGLEntry(GenJournalLine,GLEntry,DeferralPostBuffer."G/L Account",
                 DeferralPostBuffer."Sales/Purch Amount (LCY)",
                 DeferralPostBuffer."Sales/Purch Amount",
-                TRUE,TRUE);
+                DeferralPostBuffer."Sales/Purch Amount",
+                DeferralPostBuffer."Currency Code" = AddCurrencyCode,TRUE);
+              //PX049e px.jgl
               GLEntry."Posting Date" := PostDate;
               GLEntry.Description := DeferralPostBuffer.Description;
               GLEntry.CopyFromDeferralPostBuffer(DeferralPostBuffer);
@@ -5283,11 +6262,22 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
             END;
 
             IF DeferralPostBuffer.Amount <> 0 THEN BEGIN
+              //PX049s px.jgl
+              // ************************************************** Plexada ***************************************************
+              // Standard Code:
+              // InitGLEntry(GenJournalLine,GLEntry,
+              //   DeferralPostBuffer."Deferral Account",
+              //   -DeferralPostBuffer."Amount (LCY)",
+              //   -DeferralPostBuffer.Amount,
+              //   TRUE,TRUE);
+              // ************************************************** Plexada ***************************************************
               InitGLEntry(GenJournalLine,GLEntry,
                 DeferralPostBuffer."Deferral Account",
                 -DeferralPostBuffer."Amount (LCY)",
                 -DeferralPostBuffer.Amount,
-                TRUE,TRUE);
+                -DeferralPostBuffer.Amount,
+                DeferralPostBuffer."Currency Code" = AddCurrencyCode,TRUE);
+              //PX049e px.jgl
               GLEntry."Posting Date" := PostDate;
               GLEntry.Description := DeferralPostBuffer.Description;
               InsertGLEntry(GenJournalLine,GLEntry,TRUE);
@@ -5449,6 +6439,69 @@ OBJECT Codeunit 12 Gen. Jnl.-Post Line
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.01             04.10.2017
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.03             27.09.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     31.12.2010    os.jgl  SITC    Foreign Currency in G/L Entries
+                03.09.2011    os.jgl  SITC    PostVAT: Comment cleanup
+      OS002     26.02.2011    os.jgl  SIBB    honor the "force post" flag
+      OS003     04.03.2011    os.jgl  SITC    Reversal with Foreign Currency
+      OS004     18.03.2011    os.jgl  SITC    SummarizeVAT(): distinguish by currency, and by bal. account type
+      OS005     22.03.2011    os.jgl  SITC    variable name cleanup
+      OS006     28.04.2011    os.jgl  SITC    Bugfix in function CollectAddjustment: wrong parameter type
+      OS009     11.06.2011    os.jgl  SITC    InitGLEntry(): check the G/L account for a currency code. If set,
+                                              test for the same currency code.
+      OS010     12.06.2011    os.jgl  SITC    BugFix: CalcPmtDiscIfAdjVAT(), variable error
+                                              BugFix: ReverseVAT(), sign error
+      OS011     14.06.2011    os.jgl  SITC    Code Cleanup in VendUnrealizedVAT(): PaidAmount is not used
+      OS012     26.06.2011    os.jgl  SITC    Bugfix: ensure the correct currency in the G/L entries
+                                                when unapplying vendor/customer entries
+      OS013     26.06.2011    os.jgl  SITC    Strange asymmetry in std: UnapplyCustLedgEntry and UnapplyVendLedgEntry should use
+                                                HandlDtlAddjustment
+      OS015     09.09.2015    os.jgl  SIBB    possible standard bug: use of the wrong VAT Amount fields - should be VAT Amount (LCY)
+      OS016     03.10.2011    os.jgl  SITC    Handle FCY in Customer/Vendor application by currency. This is to ensure the right currency
+                                              code on all entries on the payables/receivables G/L accounts.
+      OS017     04.10.2011    os.jgl  SITC    amended handling of Add. Currency for Customer/Vendor applications
+      OS025     16.07.2012    os.jgl  SITC    UnapplyVend: Mwst.-Betrag (FW) im MwSt.-Posten mitziehen
+                                              AutoEntrForDtldCustLedgEntries, AutoEntrForDtldVendLedgEntries: correction of comments,
+                                              handling of FCY (forced to 0 where it should be 0)
+      OS030     03.02.2013    os.jgl  SITC    BUG-9: correction of FCY and ACY assignment in PostFixedAsset()
+      OS031     24.02.2013    os.jgl  SITC    DEV-30: Always retain currency code and amount in the bank ledger entries.
+      OS036     25.08.2013    os.jgl  SITC    DEV-40: CalcPmtDiscIfAdjVAT: correct handling of VATAmountFCY
+      OS038     17.01.2015    os.jgl  SITC    Rework the whole CollectAdjustment / UpdateTotalAmounts / HandleDtlAdjustment / CrateGLEntriesForTotalAmounts structure
+                                              into something consistent and SITC-safe
+      OS039     16.01.2015    os.jgl  SITC    DEV-49: Customer/Vendor posting: Ensure that G/L Entry no. of the initial entry matches with the CV Entry No.
+      OS045     11.03.2016    os.jgl  SITC    Add deferrals to transaction currency treatment
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+      PX004     08.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              Fehlerbehebung fÅr unrealisierte Steuer und Vorauszahlungen: Wenn eine unrealisierte
+                                              Steuergruppe angegeben wird und dann die Schlussrechnung gebucht wird, darf nicht gegen das
+                                              unrealisierte, sondern nur gegen das realisierte Steuerkonto storniert werden.
+      PX045     04.08.2016    px.jgl  P4TC    CalcVATAmountFromVATEntry(): handle ACY settings correctly, additionally avoid div/0 errors
+      PX046     22.07.2017    px.jgl  P4TC    Adapt Unapply() posting to CU07+
+      PX047     06.08.2017    px.jgl  P4TC    Integrate into NAV2017
+      PX048     04.10.2017    px.jgl  P4BB    PostVend(): Original Currency Factor gets the data first, like with PostCust()
+      PX049     06.10.2017    px.jgl  P4TC    Enable deferral postings - questions remain how to handle FCY
+      PX050     26.12.2017    px.jgl  P4TC    Integrate into NAV2018
+                                              Handle Dimension replacements directly in CreateGLEntriesForAdjAndTotalAmts()
+      PX051     27.09.2018    px.jgl  P4TC    Fix ACY handling in CreateGLEntriesForAdjAndTotalAmts()
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000013.txt b/codeunit/codeunit_0000000013.txt
index 071736b..534a462 100644
--- a/codeunit/codeunit_0000000013.txt
+++ b/codeunit/codeunit_0000000013.txt
@@ -4,12 +4,14 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
   {
     Date=25.05.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.22292;
+    Version List=NAVW111.00.00.22292,P4BB2.01,P4TC3.00;
   }
   PROPERTIES
   {
     TableNo=81;
-    Permissions=TableData 232=imd;
+    Permissions=TableData 21=rm,
+                TableData 25=rm,
+                TableData 232=imd;
     OnRun=VAR
             GenJnlLine@1000 : Record 81;
           BEGIN
@@ -126,9 +128,11 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
           TempMarkedGenJnlLine.COPY(GenJnlLine);
           CheckGenJnlLineDates(TempMarkedGenJnlLine,GenJnlLine);
           TempMarkedGenJnlLine.SETRANGE("Posting Date",0D,WORKDATE);
-          GLSetup.GET;
+      //OS001s os.jgl GLSetup is always needed
         END;
 
+        GLSetup.GET;
+      //OS001e os.jgl
         IF GenJnlTemplate.Recurring THEN BEGIN
           ProcessLines(TempMarkedGenJnlLine);
           COPY(TempMarkedGenJnlLine);
@@ -232,6 +236,9 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
         CLEAR(GenJnlPostLine);
         CLEARMARKS;
       END;
+      //PX003s px.jgl
+      UpdateSalesPurchLCY(GLReg,FALSE,FALSE);
+      //PX003e ps.jgl
       UpdateAnalysisView.UpdateAll(0,TRUE);
       GenJnlBatch.OnMoveGenJournalBatch(GLReg.RECORDID);
       COMMIT;
@@ -248,8 +255,10 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
       ForceCheckBalance@1008 : Boolean;
     BEGIN
       WITH GenJnlLine DO BEGIN
-        IF (GenJnlBatch."No. Series" = '') AND (GenJnlBatch."Posting No. Series" = '') AND GenJnlTemplate."Force Doc. Balance" THEN
-          SETCURRENTKEY("Document No.");
+        //PX002s px.jgl
+        // IF (GenJnlBatch."No. Series" = '') AND GenJnlTemplate."Force Doc. Balance" THEN
+        //   SETCURRENTKEY("Document No.");
+        //PX002e px.jgl
         LineCount := 0;
         LastDate := 0D;
         LastDocType := 0;
@@ -295,7 +304,13 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
             GenJnlLineTemp.DELETEALL;
           END;
 
-          IF Amount <> 0 THEN BEGIN
+          //OS003s os.jgl
+          // ************************************************** Plexada **********************************
+          // Standard Code
+          // IF Amount <> 0 THEN BEGIN
+          // ************************************************** Plexada **********************************
+          IF (Amount <> 0) OR ("Amount (LCY)" <> 0) THEN BEGIN
+          //OS003e os.jgl
             IF LastFAAddCurrExchRate <> "FA Add.-Currency Factor" THEN
               CheckAddExchRateBalance(GenJnlLine);
             IF (CurrentBalance = 0) AND (CurrentICPartner = '') THEN BEGIN
@@ -357,6 +372,9 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
         IF VATEntryCreated AND VATInfoSourceLineIsInserted THEN
           UpdateGenJnlLineWithVATInfo(GenJnlLine,GenJnlLineVATInfoSource,StartLineNo,LastLineNo);
       END;
+      //PX003s px.jgl
+      UpdateSalesPurchLCY(GLReg,FALSE,FALSE);
+      //PX003e ps.jgl
     END;
 
     LOCAL PROCEDURE ProcessICLines@49(VAR CurrentICPartner@1001 : Code[20];VAR ICTransactionNo@1002 : Integer;VAR ICLastDocNo@1006 : Code[20];VAR ICLastDate@1005 : Date;VAR ICLastDocType@1003 : Integer;VAR GenJnlLine@1000 : Record 81;VAR TempGenJnlLine@1004 : TEMPORARY Record 81);
@@ -692,14 +710,31 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
 
     LOCAL PROCEDURE PrepareGenJnlLineAddCurr@10(VAR GenJnlLine@1000 : Record 81);
     BEGIN
+      //OS001s os.jgl
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      // IF (GLSetup."Additional Reporting Currency" <> '') AND
+      //    (GenJnlLine."Recurring Method" IN
+      //     [GenJnlLine."Recurring Method"::"B  Balance",
+      //      GenJnlLine."Recurring Method"::"RB Reversing Balance"])
+      // ************************************************** Plexada **********************************
       IF (GLSetup."Additional Reporting Currency" <> '') AND
-         (GenJnlLine."Recurring Method" IN
+        ((GenJnlLine."Recurring Method" IN
           [GenJnlLine."Recurring Method"::"B  Balance",
-           GenJnlLine."Recurring Method"::"RB Reversing Balance"])
+          GenJnlLine."Recurring Method"::"RB Reversing Balance"]) OR
+          (GenJnlLine."Force Post"))
+      //OS001e os.jgl
       THEN BEGIN
         GenJnlLine."Source Currency Code" := GLSetup."Additional Reporting Currency";
-        IF (GenJnlLine.Amount = 0) AND
+      //OS001s os.jgl additional precaution - adjustments can have Amount=0, LCY Amount <> 0
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      //   IF (GenJnlLine.Amount = 0) AND
+      //      (GenJnlLine."Source Currency Amount" <> 0)
+      // ************************************************** Plexada **********************************
+        IF (GenJnlLine.Amount = 0) AND (GenJnlLine."Amount (LCY)" = 0) AND
            (GenJnlLine."Source Currency Amount" <> 0)
+      //OS001e os.jgl
         THEN BEGIN
           GenJnlLine."Additional-Currency Posting" :=
             GenJnlLine."Additional-Currency Posting"::"Additional-Currency Amount Only";
@@ -1228,7 +1263,129 @@ OBJECT Codeunit 13 Gen. Jnl.-Post Batch
     BEGIN
     END;
 
+    LOCAL PROCEDURE "***** Plexada Functions *****"@119451021();
     BEGIN
+    END;
+
+    PROCEDURE UpdateSalesPurchLCY@119451022(GLReg@119451021 : Record 45;CheckSourceCode@119451022 : Boolean;AcceptEmptySourceCode@119451023 : Boolean);
+    VAR
+      CLEntry@119451030 : Record 21;
+      VLEntry@119451029 : Record 25;
+      VATEntry@119451028 : Record 254;
+      VATEntry2@119451027 : Record 254;
+      SourceCodeSetup@119451026 : Record 242;
+      HasRightSourceCode@119451025 : Boolean;
+      HasSourceCodeSetup@119451024 : Boolean;
+    BEGIN
+      //PX003s px.jgl
+      IF CheckSourceCode THEN BEGIN
+        IF NOT SourceCodeSetup.GET THEN BEGIN
+          IF  AcceptEmptySourceCode THEN
+            SourceCodeSetup.GET;
+        END ELSE
+          HasSourceCodeSetup := TRUE;
+      END;
+      CLEntry.SETRANGE("Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
+      CLEntry.SETFILTER("Document Type",'%1|%2',CLEntry."Document Type"::Invoice,CLEntry."Document Type"::"Credit Memo");
+      VLEntry.SETRANGE("Entry No.",GLReg."From Entry No.",GLReg."To Entry No.");
+      VLEntry.SETFILTER("Document Type",'%1|%2',VLEntry."Document Type"::Invoice,VLEntry."Document Type"::"Credit Memo");
+      VATEntry.SETCURRENTKEY("Document Type","Document No.","Transaction No.");
+      VATEntry.SETRANGE("Entry No.",GLReg."From VAT Entry No.",GLReg."To VAT Entry No.");
+      IF NOT (CLEntry.ISEMPTY AND VLEntry.ISEMPTY) THEN BEGIN
+        IF NOT CLEntry.ISEMPTY THEN BEGIN
+          IF CLEntry.FIND('-') THEN BEGIN
+            REPEAT
+              IF CheckSourceCode AND HasSourceCodeSetup THEN BEGIN
+                IF CLEntry."Source Code" <> ''  THEN
+                  HasRightSourceCode := CLEntry."Source Code" IN [SourceCodeSetup."General Journal",SourceCodeSetup."Sales Journal",
+                    SourceCodeSetup."Purchase Journal",SourceCodeSetup."Cash Receipt Journal",SourceCodeSetup."Payment Journal",
+                    SourceCodeSetup."Fixed Asset G/L Journal",SourceCodeSetup."System Journal"]
+                ELSE IF AcceptEmptySourceCode THEN
+                  HasRightSourceCode := TRUE;
+              END ELSE IF AcceptEmptySourceCode THEN
+                HasRightSourceCode := TRUE;
+              IF HasRightSourceCode OR NOT CheckSourceCode THEN BEGIN
+                VATEntry2.COPY(VATEntry);
+                VATEntry2.SETRANGE("Document Type",CLEntry."Document Type");
+                VATEntry2.SETRANGE("Document No.",CLEntry."Document No.");
+                VATEntry2.SETRANGE("Transaction No.",CLEntry."Transaction No.");
+                IF VATEntry2.ISEMPTY THEN BEGIN
+                  CLEntry.CALCFIELDS("Original Amt. (LCY)");
+                  CLEntry."Sales (LCY)" := CLEntry."Original Amt. (LCY)";
+                  CLEntry."Profit (LCY)" := CLEntry."Original Amt. (LCY)";
+                  CLEntry.MODIFY;
+                END ELSE BEGIN
+                  VATEntry2.CALCSUMS(Base);
+                  CLEntry."Sales (LCY)" := -VATEntry2.Base;
+                  CLEntry."Profit (LCY)" := -VATEntry2.Base;
+                  CLEntry.MODIFY;
+                END;
+              END;
+            UNTIL CLEntry.NEXT = 0;
+          END;
+        END;
+        IF NOT VLEntry.ISEMPTY THEN BEGIN
+          IF VLEntry.FIND('-') THEN BEGIN
+            REPEAT
+              IF CheckSourceCode AND HasSourceCodeSetup THEN BEGIN
+                IF VLEntry."Source Code" <> ''  THEN
+                  HasRightSourceCode := VLEntry."Source Code" IN [SourceCodeSetup."General Journal",SourceCodeSetup."Sales Journal",
+                    SourceCodeSetup."Purchase Journal",SourceCodeSetup."Cash Receipt Journal",SourceCodeSetup."Payment Journal",
+                    SourceCodeSetup."Fixed Asset G/L Journal",SourceCodeSetup."System Journal"]
+                ELSE IF AcceptEmptySourceCode THEN
+                  HasRightSourceCode := TRUE;
+              END ELSE IF AcceptEmptySourceCode THEN
+                HasRightSourceCode := TRUE;
+              IF HasRightSourceCode OR NOT CheckSourceCode THEN BEGIN
+                VATEntry2.COPY(VATEntry);
+                VATEntry2.SETRANGE("Document Type",VLEntry."Document Type");
+                VATEntry2.SETRANGE("Document No.",VLEntry."Document No.");
+                VATEntry2.SETRANGE("Transaction No.",VLEntry."Transaction No.");
+                IF VATEntry2.ISEMPTY THEN BEGIN
+                  VLEntry.CALCFIELDS("Original Amt. (LCY)");
+                  VLEntry."Purchase (LCY)" := VLEntry."Original Amt. (LCY)";
+                  VLEntry.MODIFY;
+                END ELSE BEGIN
+                  VATEntry2.CALCSUMS(Base);
+                  VLEntry."Purchase (LCY)" := -VATEntry2.Base;
+                  VLEntry.MODIFY;
+                END;
+              END;
+            UNTIL VLEntry.NEXT = 0;
+          END;
+        END;
+      END;
+      //PX003e px.jgl
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.01             09.10.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     19.02.2011    os.jgl  SIBB    honor the "Force Post" flag and additional currency
+      OS003     23.08.2011    os.jgl  SITC    handling of "special" System Journals: Amount or Amount (LCY) can be 0.
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              With the fix in CU12 in place, the function CheckPmtApplnAllowed() is no longer necessary.
+      PX002     17.05.2016    px.jgl  P4BB    remove sorting by document no. - ref.:
+                                              http://www.msdynamics.de/viewtopic.php?f=64&t=25419&p=106531#p106531
+      PX003     09.10.2016    px.jgl  P4BB    ensure filling of statistics fields: Sales (LCY), Purchase (LCY)
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000017.txt b/codeunit/codeunit_0000000017.txt
index d6f4fe0..1ce29f7 100644
--- a/codeunit/codeunit_0000000017.txt
+++ b/codeunit/codeunit_0000000017.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4BB2.00,P4TA3.01;
   }
   PROPERTIES
   {
@@ -82,6 +82,11 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
         GenJnlPostLine.StartPosting(GenJnlLine)
       ELSE
         GenJnlPostLine.ContinuePosting(GenJnlLine);
+      //OS034s os.jgl
+      //OS021s os.jgl
+      GenJnlLine."Force Post" := TRUE;
+      //OS021e os.jgl
+      //OS034e os.jgl
 
       GenJnlPostLine.SetGLRegReverse(GLReg);
 
@@ -155,6 +160,13 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
             GLEntry."Additional-Currency Amount" := -"Additional-Currency Amount";
             GLEntry."Add.-Currency Debit Amount" := -"Add.-Currency Debit Amount";
             GLEntry."Add.-Currency Credit Amount" := -"Add.-Currency Credit Amount";
+            //OS003s os.jgl
+            GLEntry."Currency Code" := "Currency Code";
+            GLEntry."Amount (FCY)" := -"Amount (FCY)";
+            GLEntry."Debit Amount (FCY)" := -"Debit Amount (FCY)";
+            GLEntry."Credit Amount (FCY)" := -"Credit Amount (FCY)";
+            GLEntry."VAT Amount (FCY)" := - "VAT Amount (FCY)";
+            //OS003e os.jgl
             GLEntry."Entry No." := GenJnlPostLine.GetNextEntryNo;
             GLEntry."Transaction No." := GenJnlPostLine.GetNextTransactionNo;
             GLEntry."User ID" := USERID;
@@ -421,10 +433,24 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
             ERROR(CannotReverseErr);
           WITH NewVATEntry DO BEGIN
             NewVATEntry := VATEntry;
+            //OS001s os.jgl
+            "Base (FCY)" := -"Base (FCY)";
+            //OS010s os.jgl
+            "Amount (FCY)" := -"Amount (FCY)";
+            //OS010e os.jgl
+            //OS001e os.jgl
             Base := -Base;
             Amount := -Amount;
+            //OS001s os.jgl
+            "Unrealized Amount (FCY)" := -"Unrealized Amount (FCY)";
+            "Unrealized Base (FCY)" := -"Unrealized Base (FCY)";
+            //OS001e os.jgl
             "Unrealized Amount" := -"Unrealized Amount";
             "Unrealized Base" := -"Unrealized Base";
+            //OS001s os.jgl
+            "Remaining Unreal. Amount (FCY)" := -"Remaining Unreal. Amount (FCY)";
+            "Remaining Unreal. Base (FCY)" := -"Remaining Unreal. Base (FCY)";
+            //OS001e os.jgl
             "Remaining Unrealized Amount" := -"Remaining Unrealized Amount";
             "Remaining Unrealized Base" := -"Remaining Unrealized Base";
             "Additional-Currency Amount" := -"Additional-Currency Amount";
@@ -432,6 +458,9 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
             "Add.-Currency Unrealized Amt." := -"Add.-Currency Unrealized Amt.";
             "Add.-Curr. Rem. Unreal. Amount" := -"Add.-Curr. Rem. Unreal. Amount";
             "Add.-Curr. Rem. Unreal. Base" := -"Add.-Curr. Rem. Unreal. Base";
+            //OS001s os.jgl
+            "VAT Difference (FCY)" := -"VAT Difference (FCY)";
+            //OS001e os.jgl
             "VAT Difference" := -"VAT Difference";
             "Add.-Curr. VAT Difference" := -"Add.-Curr. VAT Difference";
             "Transaction No." := GenJnlPostLine.GetNextTransactionNo;
@@ -440,6 +469,10 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
             "Entry No." := GenJnlPostLine.GetNextVATEntryNo;
             "Reversed Entry No." := VATEntry."Entry No.";
             Reversed := TRUE;
+            //OS033s os.jgl
+            "Closed by Entry No." := 0;
+            Closed := FALSE;
+            //OS033e os.jgl
             // Reversal of Reversal
             IF VATEntry."Reversed Entry No." <> 0 THEN BEGIN
               ReversedVATEntry.GET(VATEntry."Reversed Entry No.");
@@ -518,16 +551,18 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
       TableID@1003 : ARRAY [10] OF Integer;
       AccNo@1005 : ARRAY [10] OF Code[20];
     BEGIN
-      IF NOT DimMgt.CheckDimIDComb(DimSetID) THEN
-        ERROR(DimCombBlockedErr,EntryNo,DimMgt.GetDimCombErr);
-      CLEAR(TableID);
-      CLEAR(AccNo);
-      TableID[1] := TableID1;
-      AccNo[1] := AccNo1;
-      TableID[2] := TableID2;
-      AccNo[2] := AccNo2;
-      IF NOT DimMgt.CheckDimValuePosting(TableID,AccNo,DimSetID) THEN
-        ERROR(DimMgt.GetDimValuePostingErr);
+      //OS034s os.jgl
+      // IF NOT DimMgt.CheckDimIDComb(DimSetID) THEN
+      //   ERROR(DimCombBlockedErr,EntryNo,DimMgt.GetDimCombErr);
+      // CLEAR(TableID);
+      // CLEAR(AccNo);
+      // TableID[1] := TableID1;
+      // AccNo[1] := AccNo1;
+      // TableID[2] := TableID2;
+      // AccNo[2] := AccNo2;
+      // IF NOT DimMgt.CheckDimValuePosting(TableID,AccNo,DimSetID) THEN
+      //   ERROR(DimMgt.GetDimValuePostingErr);
+      //OS034e os.jgl
     END;
 
     LOCAL PROCEDURE CopyCustLedgEntry@1(VAR CustLedgEntry@1000 : Record 21;VAR TempCustLedgEntry@1001 : TEMPORARY Record 21);
@@ -704,6 +739,31 @@ OBJECT Codeunit 17 Gen. Jnl.-Post Reverse
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     31.12.2010    os.jgl  SITC    Foreign Currency in G/L Entries
+      OS003     04.03.2011    os.jgl  SITC    Reversal with Foreign Currency
+      OS010     12.06.2011    os.jgl  SITC    BugFix: ReverseVAT(), sign error
+      OS021     26.06.2012    os.jgl  SIBB    Reverse with Force Post: propagate the Force Post flag to the GenJnlLine
+      OS033     01.05.2013    os.jgl  SIBB    DEV-36: ReverseVAT: Reverted VAT Entries are always open
+      OS034     01.08.2013    os.jgl  SITC    Configuration for SITC Advanced
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000080.txt b/codeunit/codeunit_0000000080.txt
index c99eb2c..53925e8 100644
--- a/codeunit/codeunit_0000000080.txt
+++ b/codeunit/codeunit_0000000080.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 80 Sales-Post
   {
     Date=28.06.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.23019;
+    Version List=NAVW111.00.00.23019,P4BB2.00,P4TA3.01;
   }
   PROPERTIES
   {
@@ -1764,8 +1764,10 @@ OBJECT Codeunit 80 Sales-Post
       DeferralUtilities.AdjustTotalAmountForDeferrals(SalesLine."Deferral Code",
         AmtToDefer,AmtToDeferACY,TotalAmount,TotalAmountACY,TotalVATBase,TotalVATBaseACY);
 
+      //PX006s px.jgl
       InvoicePostBuffer.SetAmounts(
-        TotalVAT,TotalVATACY,TotalAmount,TotalAmountACY,SalesLine."VAT Difference",TotalVATBase,TotalVATBaseACY);
+        TotalVAT,TotalVATACY,TotalAmount,TotalAmountACY,SalesLine."VAT Difference",SalesLineACY."VAT Difference",TotalVATBase,TotalVATBaseACY);
+      //PX006e px.jgl
 
       IF (SalesLine.Type = SalesLine.Type::"G/L Account") OR (SalesLine.Type = SalesLine.Type::"Fixed Asset") THEN
         SalesAccount := SalesLine."No."
@@ -1794,11 +1796,22 @@ OBJECT Codeunit 80 Sales-Post
           InvoicePostBuffer.Type := InvoicePostBuffer.Type::"G/L Account";
         END;
       END;
+      //PX005s px.jgl
+      //PX006s px.jgl
+      InvoicePostBuffer.SingleLineID := TempInvoicePostBuffer.GetSingleLineID(InvoicePostBuffer);
+      //PX006e px.jgl
+      //PX005e px.jgl
 
       TempInvoicePostBuffer.Update(InvoicePostBuffer,InvDefLineNo,DeferralLineNo);
 
-      IF RestoreFAType THEN
+      //PX005s px.jgl
+      //PX006s px.jgl
+      IF RestoreFAType THEN BEGIN
         TempInvoicePostBuffer.Type := TempInvoicePostBuffer.Type::"Fixed Asset";
+        TempInvoicePostBuffer.SingleLineID := TempInvoicePostBuffer.GetSingleLineID(TempInvoicePostBuffer);
+      END;
+      //PX006e px.jgl
+      //PX005e px.jgl
     END;
 
     LOCAL PROCEDURE InsertPrepmtAdjInvPostingBuf@80(SalesHeader@1003 : Record 36;PrepmtSalesLine@1000 : Record 37;VAR TempInvoicePostBuffer@1005 : TEMPORARY Record 49;InvoicePostBuffer@1004 : Record 49);
@@ -3448,11 +3461,14 @@ OBJECT Codeunit 80 Sales-Post
                 TempPrepmtSalesLine."Document No." := SalesHeader."No.";
                 TempPrepmtSalesLine."Line No." := 0;
                 TempPrepmtSalesLine."System-Created Entry" := TRUE;
-                IF CompleteFunctionality THEN
-                  TempPrepmtSalesLine.VALIDATE(Type,TempPrepmtSalesLine.Type::"G/L Account")
-                ELSE
-                  TempPrepmtSalesLine.Type := TempPrepmtSalesLine.Type::"G/L Account";
-                TempPrepmtSalesLine.VALIDATE("No.",GenPostingSetup."Sales Prepayments Account");
+                //PX003s px.jgl
+                TempPrepmtSalesLine.Type := TempPrepmtSalesLine.Type::"G/L Account";
+                TempPrepmtSalesLine."No." := GenPostingSetup."Sales Prepayments Account";
+                TempPrepmtSalesLine."Gen. Bus. Posting Group" := GenPostingSetup."Gen. Bus. Posting Group";
+                TempPrepmtSalesLine."Gen. Prod. Posting Group" := GenPostingSetup."Gen. Prod. Posting Group";
+                TempPrepmtSalesLine."VAT Bus. Posting Group" := "VAT Bus. Posting Group";
+                TempPrepmtSalesLine.VALIDATE("VAT Prod. Posting Group","VAT Prod. Posting Group");
+                //PX003e px.jgl
                 TempPrepmtSalesLine.VALIDATE(Quantity,-1);
                 TempPrepmtSalesLine."Qty. to Ship" := TempPrepmtSalesLine.Quantity;
                 TempPrepmtSalesLine."Qty. to Invoice" := TempPrepmtSalesLine.Quantity;
@@ -4192,7 +4208,12 @@ OBJECT Codeunit 80 Sales-Post
         "Account Type" := "Account Type"::Customer;
         "Account No." := SalesHeader."Bill-to Customer No.";
         CopyFromSalesHeader(SalesHeader);
-        SetCurrencyFactor(SalesHeader."Currency Code",SalesHeader."Currency Factor");
+        //PX006s px.jgl
+        // ************************************************** Plexada **********************************
+        // Standard Code:
+        // SetCurrencyFactor(SalesHeader."Currency Code",SalesHeader."Currency Factor");
+        // ************************************************** Plexada **********************************
+        //PX006e px.jgl
 
         "System-Created Entry" := TRUE;
 
@@ -4255,7 +4276,12 @@ OBJECT Codeunit 80 Sales-Post
         "Account Type" := "Account Type"::Customer;
         "Account No." := SalesHeader."Bill-to Customer No.";
         CopyFromSalesHeader(SalesHeader);
-        SetCurrencyFactor(SalesHeader."Currency Code",SalesHeader."Currency Factor");
+        //PX006s px.jgl
+        // ************************************************** Plexada **********************************
+        // Standard Code:
+        // SetCurrencyFactor(SalesHeader."Currency Code",SalesHeader."Currency Factor");
+        // ************************************************** Plexada **********************************
+        //PX006e px.jgl
 
         IF SalesHeader.IsCreditDocType THEN
           "Document Type" := "Document Type"::Refund
@@ -6028,12 +6054,16 @@ OBJECT Codeunit 80 Sales-Post
           DeferralPostBuffer[1].Description := SalesHeader."Posting Description";
           DeferralPostBuffer[1]."Period Description" := DeferralTemplate."Period Description";
           DeferralPostBuffer[1]."Deferral Line No." := InvDefLineNo;
+          //PX007s px.jgl
+          DeferralPostBuffer[1]."Currency Code" := SalesHeader."Currency Code";
+          //PX007e px.jgl
           DeferralPostBuffer[1].PrepareInitialPair(
             InvoicePostBuffer,RemainAmtToDefer,RemainAmtToDeferACY,SalesAccount,DeferralAccount);
           UpdDeferralPostBuffer(InvoicePostBuffer);
           IF (RemainAmtToDefer <> 0) OR (RemainAmtToDeferACY <> 0) THEN BEGIN
             DeferralPostBuffer[1].PrepareRemainderSales(
               SalesLine,RemainAmtToDefer,RemainAmtToDeferACY,SalesAccount,DeferralAccount);
+
             UpdDeferralPostBuffer(InvoicePostBuffer);
           END;
 
@@ -6042,6 +6072,9 @@ OBJECT Codeunit 80 Sales-Post
             REPEAT
               IF (TempDeferralLine."Amount (LCY)" <> 0) OR (TempDeferralLine.Amount <> 0) THEN BEGIN
                 DeferralPostBuffer[1].PrepareSales(SalesLine,GenJnlLineDocNo);
+                //PX007s px.jgl
+                DeferralPostBuffer[1]."Currency Code" := SalesHeader."Currency Code";
+                //PX007e px.jgl
                 DeferralPostBuffer[1]."Amount (LCY)" := TempDeferralLine."Amount (LCY)";
                 DeferralPostBuffer[1].Amount := TempDeferralLine.Amount;
                 DeferralPostBuffer[1]."Sales/Purch Amount (LCY)" := TempDeferralLine."Amount (LCY)";
@@ -6594,6 +6627,43 @@ OBJECT Codeunit 80 Sales-Post
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             06.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.08.2010    os.jgl  SIBB    SingleLineID-functionality
+      OS002     31.12.2010    os.jgl  SITC    pass currency to the G/L
+      OS006     21.05.2015    os.jgl  SITC    SITC Advanced configuration
+      PX003     04.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              Fehlerbehebung fÅr Schlussrechnungen von Vorauszahlungen: Buchungsgruppen fÅr zu
+                                              verrechnende Vorauszahlungszeilen mÅssen mit den selben Buchungsgruppen gebucht werden
+                                              wie die ursprÅngliche Vorauszahlung.
+      PX004     05.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              Fehlerbehebung fÅr Schlussrechnungen von Vorauszahlungen: Wenn eine unrealisierte
+                                              Steuergruppe angegeben wird und dann die Schlussrechnung gebucht wird, darf nicht gegen das
+                                              unrealisierte, sondern nur gegen das realisierte Steuerkonto storniert werden
+      PX005     22.05.2016    os.jgl  P4BB    Fix for FA postings and SingleLineID
+                                              Fix prepayment SingleLineID handling
+      PX006     06.09.2017    px.jgl  P4TC    Integrate into NAV2017
+                02.10.2017                    remove call to GenJnlLine.SetCurrencyFactor(), now integrated into CopyFromSalesHeader*
+                                      P4BB
+      PX007     06.10.2017    px.jgl  P4TC    FillDeferralPostingBuffer: save the currency code, too
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000090.txt b/codeunit/codeunit_0000000090.txt
index 65a2667..a68efc1 100644
--- a/codeunit/codeunit_0000000090.txt
+++ b/codeunit/codeunit_0000000090.txt
@@ -2,9 +2,9 @@ OBJECT Codeunit 90 Purch.-Post
 {
   OBJECT-PROPERTIES
   {
-    Date=28.06.18;
-    Time=12:00:00;
-    Version List=NAVW111.00.00.23019;
+    Date=04.03.19;
+    Time=22:06:55;
+    Version List=NAVW111.00.00.23019,P4BB2.00,P4TA3.04;
   }
   PROPERTIES
   {
@@ -2018,17 +2018,21 @@ OBJECT Codeunit 90 Purch.-Post
         AmtToDefer,AmtToDeferACY,TotalAmount,TotalAmountACY,TotalVATBase,TotalVATBaseACY);
 
       IF PurchLine."VAT Calculation Type" = PurchLine."VAT Calculation Type"::"Reverse Charge VAT" THEN BEGIN
+        //PX005s px.jgl
         IF PurchLine."Deferral Code" <> '' THEN
           InvoicePostBuffer.SetAmounts(
-            TotalVAT,TotalVATACY,TotalAmount,TotalAmountACY,PurchLine."VAT Difference",TotalVATBase,TotalVATBaseACY)
+            TotalVAT,TotalVATACY,TotalAmount,TotalAmountACY,PurchLine."VAT Difference",PurchLineACY."VAT Difference",TotalVATBase,TotalVATBaseACY)
         ELSE
-          InvoicePostBuffer.SetAmountsNoVAT(TotalAmount,TotalAmountACY,PurchLine."VAT Difference")
+          InvoicePostBuffer.SetAmountsNoVAT(TotalAmount,TotalAmountACY,PurchLine."VAT Difference",PurchLineACY."VAT Difference")
+        //PX005e px.jgl
       END ELSE
+        //PX005s px.jgl
         IF (NOT PurchLine."Use Tax") OR (PurchLine."VAT Calculation Type" <> PurchLine."VAT Calculation Type"::"Sales Tax") THEN
           InvoicePostBuffer.SetAmounts(
-            TotalVAT,TotalVATACY,TotalAmount,TotalAmountACY,PurchLine."VAT Difference",TotalVATBase,TotalVATBaseACY)
+            TotalVAT,TotalVATACY,TotalAmount,TotalAmountACY,PurchLine."VAT Difference",PurchLineACY."VAT Difference",TotalVATBase,TotalVATBaseACY)
         ELSE
-          InvoicePostBuffer.SetAmountsNoVAT(TotalAmount,TotalAmountACY,PurchLine."VAT Difference");
+          InvoicePostBuffer.SetAmountsNoVAT(TotalAmount,TotalAmountACY,PurchLine."VAT Difference",PurchLineACY."VAT Difference");
+        //PX005e px.jgl
 
       IF PurchLine."VAT Calculation Type" = PurchLine."VAT Calculation Type"::"Sales Tax" THEN
         InvoicePostBuffer.SetSalesTaxForPurchLine(PurchLine);
@@ -2070,6 +2074,11 @@ OBJECT Codeunit 90 Purch.-Post
         FALineNo := FALineNo + 1;
         InvoicePostBuffer."Fixed Asset Line No." := FALineNo;
       END;
+      //PX004s px.jgl
+      //PX005s px.jgl
+      InvoicePostBuffer.SingleLineID := TempInvoicePostBuffer.GetSingleLineID(InvoicePostBuffer);
+      //PX005e px.jgl
+      //PX004e px.jgl
 
       TempInvoicePostBuffer.Update(InvoicePostBuffer,InvDefLineNo,DeferralLineNo);
     END;
@@ -2661,7 +2670,12 @@ OBJECT Codeunit 90 Purch.-Post
         "Account Type" := "Account Type"::Vendor;
         "Account No." := PurchHeader."Pay-to Vendor No.";
         CopyFromPurchHeader(PurchHeader);
-        SetCurrencyFactor(PurchHeader."Currency Code",PurchHeader."Currency Factor");
+        //PX005s px.jgl
+        // ************************************************** Plexada **********************************
+        // Standard Code:
+        // SetCurrencyFactor(PurchHeader."Currency Code",PurchHeader."Currency Factor");
+        // ************************************************** Plexada **********************************
+        //PX005e px.jgl
         "System-Created Entry" := TRUE;
 
         CopyFromPurchHeaderApplyTo(PurchHeader);
@@ -2696,7 +2710,12 @@ OBJECT Codeunit 90 Purch.-Post
         "Account Type" := "Account Type"::Vendor;
         "Account No." := PurchHeader."Pay-to Vendor No.";
         CopyFromPurchHeader(PurchHeader);
-        SetCurrencyFactor(PurchHeader."Currency Code",PurchHeader."Currency Factor");
+        //PX005s px.jgl
+        // ************************************************** Plexada **********************************
+        // Standard Code:
+        // SetCurrencyFactor(PurchHeader."Currency Code",PurchHeader."Currency Factor");
+        // ************************************************** Plexada **********************************
+        //PX005e px.jgl
 
         IF PurchHeader.IsCreditDocType THEN
           "Document Type" := "Document Type"::Refund
@@ -3816,11 +3835,14 @@ OBJECT Codeunit 90 Purch.-Post
                 TempPrepmtPurchLine."Document No." := PurchHeader."No.";
                 TempPrepmtPurchLine."Line No." := 0;
                 TempPrepmtPurchLine."System-Created Entry" := TRUE;
-                IF CompleteFunctionality THEN
-                  TempPrepmtPurchLine.VALIDATE(Type,TempPrepmtPurchLine.Type::"G/L Account")
-                ELSE
-                  TempPrepmtPurchLine.Type := TempPrepmtPurchLine.Type::"G/L Account";
-                TempPrepmtPurchLine.VALIDATE("No.",GenPostingSetup."Purch. Prepayments Account");
+                //PX002s px.jgl
+                TempPrepmtPurchLine.Type := TempPrepmtPurchLine.Type::"G/L Account";
+                TempPrepmtPurchLine."No." := GenPostingSetup."Purch. Prepayments Account";
+                TempPrepmtPurchLine."Gen. Bus. Posting Group" := GenPostingSetup."Gen. Bus. Posting Group";
+                TempPrepmtPurchLine."Gen. Prod. Posting Group" := GenPostingSetup."Gen. Prod. Posting Group";
+                TempPrepmtPurchLine."VAT Bus. Posting Group" := "VAT Bus. Posting Group";
+                TempPrepmtPurchLine.VALIDATE("VAT Prod. Posting Group","VAT Prod. Posting Group");
+                //PX002e px.jgl
                 TempPrepmtPurchLine.VALIDATE(Quantity,-1);
                 TempPrepmtPurchLine."Qty. to Receive" := TempPrepmtPurchLine.Quantity;
                 TempPrepmtPurchLine."Qty. to Invoice" := TempPrepmtPurchLine.Quantity;
@@ -5549,16 +5571,23 @@ OBJECT Codeunit 90 Purch.-Post
 
             // Remainder\Initial deferral pair
             DeferralPostBuffer[1].PreparePurch(PurchLine,GenJnlLineDocNo);
+            //PX006s px.jgl
+            DeferralPostBuffer[1]."Currency Code" := PurchHeader."Currency Code";
+            //PX006e px.jgl
             DeferralPostBuffer[1]."Posting Date" := PurchHeader."Posting Date";
             DeferralPostBuffer[1].Description := PurchHeader."Posting Description";
             DeferralPostBuffer[1]."Period Description" := DeferralTemplate."Period Description";
             DeferralPostBuffer[1]."Deferral Line No." := InvDefLineNo;
+            //PX006s px.jgl
+            DeferralPostBuffer[1]."Currency Code" := PurchHeader."Currency Code";
+            //PX006e px.jgl
             DeferralPostBuffer[1].PrepareInitialPair(
               InvoicePostBuffer,RemainAmtToDefer,RemainAmtToDeferACY,PurchAccount,DeferralAccount);
             UpdDeferralPostBuffer(InvoicePostBuffer);
             IF (RemainAmtToDefer <> 0) OR (RemainAmtToDeferACY <> 0) THEN BEGIN
               DeferralPostBuffer[1].PrepareRemainderPurchase(
                 PurchLine,RemainAmtToDefer,RemainAmtToDeferACY,PurchAccount,DeferralAccount);
+
               UpdDeferralPostBuffer(InvoicePostBuffer);
             END;
 
@@ -5567,6 +5596,9 @@ OBJECT Codeunit 90 Purch.-Post
               REPEAT
                 IF (TempDeferralLine."Amount (LCY)" <> 0) OR (TempDeferralLine.Amount <> 0) THEN BEGIN
                   DeferralPostBuffer[1].PreparePurch(PurchLine,GenJnlLineDocNo);
+                  //PX006s px.jgl
+                  DeferralPostBuffer[1]."Currency Code" := PurchHeader."Currency Code";
+                  //PX006e px.jgl
                   DeferralPostBuffer[1]."Amount (LCY)" := TempDeferralLine."Amount (LCY)";
                   DeferralPostBuffer[1].Amount := TempDeferralLine.Amount;
                   DeferralPostBuffer[1]."Sales/Purch Amount (LCY)" := TempDeferralLine."Amount (LCY)";
@@ -6580,6 +6612,45 @@ OBJECT Codeunit 90 Purch.-Post
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             06.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.08.2010    os.jgl  SIBB    SingleLineID-functionality
+      OS002     31.12.2010    os.jgl  SITC    pass currency to the G/L
+      OS003     10.02.2011    os.jgl  SITC    pass ACY to SetAmountsNoVAT
+      OS007     21.05.2015    os.jgl  SITC    SITC Advanced configuration
+      PX002     10.05.2016    px.jgl  P4BB    Fix for support case 116051314161850:
+                                              Fehlerbehebung fÅr Schlussrechnungen von Vorauszahlungen: Buchungsgruppen fÅr zu
+                                              verrechnende Vorauszahlungszeilen mÅssen mit den selben Buchungsgruppen gebucht werden
+                                              wie die ursprÅngliche Vorauszahlung.
+      PX003     06.05.2016    px.jgl  P4BB    Fix for support case 116051314161850:
+                                              Fehlerbehebung fÅr Schlussrechnungen von Vorauszahlungen: Wenn eine unrealisierte
+                                              Steuergruppe angegeben wird und dann die Schlussrechnung gebucht wird, darf nicht gegen das
+                                              unrealisierte, sondern nur gegen das realisierte Steuerkonto storniert werden
+      PX004     22.05.2016    os.jgl  P4BB    Fix for FA postings and SingleLineID
+                                              Fix prepayment SingleLineID handling
+      PX005     06.09.2017    px.jgl  P4TC    Integrate into NAV2017
+                02.10.2017                    remove call to GenJnlLine.SetCurrencyFactor(), now integrated into CopyFromSalesHeader*
+                                      P4BB
+      PX006     06.10.2017    px.jgl  P4TC    FillDeferralPostingBuffer: save the currency code, too
+                04.03.2019    px.jgl  P4TC    Bugfix for FillDeferralPostingBuffer
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000226.txt b/codeunit/codeunit_0000000226.txt
index 9e1ddec..b834edb 100644
--- a/codeunit/codeunit_0000000226.txt
+++ b/codeunit/codeunit_0000000226.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 226 CustEntry-Apply Posted Entries
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -116,6 +116,9 @@ OBJECT Codeunit 226 CustEntry-Apply Posted Entries
           ("Debit Amount (LCY)" < 0) OR ("Credit Amount (LCY)" < 0);
         GenJnlLine.CopyCustLedgEntry(CustLedgEntry);
         GenJnlLine."Source Code" := SourceCodeSetup."Sales Entry Application";
+        //OS002s os.jgl
+        GenJnlLine."Currency Code" := "Currency Code";
+        //OS002e os.jgl
         GenJnlLine."System-Created Entry" := TRUE;
 
         EntryNoBeforeApplication := FindLastApplDtldCustLedgEntry;
@@ -303,6 +306,9 @@ OBJECT Codeunit 226 CustEntry-Apply Posted Entries
         GenJnlLine.CopyCustLedgEntry(CustLedgEntry);
         GenJnlLine."Source Code" := SourceCodeSetup."Unapplied Sales Entry Appln.";
         GenJnlLine."Source Currency Code" := "Currency Code";
+        //OS001s os.jgl
+        GenJnlLine."Currency Code" := "Currency Code";
+        //OS001e os.jgl
         GenJnlLine."System-Created Entry" := TRUE;
         Window.OPEN(UnapplyingMsg);
 
@@ -479,6 +485,27 @@ OBJECT Codeunit 226 CustEntry-Apply Posted Entries
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     26.06.2011    os.jgl  SITC    PostUnapplyCustomer: put the Currency Code in the GenJnlLine for correct
+                                              currency appearance on currency gains/losses
+      OS002     18.09.2011    os.jgl  SITC    OnRun: put the Currency Code in the GenJnlLine
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000227.txt b/codeunit/codeunit_0000000227.txt
index 5ede01a..857c461 100644
--- a/codeunit/codeunit_0000000227.txt
+++ b/codeunit/codeunit_0000000227.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 227 VendEntry-Apply Posted Entries
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -123,6 +123,9 @@ OBJECT Codeunit 227 VendEntry-Apply Posted Entries
         GenJnlLine."Source Type" := GenJnlLine."Source Type"::Vendor;
         GenJnlLine."Source No." := "Vendor No.";
         GenJnlLine."Source Code" := SourceCodeSetup."Purchase Entry Application";
+        //OS002s os.jgl
+        GenJnlLine."Currency Code" := "Currency Code";
+        //OS002e os.jgl
         GenJnlLine."System-Created Entry" := TRUE;
 
         EntryNoBeforeApplication := FindLastApplDtldVendLedgEntry;
@@ -310,6 +313,9 @@ OBJECT Codeunit 227 VendEntry-Apply Posted Entries
         GenJnlLine."Source No." := "Vendor No.";
         GenJnlLine."Source Code" := SourceCodeSetup."Unapplied Purch. Entry Appln.";
         GenJnlLine."Source Currency Code" := "Currency Code";
+        //OS001s os.jgl
+        GenJnlLine."Currency Code" := "Currency Code";
+        //OS001e os.jgl
         GenJnlLine."System-Created Entry" := TRUE;
         Window.OPEN(UnapplyingMsg);
         OnBeforePostUnapplyVendLedgEntry(GenJnlLine,VendLedgEntry,DtldVendLedgEntry2);
@@ -476,6 +482,27 @@ OBJECT Codeunit 227 VendEntry-Apply Posted Entries
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     26.06.2011    os.jgl  SITC    PostUnapplyVendor: put the Currency Code in the GenJnlLine for correct
+                                              currency appearance on currency gains/losses
+      OS002     18.09.2011    os.jgl  SITC    OnRun: put the Currency Code in the GenJnlLine
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000230.txt b/codeunit/codeunit_0000000230.txt
index 2f94a7b..ce659bd 100644
--- a/codeunit/codeunit_0000000230.txt
+++ b/codeunit/codeunit_0000000230.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 230 GenJnlManagement
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -27,10 +27,11 @@ OBJECT Codeunit 230 GenJnlManagement
       OpenFromBatch@1007 : Boolean;
 
     [External]
-    PROCEDURE TemplateSelection@1(PageID@1005 : Integer;PageTemplate@1000 : 'General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs';RecurringJnl@1001 : Boolean;VAR GenJnlLine@1004 : Record 81;VAR JnlSelected@1003 : Boolean);
+    PROCEDURE TemplateSelection@1(PageID@1005 : Integer;PageTemplate@1000 : 'General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs,,,,,,,,,,,,,System';RecurringJnl@1001 : Boolean;VAR GenJnlLine@1004 : Record 81;VAR JnlSelected@1003 : Boolean);
     VAR
       GenJnlTemplate@1002 : Record 80;
     BEGIN
+      //OS001 os.jgl
       JnlSelected := TRUE;
 
       GenJnlTemplate.RESET;
@@ -311,6 +312,28 @@ OBJECT Codeunit 230 GenJnlManagement
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     18.02.2011    os.jgl  SIBB    additional Journal type "System"
+      OS003     22.08.2013    os.jgl  SIBB    TemplateSelection(): Changed formTemplate option for 'System' from 19 to 20
+      OS004     13.01.2014    os.jgl  SITC    TemplateSelection(): Changed PageTemplate option according to T80.Type
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000367.txt b/codeunit/codeunit_0000000367.txt
index 628eb84..6eff9e0 100644
--- a/codeunit/codeunit_0000000367.txt
+++ b/codeunit/codeunit_0000000367.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 367 CheckManagement
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -213,7 +213,12 @@ OBJECT Codeunit 367 CheckManagement
         GenJnlLine2,CheckLedgEntry."Document No.",ConfirmFinancialVoid.GetVoidDate,
         CheckLedgEntry."Bal. Account Type",CheckLedgEntry."Bal. Account No.",
         STRSUBSTNO(VoidingCheckMsg,CheckLedgEntry."Check No."));
-      GenJnlLine2.VALIDATE("Currency Code",BankAcc."Currency Code");
+      //OS001s os.jgl
+      // ************************************** Plexada ************************************************
+      // Original Code:
+      // GenJnlLine2.VALIDATE("Currency Code",BankAcc."Currency Code");
+      // ************************************** Plexada ************************************************
+      //OS001e os.jgl
       GenJnlLine2."Allow Zero-Amount Posting" := TRUE;
       CASE CheckLedgEntry."Bal. Account Type" OF
         CheckLedgEntry."Bal. Account Type"::"G/L Account":
@@ -222,13 +227,21 @@ OBJECT Codeunit 367 CheckManagement
             SETRANGE("Transaction No.",BankAccLedgEntry2."Transaction No.");
             SETRANGE("Document No.",BankAccLedgEntry2."Document No.");
             SETRANGE("Posting Date",BankAccLedgEntry2."Posting Date");
-            SETFILTER("Entry No.",'<>%1',BankAccLedgEntry2."Entry No.");
+            SETFILTER("Entry No.", '<>%1',BankAccLedgEntry2."Entry No.");
             SETRANGE("G/L Account No.",CheckLedgEntry."Bal. Account No.");
             IF FINDSET THEN
               REPEAT
                 GenJnlLine2.VALIDATE("Account No.","G/L Account No.");
                 GenJnlLine2.Description := STRSUBSTNO(VoidingCheckMsg,CheckLedgEntry."Check No.");
-                GenJnlLine2.VALIDATE(Amount,-Amount - "VAT Amount");
+                //OS001s os.jgl
+                // ************************************** Plexada ************************************************
+                // Original Code:
+                // GenJnlLine2.VALIDATE(Amount,-Amount-"VAT Amount");
+                // ************************************** Plexada ************************************************
+                //validate the Currency Code from the source
+                GenJnlLine2.VALIDATE("Currency Code","Currency Code");
+                GenJnlLine2.VALIDATE(Amount,-"Amount (FCY)"-"VAT Amount (FCY)");
+                //OS001e os.jgl
                 BalanceAmountLCY := BalanceAmountLCY + GenJnlLine2."Amount (LCY)";
                 GenJnlLine2."Shortcut Dimension 1 Code" := "Global Dimension 1 Code";
                 GenJnlLine2."Shortcut Dimension 2 Code" := "Global Dimension 2 Code";
@@ -293,9 +306,12 @@ OBJECT Codeunit 367 CheckManagement
             SETRANGE("Transaction No.",BankAccLedgEntry2."Transaction No.");
             SETRANGE("Document No.",BankAccLedgEntry2."Document No.");
             SETRANGE("Posting Date",BankAccLedgEntry2."Posting Date");
-            SETFILTER("Entry No.",'<>%1',BankAccLedgEntry2."Entry No.");
+            SETFILTER("Entry No.", '<>%1',BankAccLedgEntry2."Entry No.");
             IF FINDSET THEN
               REPEAT
+                //OS001s os.jgl
+                GenJnlLine2.VALIDATE("Currency Code","Currency Code");
+                //OS001e os.jgl
                 GenJnlLine2.VALIDATE(Amount,-Amount);
                 BalanceAmountLCY := BalanceAmountLCY + GenJnlLine2."Amount (LCY)";
                 GenJnlLine2."Shortcut Dimension 1 Code" := "Global Dimension 1 Code";
@@ -312,6 +328,11 @@ OBJECT Codeunit 367 CheckManagement
             SETRANGE("Posting Date",BankAccLedgEntry2."Posting Date");
             IF FINDSET THEN
               REPEAT
+                //OS001s os.jgl
+                //this should always be in LCY... however, it is not really 'safe' to validate the currency to LCY.
+                //But it would be worse to have a wrong amount in the G/L Entry when the Bank Account has a currency.
+                GenJnlLine2.VALIDATE("Currency Code",'');
+                //OS001e os.jgl
                 GenJnlLine2.VALIDATE(Amount,-Amount);
                 BalanceAmountLCY := BalanceAmountLCY + GenJnlLine2."Amount (LCY)";
                 GenJnlLine2."Shortcut Dimension 1 Code" := "Global Dimension 1 Code";
@@ -558,13 +579,20 @@ OBJECT Codeunit 367 CheckManagement
 
     LOCAL PROCEDURE SetGenJnlLine@1(VAR GenJnlLine@1000 : Record 81;OriginalAmount@1001 : Decimal;CurrencyCode@1002 : Code[10];DocumentNo@1003 : Code[20];Dim1Code@1004 : Code[20];Dim2Code@1005 : Code[20];DimSetID@1006 : Integer);
     BEGIN
-      GenJnlLine.VALIDATE(Amount,OriginalAmount);
+      //PX002s os.jgl
       GenJnlLine.VALIDATE("Currency Code",CurrencyCode);
+      //PX002e os.jgl
+      GenJnlLine.VALIDATE(Amount,OriginalAmount);
       MakeAppliesID(GenJnlLine."Applies-to ID",DocumentNo);
       GenJnlLine."Shortcut Dimension 1 Code" := Dim1Code;
       GenJnlLine."Shortcut Dimension 2 Code" := Dim2Code;
       GenJnlLine."Dimension Set ID" := DimSetID;
-      GenJnlLine."Source Currency Code" := CurrencyCode;
+      //PX002s os.jgl
+      // ************************************** Plexada ************************************************
+      // Original Code:
+      // GenJnlLine."Source Currency Code" := CurrencyCode;
+      // ************************************** Plexada ************************************************
+      //PX002e px.jgl
     END;
 
     PROCEDURE ProcessElectronicPayment@10(VAR GenJournalLine@1000 : Record 81;WhichProcess@1001 : ',Void,Transmit');
@@ -666,6 +694,26 @@ OBJECT Codeunit 367 CheckManagement
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00.04          29.07.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     15.01.2012    os.jgl  SITC    FinancialVoidCheck() - respect FCY in the G/L Entry
+      PX002     29.07.2017    px.jgl  P4TC    integrate into NAV2017
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000432.txt b/codeunit/codeunit_0000000432.txt
index a9e4ace..d2d4083 100644
--- a/codeunit/codeunit_0000000432.txt
+++ b/codeunit/codeunit_0000000432.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 432 Consolidate
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -659,6 +659,11 @@ OBJECT Codeunit 432 Consolidate
           REPEAT
             UpdateAmountArray("Posting Date",Amount);
             Description := '';
+            //OS001s os.jgl
+            "Amount (FCY)" := 0;
+            "Debit Amount (FCY)" := 0;
+            "Credit Amount (FCY)" := 0;
+            //OS001e os.jgl
             Amount := 0;
             "Debit Amount" := 0;
             "Credit Amount" := 0;
@@ -1393,6 +1398,25 @@ OBJECT Codeunit 432 Consolidate
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     20.03.2013    os.jgl  SITC    BUG-14 ClearPreviousConsolidation(): clear the FCY amounts, too
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000442.txt b/codeunit/codeunit_0000000442.txt
index ccd8942..e8176ee 100644
--- a/codeunit/codeunit_0000000442.txt
+++ b/codeunit/codeunit_0000000442.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 442 Sales-Post Prepayments
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00,P4TC3.01;
   }
   PROPERTIES
   {
@@ -150,6 +150,9 @@ OBJECT Codeunit 442 Sales-Post Prepayments
 
         // Create Lines
         TempPrepmtInvLineBuffer.DELETEALL;
+        //PX001s px.jgl
+        TempPrepmtInvLineBuffer.ClearSingleLineID;
+        //PX001e px.jgl
         CalcVATAmountLines(SalesHeader,SalesLine,TempVATAmountLine,DocumentType);
         TempVATAmountLine.DeductVATAmountLine(TempVATAmountLineDeduct);
         UpdateVATOnLines(SalesHeader,SalesLine,TempVATAmountLine,DocumentType);
@@ -359,7 +362,6 @@ OBJECT Codeunit 442 Sales-Post Prepayments
 
     LOCAL PROCEDURE BuildInvLineBuffer@3(SalesHeader@1000 : Record 36;VAR SalesLine@1001 : Record 37;DocumentType@1005 : Option;VAR PrepmtInvBuf@1002 : Record 461;UpdateLines@1010 : Boolean);
     VAR
-      PrepmtInvBuf2@1003 : Record 461;
       TotalPrepmtInvLineBuffer@1009 : Record 461;
       TotalPrepmtInvLineBufferDummy@1008 : Record 461;
       SalesSetup@1011 : Record 311;
@@ -367,6 +369,9 @@ OBJECT Codeunit 442 Sales-Post Prepayments
       WITH SalesHeader DO BEGIN
         TempGlobalPrepmtInvLineBuf.RESET;
         TempGlobalPrepmtInvLineBuf.DELETEALL;
+        //PX001s px.jgl
+        TempGlobalPrepmtInvLineBuf.ClearSingleLineID;
+        //PX001e px.jgl
         ApplyFilter(SalesHeader,DocumentType,SalesLine);
         SalesLine.SETRANGE("System-Created Entry",FALSE);
         IF SalesLine.FIND('-') THEN
@@ -376,20 +381,22 @@ OBJECT Codeunit 442 Sales-Post Prepayments
                 SalesLine.FIELDERROR(Quantity,STRSUBSTNO(Text018,FIELDCAPTION("Prepayment %")));
               IF SalesLine."Unit Price" < 0 THEN
                 SalesLine.FIELDERROR("Unit Price",STRSUBSTNO(Text018,FIELDCAPTION("Prepayment %")));
-
-              FillInvLineBuffer(SalesHeader,SalesLine,PrepmtInvBuf2);
+        //PX001s px.jgl
+              FillInvLineBuffer(SalesHeader,SalesLine,PrepmtInvBuf);
               IF UpdateLines THEN
-                TempGlobalPrepmtInvLineBuf.CopyWithLineNo(PrepmtInvBuf2,SalesLine."Line No.");
-              PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf2);
+                TempGlobalPrepmtInvLineBuf.CopyWithLineNo(PrepmtInvBuf,SalesLine."Line No.");
+              PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf);
               IF SalesSetup."Invoice Rounding" THEN
-                RoundAmounts(SalesHeader,PrepmtInvBuf2,TotalPrepmtInvLineBuffer,TotalPrepmtInvLineBufferDummy);
+                RoundAmounts(
+                  SalesHeader,PrepmtInvBuf,TotalPrepmtInvLineBuffer,TotalPrepmtInvLineBufferDummy);
             END;
           UNTIL SalesLine.NEXT = 0;
         IF SalesSetup."Invoice Rounding" THEN
           IF InsertInvoiceRounding(
-               SalesHeader,PrepmtInvBuf2,TotalPrepmtInvLineBuffer,SalesLine."Line No.")
+               SalesHeader,PrepmtInvBuf,TotalPrepmtInvLineBuffer,SalesLine."Line No.")
           THEN
-            PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf2);
+            PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf);
+        //PX001e px.jgl
       END;
     END;
 
@@ -561,6 +568,10 @@ OBJECT Codeunit 442 Sales-Post Prepayments
     BEGIN
       WITH PrepmtInvBuf DO BEGIN
         INIT;
+        //PX001s px.jgl
+        SingleLineID := 0;
+        "Dimension Set ID" := 0;
+        //PX001e px.jgl
         "G/L Account No." := GetPrepmtAccNo(SalesLine."Gen. Bus. Posting Group",SalesLine."Gen. Prod. Posting Group");
 
         IF NOT SalesHeader."Compress Prepayment" THEN BEGIN
@@ -577,6 +588,9 @@ OBJECT Codeunit 442 Sales-Post Prepayments
 
         "VAT Amount" := SalesLine."Prepmt. Amt. Incl. VAT" - SalesLine."Prepayment Amount";
         "VAT Amount (ACY)" := SalesLine."Prepmt. Amt. Incl. VAT" - SalesLine."Prepayment Amount";
+        //PX001s px.jgl
+        SingleLineID := PrepmtInvBuf.GetSingleLineID(PrepmtInvBuf);
+        //PX001e px.jgl
       END;
     END;
 
@@ -588,6 +602,10 @@ OBJECT Codeunit 442 Sales-Post Prepayments
         CreateDimensions(SalesLine);
         WITH PrepmtInvBuf DO BEGIN
           INIT;
+          //PX001s px.jgl
+          SingleLineID := 0;
+          "Dimension Set ID" := 0;
+          //PX001e px.jgl
           "Line No." := PrevLineNo + 10000;
           "Invoice Rounding" := TRUE;
           "G/L Account No." := SalesLine."No.";
@@ -602,6 +620,9 @@ OBJECT Codeunit 442 Sales-Post Prepayments
 
           "VAT Amount" := SalesLine."Amount Including VAT" - SalesLine."Line Amount";
           "VAT Amount (ACY)" := SalesLine."Amount Including VAT" - SalesLine."Line Amount";
+          //PX001s px.jgl
+          SingleLineID := PrepmtInvBuf.GetSingleLineID(PrepmtInvBuf);
+          //PX001e px.jgl
         END;
         EXIT(TRUE);
       END;
@@ -1510,6 +1531,29 @@ OBJECT Codeunit 442 Sales-Post Prepayments
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     11.02.2012    os.jgl  SITC    Pass Currency to the G/L
+      OS002     26.12.2012    os.jgl  SITC    Bugfix: wrong field assignment
+      PX001     20.06.2016    px.jgl  P4BB    SingleLineID-functionality
+      PX002     04.08.2017    px.jgl  P4TC    Integrate into NAV2017
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000000444.txt b/codeunit/codeunit_0000000444.txt
index 1185d95..b6cc2f0 100644
--- a/codeunit/codeunit_0000000444.txt
+++ b/codeunit/codeunit_0000000444.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00,P4TC3.01;
   }
   PROPERTIES
   {
@@ -154,6 +154,9 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
 
         // Create Lines
         TempPrepmtInvLineBuffer.DELETEALL;
+        //PX001s px.jgl
+        TempPrepmtInvLineBuffer.ClearSingleLineID;
+        //PX001e px.jgl
         CalcVATAmountLines(PurchHeader,PurchLine,TempVATAmountLine,DocumentType);
         TempVATAmountLine.DeductVATAmountLine(TempVATAmountLineDeduct);
         UpdateVATOnLines(PurchHeader,PurchLine,TempVATAmountLine,DocumentType);
@@ -754,7 +757,6 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
 
     LOCAL PROCEDURE BuildInvLineBuffer@31(PurchHeader@1000 : Record 38;VAR PurchLine@1001 : Record 39;DocumentType@1005 : Option;VAR PrepmtInvBuf@1002 : Record 461;UpdateLines@1010 : Boolean);
     VAR
-      PrepmtInvBuf2@1003 : Record 461;
       TotalPrepmtInvLineBuffer@1009 : Record 461;
       TotalPrepmtInvLineBufferDummy@1008 : Record 461;
       PurchSetup@1011 : Record 312;
@@ -762,26 +764,31 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
       WITH PurchHeader DO BEGIN
         TempGlobalPrepmtInvLineBuf.RESET;
         TempGlobalPrepmtInvLineBuf.DELETEALL;
+        //PX001s px.jgl
+        TempGlobalPrepmtInvLineBuf.ClearSingleLineID;
+        //PX001e px.jgl
         PurchSetup.GET;
         ApplyFilter(PurchHeader,DocumentType,PurchLine);
         PurchLine.SETRANGE("System-Created Entry",FALSE);
         IF PurchLine.FIND('-') THEN
           REPEAT
             IF PrepmtAmount(PurchLine,DocumentType) <> 0 THEN BEGIN
-              FillInvLineBuffer(PurchHeader,PurchLine,PrepmtInvBuf2);
+        //PX001s px.jgl
+              FillInvLineBuffer(PurchHeader,PurchLine,PrepmtInvBuf);
               IF UpdateLines THEN
-                TempGlobalPrepmtInvLineBuf.CopyWithLineNo(PrepmtInvBuf2,PurchLine."Line No.");
-              PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf2);
+                TempGlobalPrepmtInvLineBuf.CopyWithLineNo(PrepmtInvBuf,PurchLine."Line No.");
+              PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf);
               IF PurchSetup."Invoice Rounding" THEN
                 RoundAmounts(
-                  PurchHeader,PrepmtInvBuf2,TotalPrepmtInvLineBuffer,TotalPrepmtInvLineBufferDummy);
+                  PurchHeader,PrepmtInvBuf,TotalPrepmtInvLineBuffer,TotalPrepmtInvLineBufferDummy);
             END;
           UNTIL PurchLine.NEXT = 0;
         IF PurchSetup."Invoice Rounding" THEN
           IF InsertInvoiceRounding(
-               PurchHeader,PrepmtInvBuf2,TotalPrepmtInvLineBuffer,PurchLine."Line No.")
+               PurchHeader,PrepmtInvBuf,TotalPrepmtInvLineBuffer,PurchLine."Line No.")
           THEN
-            PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf2);
+            PrepmtInvBuf.InsertInvLineBuffer(PrepmtInvBuf);
+        //PX001e px.jgl
       END;
     END;
 
@@ -796,6 +803,10 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
     BEGIN
       WITH PrepmtInvBuf DO BEGIN
         INIT;
+        //PX001s px.jgl
+        SingleLineID := 0;
+        "Dimension Set ID" := 0;
+        //PX001e px.jgl
         "G/L Account No." := GetPrepmtAccNo(PurchLine."Gen. Bus. Posting Group",PurchLine."Gen. Prod. Posting Group");
 
         IF NOT PurchHeader."Compress Prepayment" THEN BEGIN
@@ -812,6 +823,9 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
 
         "VAT Amount" := PurchLine."Prepmt. Amt. Incl. VAT" - PurchLine."Prepayment Amount";
         "VAT Amount (ACY)" := PurchLine."Prepmt. Amt. Incl. VAT" - PurchLine."Prepayment Amount";
+        //PX001s px.jgl
+        SingleLineID := PrepmtInvBuf.GetSingleLineID(PrepmtInvBuf);
+        //PX001e px.jgl
       END;
     END;
 
@@ -823,6 +837,10 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
         CreateDimensions(PurchLine);
         WITH PrepmtInvBuf DO BEGIN
           INIT;
+          //PX001s px.jgl
+          SingleLineID := 0;
+          "Dimension Set ID" := 0;
+          //PX001e px.jgl
           "Line No." := PrevLineNo + 10000;
           "Invoice Rounding" := TRUE;
           "G/L Account No." := PurchLine."No.";
@@ -835,6 +853,9 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
 
           "VAT Amount" := PurchLine."Amount Including VAT" - PurchLine."Line Amount";
           "VAT Amount (ACY)" := PurchLine."Amount Including VAT" - PurchLine."Line Amount";
+          //PX001s px.jgl
+          SingleLineID := PrepmtInvBuf.GetSingleLineID(PrepmtInvBuf);
+          //PX001e px.jgl
         END;
         EXIT(TRUE);
       END;
@@ -1508,6 +1529,28 @@ OBJECT Codeunit 444 Purchase-Post Prepayments
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     26.12.2012    os.jgl  SITC    Pass Currency to the G/L
+      PX001     20.06.2016    px.jgl  P4BB    SingleLineID-functionality
+      PX002     05.08.2017    px.jgl  P4TC    Integrate into NAV2017
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000001223.txt b/codeunit/codeunit_0000001223.txt
index 905f034..ffd1b2d 100644
--- a/codeunit/codeunit_0000001223.txt
+++ b/codeunit/codeunit_0000001223.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 1223 SEPA CT-Check Line
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.01;
   }
   PROPERTIES
   {
@@ -61,8 +61,12 @@ OBJECT Codeunit 1223 SEPA CT-Check Line
           InsertPaymentFileError(MustBePositiveErr);
 
         IF "Currency Code" <> GLSetup.GetCurrencyCode('EUR') THEN BEGIN
-          BankAccount.GET("Bal. Account No.");
-          InsertPaymentFileError(STRSUBSTNO(EuroCurrErr,"Bal. Account No.",BankAccount."Payment Export Format"));
+          //PX001s px.jgl
+          IF "Currency Code" <> 'EUR' THEN BEGIN
+            BankAccount.GET("Bal. Account No.");
+            InsertPaymentFileError(STRSUBSTNO(EuroCurrErr,"Bal. Account No.",BankAccount."Payment Export Format"));
+          END;
+          //PX001e px.jgl
         END;
 
         IF "Posting Date" < TODAY THEN
@@ -146,6 +150,25 @@ OBJECT Codeunit 1223 SEPA CT-Check Line
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.01             22.12.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     22.12.2016    px.jgl  P4BB    CheckgenJnlLine(): defensive check for EUR, even if EUR is LCY and FCY
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000005600.txt b/codeunit/codeunit_0000005600.txt
index c6fab97..2a5f084 100644
--- a/codeunit/codeunit_0000005600.txt
+++ b/codeunit/codeunit_0000005600.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 5600 FA Insert Ledger Entry
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TA3.00;
   }
   PROPERTIES
   {
@@ -399,7 +399,13 @@ OBJECT Codeunit 5600 FA Insert Ledger Entry
       DimMgt@1012 : Codeunit 408;
       TableID@1014 : ARRAY [10] OF Integer;
       AccNo@1013 : ARRAY [10] OF Code[20];
+      CheckAccNo@119451021 : Code[20];
     BEGIN
+      //OS001s os.jgl
+      //OS002s os.jgl
+      // BBSetup.GET;
+      //OS002e os.jgl
+      //OS001e os.jgl
       IF FAEntryType = FAEntryType::"Fixed Asset" THEN BEGIN
         FALedgEntry3.GET(FAEntryNo);
         FALedgEntry3.TESTFIELD("Reversed by Entry No.",0);
@@ -411,14 +417,30 @@ OBJECT Codeunit 5600 FA Insert Ledger Entry
             FALedgEntry3."FA Posting Type",
             FALedgEntry.TABLECAPTION,FALedgEntry3."Entry No.");
         IF FALedgEntry3."FA Posting Type" <> FALedgEntry3."FA Posting Type"::"Salvage Value" THEN BEGIN
-          IF NOT DimMgt.CheckDimIDComb(FALedgEntry3."Dimension Set ID") THEN
-            ERROR(Text006,FALedgEntry3.TABLECAPTION,FALedgEntry3."Entry No.",DimMgt.GetDimCombErr);
-          CLEAR(TableID);
-          CLEAR(AccNo);
-          TableID[1] := DATABASE::"Fixed Asset";
-          AccNo[1] := FALedgEntry3."FA No.";
-          IF NOT DimMgt.CheckDimValuePosting(TableID,AccNo,FALedgEntry3."Dimension Set ID") THEN
-            ERROR(DimMgt.GetDimValuePostingErr);
+          //OS001s os.jgl
+          //OS002s os.jgl
+          // IF NOT BBSetup."Revert with Force Post" THEN BEGIN
+          //   IF NOT DimMgt.CheckDimIDComb(FALedgEntry3."Dimension Set ID") THEN
+          //     ERROR(Text006,FALedgEntry3.TABLECAPTION,FALedgEntry3."Entry No.",DimMgt.GetDimCombErr);
+          //   CLEAR(TableID);
+          //   CLEAR(AccNo);
+          //   TableID[1] := DATABASE::"Fixed Asset";
+          // END;
+          //OS002e os.jgl
+          //PX001s os.jgl
+          IF FALedgEntry3."Canceled from FA No." <> '' THEN
+            CheckAccNo := FALedgEntry3."Canceled from FA No."
+          ELSE
+            CheckAccNo := FALedgEntry3."FA No.";
+          AccNo[1] := CheckAccNo;
+          //PX001e os.jgl
+          //OS002s os.jgl
+          // IF NOT BBSetup."Revert with Force Post" THEN BEGIN
+          //   IF NOT DimMgt.CheckDimValuePosting(TableID,AccNo,FALedgEntry3."Dimension Set ID") THEN
+          //     ERROR(DimMgt.GetDimValuePostingErr);
+          // END;
+          //OS002e os.jgl
+          //OS001e os.jgl
           IF NextEntryNo = 0 THEN BEGIN
             FALedgEntry.LOCKTABLE;
             IF FALedgEntry.FINDLAST THEN
@@ -448,6 +470,9 @@ OBJECT Codeunit 5600 FA Insert Ledger Entry
           FALedgEntry3."Journal Batch Name" := '';
           FALedgEntry3."FA No./Budgeted FA No." := '';
           FALedgEntry3.INSERT(TRUE);
+          //PX001s os.jgl
+          FALedgEntry3."FA No." := CheckAccNo;
+          //PX001e os.jgl
           CODEUNIT.RUN(CODEUNIT::"FA Check Consistency",FALedgEntry3);
           InsertRegister(0,NextEntryNo);
         END;
@@ -465,14 +490,20 @@ OBJECT Codeunit 5600 FA Insert Ledger Entry
         NewFAEntryNo := NextMaintenanceEntryNo;
         MaintenanceLedgEntry3.GET(FAEntryNo);
 
-        IF NOT DimMgt.CheckDimIDComb(MaintenanceLedgEntry3."Dimension Set ID") THEN
-          ERROR(Text006,MaintenanceLedgEntry3.TABLECAPTION,MaintenanceLedgEntry3."Entry No.",DimMgt.GetDimCombErr);
-        CLEAR(TableID);
-        CLEAR(AccNo);
-        TableID[1] := DATABASE::"Fixed Asset";
-        AccNo[1] := MaintenanceLedgEntry3."FA No.";
-        IF NOT DimMgt.CheckDimValuePosting(TableID,AccNo,MaintenanceLedgEntry3."Dimension Set ID") THEN
-          ERROR(DimMgt.GetDimValuePostingErr);
+        //OS001s os.jgl
+        //OS002s os.jgl
+        // IF NOT BBSetup."Revert with Force Post" THEN BEGIN
+        //   IF NOT DimMgt.CheckDimIDComb(MaintenanceLedgEntry3."Dimension Set ID") THEN
+        //     ERROR(Text006,MaintenanceLedgEntry3.TABLECAPTION,MaintenanceLedgEntry3."Entry No.",DimMgt.GetDimCombErr);
+        //   CLEAR(TableID);
+        //   CLEAR(AccNo);
+        //   TableID[1] := DATABASE::"Fixed Asset";
+        //   AccNo[1] := MaintenanceLedgEntry3."FA No.";
+        //   IF NOT DimMgt.CheckDimValuePosting(TableID,AccNo,MaintenanceLedgEntry3."Dimension Set ID") THEN
+        //     ERROR(DimMgt.GetDimValuePostingErr);
+        // END;
+        //OS002e os.jgl
+        //OS001e os.jgl
 
         TmpMaintenanceLedgEntry := MaintenanceLedgEntry3;
         TmpMaintenanceLedgEntry.INSERT;
@@ -547,12 +578,30 @@ OBJECT Codeunit 5600 FA Insert Ledger Entry
         CloseReversal := TRUE;
         FALedgEntry2."Reversed by Entry No." := 0;
         FALedgEntry2.Reversed := FALSE;
+        //PX001s os.jgl
+        IF FALedgEntry2."Canceled from FA No." <> '' THEN BEGIN
+          FALedgEntry2."FA No." := FALedgEntry2."Canceled from FA No.";
+          FALedgEntry2."Canceled from FA No." := '';
+        END ELSE BEGIN
+          FALedgEntry2."Canceled from FA No." := FALedgEntry2."FA No.";
+          FALedgEntry2."FA No." := '';
+        END;
+        //PX001e os.jgl
         FALedgEntry2.MODIFY;
       END;
       FALedgEntry."Reversed by Entry No." := NextEntryNo;
       IF CloseReversal THEN
         FALedgEntry."Reversed Entry No." := NextEntryNo;
       FALedgEntry.Reversed := TRUE;
+      //PX001s os.jgl
+      IF FALedgEntry."FA No." <> '' THEN BEGIN
+        FALedgEntry."Canceled from FA No." := FALedgEntry."FA No.";
+        FALedgEntry."FA No." := '';
+      END ELSE BEGIN
+        FALedgEntry."FA No." := FALedgEntry."Canceled from FA No.";
+        FALedgEntry."Canceled from FA No." := '';
+      END;
+      //PX001e os.jgl
       FALedgEntry.MODIFY;
       FALedgEntry."Reversed by Entry No." := 0;
       FALedgEntry."Reversed Entry No." := FALedgEntry."Entry No.";
@@ -614,6 +663,29 @@ OBJECT Codeunit 5600 FA Insert Ledger Entry
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     08.01.2012    os.jgl  SIBB    integrated: Reverse with force post
+      OS002     01.08.2013    os.jgl  SITC    Configuration for SITC Advanced
+      PX001     23.05.2016    os.jgl  P4BB    Fix for support case 116052314196734:
+                                              Reverse transaction: Also set FA Ledger Entry as cancelled
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000005607.txt b/codeunit/codeunit_0000005607.txt
index 1ddbf5b..9dee719 100644
--- a/codeunit/codeunit_0000005607.txt
+++ b/codeunit/codeunit_0000005607.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 5607 FA Automatic Entry
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -64,6 +64,9 @@ OBJECT Codeunit 5607 FA Automatic Entry
         "Bal. Account Type" := "Bal. Account Type"::"G/L Account";
         "Bal. Account No." := '';
         "VAT Amount" := 0;
+        //OS001s os.jgl
+        "VAT Amount (FCY)" := 0;
+        //OS001e os.jgl
         "Gen. Posting Type" := "Gen. Posting Type"::" ";
         "Gen. Bus. Posting Group" := '';
         "Gen. Prod. Posting Group" := '';
@@ -73,6 +76,21 @@ OBJECT Codeunit 5607 FA Automatic Entry
     END;
 
     BEGIN
+    {
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     29.01.2013    os.jgl  SITC    Respect FCY field in the G/L Entry
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000005986.txt b/codeunit/codeunit_0000005986.txt
index d57d839..327e544 100644
--- a/codeunit/codeunit_0000005986.txt
+++ b/codeunit/codeunit_0000005986.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 5986 Serv-Amounts Mgt.
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TA3.00;
   }
   PROPERTIES
   {
@@ -36,6 +36,9 @@ OBJECT Codeunit 5986 Serv-Amounts Mgt.
       RoundingLineIsInserted := FALSE;
       GetCurrency(CurrencyCode,Currency);
       SalesSetup.GET;
+      //OS001s os.jgl
+      DimBufMgt.DeleteAllDimensions;
+      //OS001e os.jgl
       IsInitialized := TRUE;
     END;
 
@@ -109,7 +112,16 @@ OBJECT Codeunit 5986 Serv-Amounts Mgt.
       END;
 
       InvPostingBuffer[1].SetAmounts(
-        TotalVAT,TotalVATACY,TotalAmount,TotalAmountACY,ServiceLine."VAT Difference",TotalAmount,TotalAmountACY);
+        TotalVAT,
+        TotalVATACY,
+        TotalAmount,
+        TotalAmountACY,
+        ServiceLine."VAT Difference",
+        //OS002s os.jgl
+        ServiceLineACY."VAT Difference",
+        //OS002e os.jgl
+        TotalAmount,
+        TotalAmountACY);
 
       CASE ServiceLine.Type OF
         ServiceLine.Type::"G/L Account":
@@ -136,6 +148,9 @@ OBJECT Codeunit 5986 Serv-Amounts Mgt.
       IF InvPostingBuffer[1].Type = InvPostingBuffer[1].Type::"Fixed Asset" THEN BEGIN
         FALineNo := FALineNo + 1;
         InvPostingBuffer[1]."Fixed Asset Line No." := FALineNo;
+        //PX002s px.jgl
+        InvPostingBuffer[1].SingleLineID := InvPostingBuffer[1].GetSingleLineID(InvPostingBuffer[1]);
+        //PX002e px.jgl
       END;
 
       InvPostingBuffer[2] := InvPostingBuffer[1];
@@ -154,6 +169,10 @@ OBJECT Codeunit 5986 Serv-Amounts Mgt.
         InvPostingBuffer[2]."VAT Base Amount (ACY)" :=
           InvPostingBuffer[2]."VAT Base Amount (ACY)" +
           InvPostingBuffer[1]."VAT Base Amount (ACY)";
+        //OS002s os.jgl
+        InvPostingBuffer[2]."VAT Difference (ACY)" :=
+          InvPostingBuffer[2]."VAT Difference (ACY)" + InvPostingBuffer[1]."VAT Difference (ACY)";
+        //OS002e os.jgl
         InvPostingBuffer[2].Quantity :=
           InvPostingBuffer[2].Quantity + InvPostingBuffer[1].Quantity;
         IF NOT InvPostingBuffer[1]."System-Created Entry" THEN
@@ -709,6 +728,30 @@ OBJECT Codeunit 5986 Serv-Amounts Mgt.
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.08.2010    os.jgl  SIBB    SingleLineID-functionality
+      OS001     27.02.2011    os.jgl  SITC    safety measures
+      OS002     02.01.2011    os.jgl  SITC    propagate currency to the G/L
+      PX002     22.05.2016    os.jgl  P4BB    Fix for FA postings and SingleLineID
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000005987.txt b/codeunit/codeunit_0000005987.txt
index 23becc9..b769a25 100644
--- a/codeunit/codeunit_0000005987.txt
+++ b/codeunit/codeunit_0000005987.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 5987 Serv-Posting Journals Mgt.
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TA3.01;
   }
   PROPERTIES
   {
@@ -343,7 +343,12 @@ OBJECT Codeunit 5987 Serv-Posting Journals Mgt.
         "Account Type" := "Account Type"::Customer;
         "Account No." := ServiceHeader."Bill-to Customer No.";
         CopyFromServiceHeader(ServiceHeader);
-        SetCurrencyFactor(ServiceHeader."Currency Code",ServiceHeader."Currency Factor");
+        //PX003s px.jgl
+        // ************************************************** Plexada **********************************
+        // Standard Code:
+        // SetCurrencyFactor(ServiceHeader."Currency Code",ServiceHeader."Currency Factor");
+        // ************************************************** Plexada **********************************
+        //PX003e px.jgl
 
         CopyFromServiceHeaderApplyTo(ServiceHeader);
         CopyFromServiceHeaderPayment(ServiceHeader);
@@ -381,7 +386,12 @@ OBJECT Codeunit 5987 Serv-Posting Journals Mgt.
         "Account Type" := "Account Type"::Customer;
         "Account No." := ServiceHeader."Bill-to Customer No.";
         CopyFromServiceHeader(ServiceHeader);
-        SetCurrencyFactor(ServiceHeader."Currency Code",ServiceHeader."Currency Factor");
+        //PX003s px.jgl
+        // ************************************************** Plexada **********************************
+        // Standard Code:
+        // SetCurrencyFactor(ServiceHeader."Currency Code",ServiceHeader."Currency Factor");
+        // ************************************************** Plexada **********************************
+        //PX003e px.jgl
 
         SetApplyToDocNo(ServiceHeader,GenJnlLine,DocType,DocNo);
 
@@ -690,6 +700,30 @@ OBJECT Codeunit 5987 Serv-Posting Journals Mgt.
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             06.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.08.2010    os.jgl  SIBB    SingleLineID-functionality
+      OS002     02.01.2011    os.jgl  SITC    propagate currency to the G/L
+      PX003     05.08.2017    px.jgl  P4TC    Integrate into NAV2017
+                06.10.2017                    remove call to GenJnlLine.SetCurrencyFactor(), now integrated into CopyFromSalesHeader*
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000005988.txt b/codeunit/codeunit_0000005988.txt
index dcdaa8f..ae1e5dc 100644
--- a/codeunit/codeunit_0000005988.txt
+++ b/codeunit/codeunit_0000005988.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 5988 Serv-Documents Mgt.
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TA3.00;
   }
   PROPERTIES
   {
@@ -151,6 +151,9 @@ OBJECT Codeunit 5988 Serv-Documents Mgt.
       LastLineRetrieved@1017 : Boolean;
     BEGIN
       LineCount := 0;
+      //OS001s os.jgl
+      InvPostingBuffer[1].ClearSingleLineID;
+      //OS001e os.jgl
 
       // init cu for posting SLE type Usage
       ServPostingJnlsMgt.InitServiceRegister(NextServLedgerEntryNo,NextWarrantyLedgerEntryNo);
@@ -1974,6 +1977,27 @@ OBJECT Codeunit 5988 Serv-Documents Mgt.
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.08.2010    os.jgl  SIBB    SingleLineID-functionality
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0000009025.txt b/codeunit/codeunit_0000009025.txt
index c45f988..341b9ff 100644
--- a/codeunit/codeunit_0000009025.txt
+++ b/codeunit/codeunit_0000009025.txt
@@ -4,7 +4,7 @@ OBJECT Codeunit 9025 Small Business Report Catalog
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -141,7 +141,48 @@ OBJECT Codeunit 9025 Small Business Report Catalog
       ERASE(FileName);
     END;
 
+    LOCAL PROCEDURE "***** Plexada Functions *****"@119451021();
     BEGIN
+    END;
+
+    PROCEDURE RunDetailTrialBalanceSITCReport@119451022(UseRequestPage@1001 : Boolean);
+    VAR
+      DetailTrialBalance@1000 : Report 5274200;
+      FileMgt@1004 : Codeunit 419;
+      FileName@1003 : Text;
+      ToFile@1002 : Text;
+    BEGIN
+      DetailTrialBalance.USEREQUESTPAGE(UseRequestPage);
+
+      FileName := FileMgt.ServerTempFileName('xlsx');
+      // Render report on the server
+      DetailTrialBalance.SAVEASEXCEL(FileName);
+
+      ToFile := ToFileNameTxt;
+      DOWNLOAD(FileName,'',FileMgt.Magicpath,'',ToFile);
+      ERASE(FileName);
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     21.01.2015    os.jgl  SITC    Merge into NAV2015, add Report 5274200 Detail Trial Balance SITC to Page Actions
+    }
     END.
   }
 }
diff --git a/codeunit/codeunit_0005274298.txt b/codeunit/codeunit_0005274298.txt
new file mode 100644
index 0000000..1a79649
--- /dev/null
+++ b/codeunit/codeunit_0005274298.txt
@@ -0,0 +1,202 @@
+OBJECT Codeunit 5274298 P4TA DataUpgrade
+{
+  OBJECT-PROPERTIES
+  {
+    Date=04.10.17;
+    Time=12:00:00;
+    Version List=P4BB2.00,P4TA3.01;
+  }
+  PROPERTIES
+  {
+    Subtype=Upgrade;
+    OnRun=BEGIN
+          END;
+
+  }
+  CODE
+  {
+    VAR
+      DataUpgradeMgt@1000000000 : Codeunit 9900;
+      Text5274202@119451324 : TextConst 'ENU=System posting';
+      Text5274204@119451322 : TextConst 'ENU=DEFAULT';
+      Text5274205@119451321 : TextConst 'ENU=Default Journal';
+
+    [TableSyncSetup]
+    PROCEDURE GetTableSyncSetup@3(VAR TableSynchSetup@1000 : Record 2000000135);
+    BEGIN
+      DataUpgradeMgt.SetTableSyncSetup(DATABASE::"Invoice Post. Buffer",0,TableSynchSetup.Mode::Force);
+      DataUpgradeMgt.SetTableSyncSetup(DATABASE::"Prepayment Inv. Line Buffer",0,TableSynchSetup.Mode::Force);
+    END;
+
+    [CheckPrecondition]
+    PROCEDURE SetPrecondition@119451021();
+    VAR
+      DataUpgradeSetup@119451021 : Record 5274105;
+    BEGIN
+      //PX002s px.jgl
+      DataUpgradeSetup.GET;
+      DataUpgradeSetup.TESTFIELD("DataUpgrade Windows Language");
+      DataUpgradeSetup.IsDataUpgrade := TRUE;
+      DataUpgradeSetup.MODIFY;
+      //PX002e px.jgl
+    END;
+
+    [UpgradePerCompany]
+    PROCEDURE ConvertCompany@1000000000();
+    VAR
+      SourceCode@119451325 : Record 230;
+      SourceCodeSetup@119451324 : Record 242;
+      GenJnlTemplate@119451322 : Record 80;
+      GenJnlBatch@119451321 : Record 232;
+      DataUpgradeSetup@119451121 : Record 5274105;
+    BEGIN
+      //PX002s px.jgl
+      DataUpgradeSetup.GET;
+      GLOBALLANGUAGE(DataUpgradeSetup."DataUpgrade Windows Language");
+      //PX002e px.jgl
+      //PX003s px.jgl
+      IF NOT SourceCode.GET('SYSTEM') THEN BEGIN
+        SourceCode.Code := 'SYSTEM';
+        SourceCode.Description := Text5274202;
+        SourceCode.INSERT;
+      END;
+      IF SourceCodeSetup.GET THEN BEGIN
+      //PX003e px.jgl
+        SourceCodeSetup."System Journal" := 'SYSTEM';
+        SourceCodeSetup.MODIFY;
+      END;
+      GenJnlTemplate.INIT;
+      GenJnlTemplate.Type := GenJnlTemplate.Type::System;
+      GenJnlTemplate.Recurring := FALSE;
+      GenJnlTemplate.Name := 'SYSTEM';
+      GenJnlTemplate.Description := Text5274202;
+      GenJnlTemplate.VALIDATE(Type);
+      IF GenJnlTemplate.INSERT THEN;
+      GenJnlBatch.INIT;
+      GenJnlBatch."Journal Template Name" := GenJnlTemplate.Name;
+      GenJnlBatch."Bal. Account Type" := GenJnlTemplate."Bal. Account Type";
+      GenJnlBatch."Bal. Account No." := GenJnlTemplate."Bal. Account No.";
+      GenJnlBatch."No. Series" := GenJnlTemplate."No. Series";
+      GenJnlBatch."Posting No. Series" := GenJnlTemplate."Posting No. Series";
+      GenJnlBatch."Reason Code" := GenJnlTemplate."Reason Code";
+      GenJnlBatch."Copy VAT Setup to Jnl. Lines" := GenJnlTemplate."Copy VAT Setup to Jnl. Lines";
+      GenJnlBatch."Allow VAT Difference" := GenJnlTemplate."Allow VAT Difference";
+      GenJnlBatch.Name := Text5274204;
+      GenJnlBatch.Description := Text5274205;
+      IF GenJnlBatch.INSERT THEN;
+    END;
+
+    [UpgradePerCompany]
+    PROCEDURE ConvertBankAccounts@1000000001();
+    VAR
+      BankAcc@119451321 : Record 270;
+      DataUpgradeSetup@119451121 : Record 5274105;
+    BEGIN
+      //PX002s px.jgl
+      DataUpgradeSetup.GET;
+      GLOBALLANGUAGE(DataUpgradeSetup."DataUpgrade Windows Language");
+      //PX002e px.jgl
+      BankAcc.SETFILTER("Currency Code",'<>%1','');
+      BankAcc.MODIFYALL("FCY Exchange Rate Adjustment",TRUE);
+    END;
+
+    [UpgradePerCompany]
+    PROCEDURE ConvertGLEntries@1000000002();
+    VAR
+      GLEntry@119451321 : Record 17;
+      DataUpgradeSetup@119451121 : Record 5274105;
+    BEGIN
+      //PX002s px.jgl
+      DataUpgradeSetup.GET;
+      GLOBALLANGUAGE(DataUpgradeSetup."DataUpgrade Windows Language");
+      //PX002e px.jgl
+      WITH GLEntry DO BEGIN
+        SETFILTER("Currency Code",'=%1','');
+        IF FIND('-') THEN BEGIN
+          REPEAT
+            "Amount (FCY)" := Amount;
+            "Debit Amount (FCY)" := "Debit Amount";
+            "Credit Amount (FCY)" := "Credit Amount";
+            "VAT Amount (FCY)" := "VAT Amount";
+            //PX004s px.jgl
+            "Original Currency Factor" := 1;
+            "Adjusted Currency Factor" := "Original Currency Factor";
+            //PX004e px.jgl
+            MODIFY;
+          UNTIL NEXT = 0;
+        END;
+        //PX004s px.jgl
+        SETFILTER("Currency Code",'<>%1','');
+        IF FIND('-') THEN BEGIN
+          REPEAT
+            IF Amount <> 0 THEN BEGIN
+              "Original Currency Factor" := "Amount (FCY)" / Amount;
+            END ELSE BEGIN
+              "Original Currency Factor" := 0;
+            END;
+            "Adjusted Currency Factor" := "Original Currency Factor";
+            MODIFY;
+          UNTIL NEXT = 0;
+        END;
+        //PX004e px.jgl
+      END;
+    END;
+
+    [UpgradePerCompany]
+    PROCEDURE ConvertVATEntries@1000000003();
+    VAR
+      VATEntry@119451321 : Record 254;
+      DataUpgradeSetup@119451121 : Record 5274105;
+    BEGIN
+      //PX002s px.jgl
+      DataUpgradeSetup.GET;
+      GLOBALLANGUAGE(DataUpgradeSetup."DataUpgrade Windows Language");
+      //PX002e px.jgl
+      WITH VATEntry DO BEGIN
+        SETFILTER("Currency Code",'=%1','');
+        IF FIND('-') THEN BEGIN
+          REPEAT
+            "Base (FCY)" := Base;
+            "Amount (FCY)" := Amount;
+            "Unrealized Base (FCY)" := "Unrealized Base";
+            "Unrealized Amount (FCY)" := "Unrealized Amount";
+            "Remaining Unreal. Amount (FCY)" := "Remaining Unrealized Amount";
+            "Remaining Unreal. Base (FCY)" := "Remaining Unrealized Base";
+            "VAT Difference (FCY)" :="VAT Difference";
+            MODIFY;
+          UNTIL NEXT = 0;
+        END;
+      END;
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     19.05.2016    os.jgl  SITC    DataUpgrade Codeunit for P/4 TransactionCurrency
+                                              1. Handle TableSync issues
+                                              2. Add a conversion routine per company - actually 4 functions, will be executed in parallel
+      PX002     21.05.2016    px.jgl  P4BB    Additional code for language and Company-Initialize
+      PX003     22.05.2016    px.jgl  P4BB    ConvertCompany(): Change execution order for source Code and Source Code Setup
+                                              ConvertCompany(): create BuildingBlocks Setup if not already there
+      PX004     04.10.2017    px.jgl  P4TC    ConvertGLEntries: also add original currency factor and adjusted currency factor
+    }
+    END.
+  }
+}
+
diff --git a/codeunit/codeunit_0005274299.txt b/codeunit/codeunit_0005274299.txt
new file mode 100644
index 0000000..d874a31
--- /dev/null
+++ b/codeunit/codeunit_0005274299.txt
@@ -0,0 +1,50 @@
+OBJECT Codeunit 5274299 About P4TA
+{
+  OBJECT-PROPERTIES
+  {
+    Date=25.03.18;
+    Time=12:00:00;
+    Version List=P4TA3.02;
+  }
+  PROPERTIES
+  {
+    OnRun=BEGIN
+            MESSAGE(P4TAVersion);
+          END;
+
+  }
+  CODE
+  {
+    VAR
+      VersionString@119451021 : TextConst 'ENU=Plexada P/4 TransactionCurrency Advanced %1 for %2, release date %3';
+      ApplicationMgt@119451022 : Codeunit 1;
+
+    PROCEDURE P4TAVersion@119451021() : Text[1024];
+    BEGIN
+      EXIT(STRSUBSTNO(VersionString,'3.02',ApplicationMgt.ApplicationVersion,110318D));
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.02             11.03.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     17.09.2011    os.jgl  SITC    created
+    }
+    END.
+  }
+}
+
diff --git a/codeunit/codeunit_0005274303.txt b/codeunit/codeunit_0005274303.txt
new file mode 100644
index 0000000..65f31ac
--- /dev/null
+++ b/codeunit/codeunit_0005274303.txt
@@ -0,0 +1,59 @@
+OBJECT Codeunit 5274303 G/L Entry-Edit
+{
+  OBJECT-PROPERTIES
+  {
+    Date=21.09.17;
+    Time=12:00:00;
+    Version List=P4BB2.02;
+  }
+  PROPERTIES
+  {
+    TableNo=17;
+    Permissions=TableData 17=rm;
+    OnRun=BEGIN
+            GLEntry := Rec;
+            GLEntry.LOCKTABLE;
+            GLEntry.FIND;
+            IF UserSetup.GET(USERID) THEN BEGIN
+              IF UserSetup."Edit Dimensions in Entries" THEN BEGIN
+                GLEntry."Global Dimension 1 Code" := "Global Dimension 1 Code";
+                GLEntry."Global Dimension 2 Code" := "Global Dimension 2 Code";
+                GLEntry."Dimension Set ID" := "Dimension Set ID";
+              END;
+            END;
+            //other editable fields
+            GLEntry.MODIFY;
+            Rec := GLEntry;
+          END;
+
+  }
+  CODE
+  {
+    VAR
+      GLEntry@119451021 : Record 17;
+      UserSetup@119451022 : Record 91;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.02             21.09.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     21.09.2017    px.jgl  P4BB    Codeunit to edit G/L entries
+    }
+    END.
+  }
+}
+
diff --git a/menusuite/menusuite_0000001060.txt b/menusuite/menusuite_0000001060.txt
new file mode 100644
index 0000000..3401c80
--- /dev/null
+++ b/menusuite/menusuite_0000001060.txt
@@ -0,0 +1,147 @@
+OBJECT MenuSuite 1060 P/4 TransactionCurrency Adv.
+{
+  OBJECT-PROPERTIES
+  {
+    Date=13.05.18;
+    Time=12:00:00;
+    Version List=P4TA3.02;
+  }
+  PROPERTIES
+  {
+  }
+  MENUNODES
+  {
+    {                ;[{09CBB782-CDA6-40B8-BB85-7AE24C86F067}] ;CaptionML=ENU=Close Income Statement...;
+                                                                RunObjectID=5274202;
+                                                                NextNodeID=[{0E2906C9-A1C3-4B82-BC19-465B10AD78E1}] }
+    { MenuItem       ;[{0E2906C9-A1C3-4B82-BC19-465B10AD78E1}] ;Name=System Journal;
+                                                                CaptionML=ENU=System Journal;
+                                                                MemberOfMenu=[{F8D2429D-034B-4C58-9B5E-81BE962DB1BC}];
+                                                                RunObjectType=Page;
+                                                                RunObjectID=5274104;
+                                                                ParentNodeID=[{5A6FCB96-C6B6-4546-AC29-1ED2A257EAEC}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{00000000-0000-0000-0000-000000000000}];
+                                                                DepartmentCategory=Tasks }
+    { MenuItem       ;[{0E060084-212F-405C-B305-3156A3AD28DB}] ;Name=Sachkonto - Kontoblatt in Frem;
+                                                                CaptionML=ENU=Detail Trial Balance in FCY;
+                                                                MemberOfMenu=[{F8D2429D-034B-4C58-9B5E-81BE962DB1BC}];
+                                                                RunObjectType=Report;
+                                                                RunObjectID=5274200;
+                                                                ParentNodeID=[{D56F8CDF-9578-465F-B257-E7FB962DDC95}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{00000000-0000-0000-0000-000000000000}];
+                                                                DepartmentCategory=Reports and Analysis }
+    {                ;[{30E881BD-AE85-4661-A8A6-1FB53D7A0E81}] ;CaptionML=ENU=Adjust Exchange Rates...;
+                                                                RunObjectID=5274203 }
+    {                ;[{8DFC1044-47E9-4B4C-A64E-31D312DE9D2A}] ;RunObjectID=5274204 }
+    {                ;[{92FE528D-A52D-45EB-9510-DCD961EB15D9}] ;NextNodeID=[{1A3818BE-D079-4959-8ABE-E32E6D3B879A}] }
+    { MenuItem       ;[{1A3818BE-D079-4959-8ABE-E32E6D3B879A}] ;Name=Plexada TransactionCurrency;
+                                                                CaptionML=ENU=About Plexada TransactionCurrency;
+                                                                MemberOfMenu=[{19A352FE-D90D-424E-B85F-CF3B8E98CF0E}];
+                                                                RunObjectType=Page;
+                                                                RunObjectID=5274299;
+                                                                ParentNodeID=[{8777433F-97D7-457C-ACDD-2E2620FDC182}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{9CBA63AC-73D3-438F-818D-476B76D5DB75}];
+                                                                DepartmentCategory=Administration }
+    { MenuItem       ;[{9CBA63AC-73D3-438F-818D-476B76D5DB75}] ;Name=Data Exchange Definition;
+                                                                CaptionML=ENU=Data Exchange Definitions;
+                                                                RunObjectType=Page;
+                                                                RunObjectID=1211;
+                                                                Visible=Yes;
+                                                                DepartmentCategory=Lists }
+    { MenuItem       ;[{BB2D12FC-2EEB-4165-869B-098BBB42C6F6}] ;Name=Bank Export/Import Setup;
+                                                                CaptionML=ENU=Bank Export/Import Setup;
+                                                                RunObjectType=Page;
+                                                                RunObjectID=1200;
+                                                                Visible=Yes;
+                                                                DepartmentCategory=Tasks }
+    { MenuItem       ;[{C0BECAC0-F100-4C39-BBCA-714333A54406}] ;Name=SEPA Schema Viewer;
+                                                                CaptionML=ENU=SEPA Schema Viewer;
+                                                                RunObjectType=Page;
+                                                                RunObjectID=9610;
+                                                                Visible=Yes;
+                                                                DepartmentCategory=Tasks }
+    { MenuItem       ;[{7FD6154D-F047-4A31-B857-0DA1E0BA97D8}] ;Name=XML Schemas;
+                                                                CaptionML=ENU=XML Schemas;
+                                                                RunObjectType=Page;
+                                                                RunObjectID=9600;
+                                                                Visible=Yes;
+                                                                DepartmentCategory=Tasks }
+    { MenuItem       ;[{E55ED739-BBB9-4063-AF58-225E99C5FE72}] ;Name=Document Sending Profiles;
+                                                                CaptionML=ENU=Document Sending Profiles;
+                                                                RunObjectType=Page;
+                                                                RunObjectID=359;
+                                                                Visible=Yes;
+                                                                DepartmentCategory=Lists }
+    { MenuItem       ;[{379BBC3B-5EBB-4617-8419-8D76352F8337}] ;Name=Electronic Document Formats;
+                                                                CaptionML=ENU=Electronic Document Formats;
+                                                                RunObjectType=Page;
+                                                                RunObjectID=363;
+                                                                Visible=Yes;
+                                                                DepartmentCategory=Tasks }
+    { MenuItem       ;[{8A3934DD-BE0A-4851-B8E0-50A64106B98A}] ;Name=Data Exchange Types;
+                                                                CaptionML=ENU=Data Exchange Types;
+                                                                RunObjectType=Page;
+                                                                RunObjectID=1213;
+                                                                Visible=Yes;
+                                                                DepartmentCategory=Administration }
+    {                ;[{B4FDC8AF-A6DE-4583-9D3E-0235C636EAFB}] ;NextNodeID=[{0E060084-212F-405C-B305-3156A3AD28DB}] }
+    {                ;[{19A352FE-D90D-424E-B85F-CF3B8E98CF0E}] ;NextNodeID=[{A219324E-A678-4904-8B1F-2102BDA13F6C}] }
+    { Menu           ;[{A219324E-A678-4904-8B1F-2102BDA13F6C}] ;Name=P/4 BuildingBlocks;
+                                                                CaptionML=ENU=P/4 TransactionCurrency;
+                                                                MemberOfMenu=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                ParentNodeID=[{00000000-0000-0000-0000-000000000000}];
+                                                                Image=14;
+                                                                IsShortcut=No;
+                                                                Visible=Yes;
+                                                                Enabled=Yes;
+                                                                NextNodeID=[{00000000-0000-0000-0000-000000000000}];
+                                                                FirstChild=[{F6BCECA8-8565-4419-9312-C506F284B7F5}] }
+    { MenuGroup      ;[{F6BCECA8-8565-4419-9312-C506F284B7F5}] ;Name=Einrichtung;
+                                                                CaptionML=ENU=Setup;
+                                                                MemberOfMenu=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                ParentNodeID=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{4236BBD5-9ACA-4EC2-965C-4678FC86A1E1}];
+                                                                FirstChild=[{929A8EBF-9C3F-4B4D-B2E5-EE8500AB1359}];
+                                                                IsDepartmentPage=Yes }
+    { MenuItem       ;[{929A8EBF-9C3F-4B4D-B2E5-EE8500AB1359}] ;Name=Smart IT BuildingBlocks Information;
+                                                                CaptionML=ENU=About Plexada TransactionCurrency;
+                                                                MemberOfMenu=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                RunObjectType=Page;
+                                                                RunObjectID=5274299;
+                                                                ParentNodeID=[{F6BCECA8-8565-4419-9312-C506F284B7F5}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{00000000-0000-0000-0000-000000000000}];
+                                                                DepartmentCategory=Administration }
+    { MenuGroup      ;[{4236BBD5-9ACA-4EC2-965C-4678FC86A1E1}] ;Name=DataUpgrade;
+                                                                CaptionML=ENU=DataUpgrade;
+                                                                MemberOfMenu=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                ParentNodeID=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{00000000-0000-0000-0000-000000000000}];
+                                                                FirstChild=[{6860CBA2-3B7C-41CD-9F7E-A3A9DD430157}];
+                                                                IsDepartmentPage=Yes }
+    { MenuItem       ;[{6860CBA2-3B7C-41CD-9F7E-A3A9DD430157}] ;Name=DataUpgrade Einrichtung;
+                                                                CaptionML=ENU=DataUpgrade Setup;
+                                                                MemberOfMenu=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                RunObjectType=Page;
+                                                                RunObjectID=5274105;
+                                                                ParentNodeID=[{4236BBD5-9ACA-4EC2-965C-4678FC86A1E1}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{BCD24C97-1CD6-470A-ADE9-521A7FD9CD1F}];
+                                                                DepartmentCategory=Administration }
+    { MenuItem       ;[{BCD24C97-1CD6-470A-ADE9-521A7FD9CD1F}] ;Name=P4 DataUpgrade Cleanup;
+                                                                CaptionML=ENU=P4 DataUpgrade Cleanup;
+                                                                ApplicationArea=;
+                                                                MemberOfMenu=[{A219324E-A678-4904-8B1F-2102BDA13F6C}];
+                                                                RunObjectType=Report;
+                                                                RunObjectID=5274298;
+                                                                ParentNodeID=[{4236BBD5-9ACA-4EC2-965C-4678FC86A1E1}];
+                                                                Visible=Yes;
+                                                                NextNodeID=[{00000000-0000-0000-0000-000000000000}];
+                                                                DepartmentCategory=Administration }
+  }
+}
diff --git a/page/page_0000000005.txt b/page/page_0000000005.txt
index 586acda..e76a758 100644
--- a/page/page_0000000005.txt
+++ b/page/page_0000000005.txt
@@ -4,7 +4,7 @@ OBJECT Page 5 Currencies
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -80,7 +80,7 @@ OBJECT Page 5 Currencies
                       CaptionML=ENU=Adjust Exchange Rate;
                       ToolTipML=ENU=Adjust general ledger, customer, vendor, and bank account entries to reflect a more updated balance if the exchange rate has changed since the entries were posted.;
                       ApplicationArea=#Suite;
-                      RunObject=Report 595;
+                      RunObject=Report 5274203;
                       Promoted=Yes;
                       Image=AdjustExchangeRates;
                       PromotedCategory=Process }
@@ -441,6 +441,27 @@ OBJECT Page 5 Currencies
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      SI001     05.06.2011    si.jw   SITC    change Page Actions: Adjust Exchange Rate
+                                              Old RunObject: Report Adjust Exchange Rates
+                                              New RunObject: Report Adjust Exchange Rates SITC
+    }
     END.
   }
 }
diff --git a/page/page_0000000016.txt b/page/page_0000000016.txt
index 60c94a2..d10d310 100644
--- a/page/page_0000000016.txt
+++ b/page/page_0000000016.txt
@@ -4,7 +4,7 @@ OBJECT Page 16 Chart of Accounts
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -220,7 +220,7 @@ OBJECT Page 16 Chart of Accounts
                       CaptionML=ENU=Close Income Statement;
                       ToolTipML=ENU=Start the transfer of the year's result to an account in the balance sheet and close the income statement accounts.;
                       ApplicationArea=#Basic,#Suite;
-                      RunObject=Report 94;
+                      RunObject=Report 5274202;
                       Promoted=Yes;
                       PromotedIsBig=Yes;
                       Image=CloseYear;
@@ -251,7 +251,7 @@ OBJECT Page 16 Chart of Accounts
                       CaptionML=ENU=Detail Trial Balance;
                       ToolTipML=ENU=View a detail trial balance for the general ledger accounts that you specify.;
                       ApplicationArea=#Basic,#Suite;
-                      RunObject=Report 4;
+                      RunObject=Report 5274200;
                       Promoted=Yes;
                       Image=Report;
                       PromotedCategory=Report;
@@ -467,6 +467,26 @@ OBJECT Page 16 Chart of Accounts
                 ApplicationArea=#Suite;
                 SourceExpr="Default Deferral Template Code" }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Currency Code";
+                Visible=false }
+
+    { 119451024;2;Field   ;
+                SourceExpr="Net Change (FCY)";
+                Visible=false }
+
+    { 119451023;2;Field   ;
+                SourceExpr="Balance at Date (FCY)";
+                Visible=false }
+
+    { 119451026;2;Field   ;
+                SourceExpr="Balance (FCY)";
+                Visible=false }
+
+    { 119451022;2;Field   ;
+                SourceExpr="FCY Exchange Rate Adjustment";
+                Visible=false }
+
     { 1900000007;0;Container;
                 ContainerType=FactBoxArea }
 
@@ -509,6 +529,28 @@ OBJECT Page 16 Chart of Accounts
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     01.01.2011    os.jgl  SITC    show Currency Code, FCY Exchange Rate Regulation
+      OS003     16.10.2011    os.jgl  SITC    showable:  net change, Balance at date, Balance (FCY)
+      OS004     01.02.2014    os.jgl  SITC    link to SITC version of reports
+    }
     END.
   }
 }
diff --git a/page/page_0000000017.txt b/page/page_0000000017.txt
index 5497fe0..68a61ba 100644
--- a/page/page_0000000017.txt
+++ b/page/page_0000000017.txt
@@ -4,7 +4,7 @@ OBJECT Page 17 G/L Account Card
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -191,7 +191,7 @@ OBJECT Page 17 G/L Account Card
                       CaptionML=ENU=Detail Trial Balance;
                       ToolTipML=ENU=View detail general ledger account balances and activities for all the selected accounts, one transaction per line.;
                       ApplicationArea=#Basic,#Suite;
-                      RunObject=Report 4;
+                      RunObject=Report 5274200;
                       Image=Report;
                       PromotedCategory=Report }
       { 1904082706;1 ;Action    ;
@@ -413,6 +413,15 @@ OBJECT Page 17 G/L Account Card
                 ApplicationArea=#Suite;
                 SourceExpr="Default Deferral Template Code" }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Currency Code" }
+
+    { 119451022;2;Field   ;
+                SourceExpr="FCY Exchange Rate Adjustment" }
+
+    { 119451023;2;Field   ;
+                SourceExpr="Balance (FCY)" }
+
     { 1904602201;1;Group  ;
                 CaptionML=ENU=Consolidation }
 
@@ -440,7 +449,7 @@ OBJECT Page 17 G/L Account Card
     { 64  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies how general ledger accounts will be adjusted for exchange rate fluctuations between LCY and the additional reporting currency.;
                 ApplicationArea=#Suite;
-                SourceExpr="Exchange Rate Adjustment";
+                SourceExpr="ACY Exchange Rate Adjustment";
                 Importance=Promoted }
 
     { 3   ;1   ;Group     ;
@@ -481,6 +490,27 @@ OBJECT Page 17 G/L Account Card
       SubCategoryDescription@1000 : Text[80];
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     25.12.2010    os.jgl  SITC    Added fields for FCY
+      OS004     01.02.2014    os.jgl  SITC    link to SITC version of reports
+    }
     END.
   }
 }
diff --git a/page/page_0000000018.txt b/page/page_0000000018.txt
index eac6e69..47b354b 100644
--- a/page/page_0000000018.txt
+++ b/page/page_0000000018.txt
@@ -4,7 +4,7 @@ OBJECT Page 18 G/L Account List
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -138,6 +138,13 @@ OBJECT Page 18 G/L Account List
                       Promoted=Yes;
                       Image=Report;
                       PromotedCategory=Report }
+      { 119451091;1  ;Action    ;
+                      Name=<Report Detail Trial Balance P4TC>;
+                      CaptionML=ENU=Detail Trial Balance with currency;
+                      RunObject=Report 5274200;
+                      Promoted=Yes;
+                      Image=Report;
+                      PromotedCategory=Report }
     }
   }
   CONTROLS
@@ -206,6 +213,10 @@ OBJECT Page 18 G/L Account List
                 SourceExpr="VAT Prod. Posting Group";
                 Visible=FALSE }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Currency Code";
+                Visible=false }
+
     { 30  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies whether you will be able to post directly or only indirectly to this general ledger account. To allow Direct Posting to the G/L account, place a check mark in the check box.;
                 ApplicationArea=#Basic,#Suite;
@@ -273,6 +284,28 @@ OBJECT Page 18 G/L Account List
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+
+      OS001     22.10.2011    os.jgl  SITC    Currency Code can be shown
+      OS003     21.01.2015    os.jgl  SITC    Add Report 5274200 Detail Trial Balance P4TC to Page Actions
+    }
     END.
   }
 }
diff --git a/page/page_0000000020.txt b/page/page_0000000020.txt
index 8d4e085..1891492 100644
--- a/page/page_0000000020.txt
+++ b/page/page_0000000020.txt
@@ -4,12 +4,13 @@ OBJECT Page 20 General Ledger Entries
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4BB2.03,P4TC3.02;
   }
   PROPERTIES
   {
-    Editable=No;
     CaptionML=ENU=General Ledger Entries;
+    InsertAllowed=No;
+    DeleteAllowed=No;
     SourceTable=Table17;
     DataCaptionExpr=GetCaption;
     SourceTableView=SORTING(G/L Account No.,Posting Date)
@@ -20,6 +21,14 @@ OBJECT Page 20 General Ledger Entries
            END;
 
     OnOpenPage=BEGIN
+                 //PX001s px.jgl
+                 StillNotEditable := FALSE;
+                 NowEditable := FALSE;
+                 IF UserSetup.GET(USERID) THEN BEGIN
+                   IF UserSetup."Edit Dimensions in Entries" THEN
+                     NowEditable := TRUE;
+                 END;
+                 //PX001e px.jgl
                  IF GETFILTERS <> '' THEN
                    IF FINDFIRST THEN;
 
@@ -31,6 +40,13 @@ OBJECT Page 20 General Ledger Entries
                  ShowAmounts;
                END;
 
+    OnModifyRecord=BEGIN
+                     //PX001s px.jgl
+                     CODEUNIT.RUN(CODEUNIT::"G/L Entry-Edit",Rec);
+                     EXIT(FALSE);
+                     //PX001e px.jgl
+                   END;
+
     OnAfterGetCurrRecord=VAR
                            IncomingDocument@1000 : Record 130;
                          BEGIN
@@ -228,178 +244,224 @@ OBJECT Page 20 General Ledger Entries
     { 2   ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the entry's posting date.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Posting Date" }
+                SourceExpr="Posting Date";
+                Editable=StillNotEditable }
 
     { 4   ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the Document Type that the entry belongs to.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Document Type" }
+                SourceExpr="Document Type";
+                Editable=StillNotEditable }
 
     { 6   ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the entry's Document No.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Document No." }
+                SourceExpr="Document No.";
+                Editable=StillNotEditable }
 
     { 8   ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the account that the entry has been posted to.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="G/L Account No." }
+                SourceExpr="G/L Account No.";
+                Editable=StillNotEditable }
 
     { 40  ;2   ;Field     ;
                 DrillDown=No;
                 ToolTipML=ENU=Specifies the name of the account that the entry has been posted to.;
                 ApplicationArea=#Advanced;
                 SourceExpr="G/L Account Name";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 10  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies a description of the entry.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr=Description }
+                SourceExpr=Description;
+                Editable=StillNotEditable }
 
     { 26  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the related job.;
                 ApplicationArea=#Jobs;
                 SourceExpr="Job No.";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 28  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.;
                 ApplicationArea=#Suite;
                 SourceExpr="Global Dimension 1 Code";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=NowEditable }
 
     { 30  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.;
                 ApplicationArea=#Suite;
                 SourceExpr="Global Dimension 2 Code";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=NowEditable }
 
     { 51  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the code of the intercompany partner that the transaction is related to if the entry was created from an intercompany transaction.;
                 ApplicationArea=#Intercompany;
                 SourceExpr="IC Partner Code";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 12  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the type of transaction.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Gen. Posting Type" }
+                SourceExpr="Gen. Posting Type";
+                Editable=StillNotEditable }
 
     { 32  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Gen. Bus. Posting Group" }
+                SourceExpr="Gen. Bus. Posting Group";
+                Editable=StillNotEditable }
 
     { 14  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Gen. Prod. Posting Group" }
+                SourceExpr="Gen. Prod. Posting Group";
+                Editable=StillNotEditable }
 
     { 5   ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the quantity that was posted on the entry.;
                 ApplicationArea=#Advanced;
                 SourceExpr=Quantity;
-                Visible=False }
+                Visible=False;
+                Editable=StillNotEditable }
+
+    { 119451021;2;Field   ;
+                SourceExpr="Currency Code";
+                Visible=false;
+                Editable=StillNotEditable }
+
+    { 119451022;2;Field   ;
+                SourceExpr="Amount (FCY)";
+                Visible=false;
+                Editable=StillNotEditable }
 
     { 16  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the Amount of the entry.;
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr=Amount;
-                Visible=AmountVisible }
+                Visible=AmountVisible;
+                Editable=StillNotEditable }
 
     { 17  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the total of the ledger entries that represent debits.;
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr="Debit Amount";
-                Visible=DebitCreditVisible }
+                Visible=DebitCreditVisible;
+                Editable=StillNotEditable }
 
     { 19  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the total of the ledger entries that represent credits.;
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr="Credit Amount";
-                Visible=DebitCreditVisible }
+                Visible=DebitCreditVisible;
+                Editable=StillNotEditable }
 
     { 54  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the general ledger entry that is posted if you post in an additional reporting currency.;
                 ApplicationArea=#Advanced;
                 SourceExpr="Additional-Currency Amount";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
+
+    { 119451023;2;Field   ;
+                SourceExpr="VAT Amount (FCY)";
+                Visible=false;
+                Editable=StillNotEditable }
 
     { 36  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the amount of VAT that is included in the total amount.;
                 ApplicationArea=#Advanced;
                 SourceExpr="VAT Amount";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 52  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the type of account that a balancing entry is posted to, such as BANK for a cash account.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Bal. Account Type" }
+                SourceExpr="Bal. Account Type";
+                Editable=StillNotEditable }
 
     { 18  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the general ledger, customer, vendor, or bank account that the balancing entry is posted to, such as a cash account for cash purchases.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Bal. Account No." }
+                SourceExpr="Bal. Account No.";
+                Editable=StillNotEditable }
 
     { 46  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the ID of the user who posted the entry, to be used, for example, in the change log.;
                 ApplicationArea=#Advanced;
                 SourceExpr="User ID";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 42  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the source code that specifies where the entry was created.;
                 ApplicationArea=#Advanced;
                 SourceExpr="Source Code";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 44  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the reason code, a supplementary source code that enables you to trace the entry.;
                 ApplicationArea=#Advanced;
                 SourceExpr="Reason Code";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 58  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies if the entry has been part of a reverse transaction (correction) made by the Reverse function.;
                 ApplicationArea=#Advanced;
                 SourceExpr=Reversed;
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 60  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the correcting entry. If the field Specifies a number, the entry cannot be reversed again.;
                 ApplicationArea=#Advanced;
                 SourceExpr="Reversed by Entry No.";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 62  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the original entry that was undone by the reverse transaction.;
                 ApplicationArea=#Advanced;
                 SourceExpr="Reversed Entry No.";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 34  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the fixed asset entry.;
                 ApplicationArea=#Advanced;
                 SourceExpr="FA Entry Type";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 38  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the fixed asset entry.;
                 ApplicationArea=#Advanced;
                 SourceExpr="FA Entry No.";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 20  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the number of the entry, as assigned from the specified number series when the entry was created.;
                 ApplicationArea=#Basic,#Suite;
-                SourceExpr="Entry No." }
+                SourceExpr="Entry No.";
+                Editable=StillNotEditable }
 
     { 25  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies a reference to a combination of dimension values. The actual values are stored in the Dimension Set Entry table.;
                 ApplicationArea=#Suite;
                 SourceExpr="Dimension Set ID";
-                Visible=FALSE }
+                Visible=FALSE;
+                Editable=StillNotEditable }
 
     { 29  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the entry's external document number, such as a vendor's invoice number.;
@@ -421,16 +483,19 @@ OBJECT Page 20 General Ledger Entries
                 Name=IncomingDocAttachFactBox;
                 ApplicationArea=#Basic,#Suite;
                 PagePartID=Page193;
+                Editable=StillNotEditable;
                 PartType=Page;
                 ShowFilter=No }
 
     { 1900383207;1;Part   ;
                 Visible=FALSE;
+                Editable=StillNotEditable;
                 PartType=System;
                 SystemPartID=RecordLinks }
 
     { 1905767507;1;Part   ;
                 Visible=FALSE;
+                Editable=StillNotEditable;
                 PartType=System;
                 SystemPartID=Notes }
 
@@ -444,6 +509,10 @@ OBJECT Page 20 General Ledger Entries
       HasIncomingDocument@1001 : Boolean;
       AmountVisible@1004 : Boolean;
       DebitCreditVisible@1003 : Boolean;
+      "***** Plexada Variables *****"@119451021 : Integer;
+      UserSetup@119451024 : Record 91;
+      StillNotEditable@119451022 : Boolean INDATASET;
+      NowEditable@119451023 : Boolean INDATASET;
 
     LOCAL PROCEDURE GetCaption@2() : Text[250];
     BEGIN
@@ -464,6 +533,29 @@ OBJECT Page 20 General Ledger Entries
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.03             23.01.2018
+        P4TC     Plexada P/4 TransactionCurrency                     3.02             26.12.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     01.01.2011    os.jgl  SITC    show FCY Amounts
+      PX001     21.09.2017    px.jgl  P4BB    edit dimensions - special right "Edit Dimensions in Entries" in User Setup
+      PX002     26.12.2017    px.jgl  P4TC    Merge into NAV2018
+      PX002     23.01.2018    px.jgl  P4BB    Page reverted to editable list
+    }
     END.
   }
 }
diff --git a/page/page_0000000039.txt b/page/page_0000000039.txt
index 7651fb5..70f1f09 100644
--- a/page/page_0000000039.txt
+++ b/page/page_0000000039.txt
@@ -4,7 +4,7 @@ OBJECT Page 39 General Journal
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4TC3.00;
   }
   PROPERTIES
   {
@@ -861,6 +861,10 @@ OBJECT Page 39 General Journal
                              END;
                               }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Currency Factor";
+                Visible=FALSE }
+
     { 112 ;2   ;Field     ;
                 ToolTipML=ENU=Specifies whether the entry was part of a 3-party trade. If it was, there is a check mark in the field.;
                 ApplicationArea=#Basic,#Suite;
@@ -1424,6 +1428,26 @@ OBJECT Page 39 General Journal
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     29.12.2010    os.jgl  SITC    Show Currency Code, Currency Factor, Amount (LCY)
+    }
     END.
   }
 }
diff --git a/page/page_0000000116.txt b/page/page_0000000116.txt
index 85a59e6..d28dd39 100644
--- a/page/page_0000000116.txt
+++ b/page/page_0000000116.txt
@@ -4,7 +4,7 @@ OBJECT Page 116 G/L Registers
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -123,6 +123,13 @@ OBJECT Page 116 G/L Registers
                       Promoted=Yes;
                       Image=Report;
                       PromotedCategory=Report }
+      { 119451022;1  ;Action    ;
+                      Name=<Report Detail Trial Balance P4TC>;
+                      CaptionML=ENU=Detail Trial Balance with currency;
+                      RunObject=Report 5274200;
+                      Promoted=Yes;
+                      Image=Report;
+                      PromotedCategory=Report }
       { 1904082706;1 ;Action    ;
                       CaptionML=ENU=Trial Balance;
                       ToolTipML=ENU=Print or save the chart of accounts that have balances and net changes.;
@@ -226,6 +233,26 @@ OBJECT Page 116 G/L Registers
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     21.01.2015    os.jgl  SITC    add Report 5274200 Detail Trial Balance P4TC to Page Actions
+    }
     END.
   }
 }
diff --git a/page/page_0000000118.txt b/page/page_0000000118.txt
index 5e01262..2877c08 100644
--- a/page/page_0000000118.txt
+++ b/page/page_0000000118.txt
@@ -4,7 +4,7 @@ OBJECT Page 118 General Ledger Setup
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4TC3.01;
   }
   PROPERTIES
   {
@@ -381,6 +381,9 @@ OBJECT Page 118 General Ledger Setup
                 SourceExpr="Show Amounts";
                 Importance=Additional }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Allow Deferrals with FCY" }
+
     { 1900309501;1;Group  ;
                 CaptionML=ENU=Dimensions }
 
@@ -571,6 +574,33 @@ OBJECT Page 118 General Ledger Setup
       Text003@1001 : TextConst 'ENU=If you change the additional reporting currency, future general ledger entries are posted in the new reporting currency and in LCY. To enable the additional reporting currency, a batch job opens, and running the batch job recalculates already posted general ledger entries in the new additional reporting currency.\Entries will be deleted in the Analysis View if it is unblocked, and an update will be necessary.\\Are you sure that you want to change the additional reporting currency?';
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             06.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Jîrg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     06.10.2017    px.jgl  P4TC    New flag: allow deferrals with foreign currency
+                                              P4TC initially disables them, as deferrals in currency have a currency and exchange rate
+                                              now. The amortizations are usually posted into the future, where the exchange rate is
+                                              different, naturally. To make the amortizations "correct" they need to be adjusted for
+                                              exchange rate. You can do this with P4TC (make deferral accounts adjustable),
+                                              but not per entry. For this you need open item functionality on g/l entries.
+                                              To avoid postings that introduce this even more complex process without being aware of it,
+                                              they are disabled by default.
+    }
     END.
   }
 }
diff --git a/page/page_0000000119.txt b/page/page_0000000119.txt
index 29e9b58..48434e0 100644
--- a/page/page_0000000119.txt
+++ b/page/page_0000000119.txt
@@ -4,7 +4,7 @@ OBJECT Page 119 User Setup
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.02;
   }
   PROPERTIES
   {
@@ -75,6 +75,10 @@ OBJECT Page 119 User Setup
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr="E-Mail" }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Edit Dimensions in Entries";
+                Visible=false }
+
     { 1900000007;0;Container;
                 ContainerType=FactBoxArea }
 
@@ -93,6 +97,25 @@ OBJECT Page 119 User Setup
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.02             21.09.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     21.09.2017    px.jgl  P4BB    new flag: Edit dimensions in entries, not visible by default
+    }
     END.
   }
 }
diff --git a/page/page_0000000179.txt b/page/page_0000000179.txt
index aff93ec..8b4ac9d 100644
--- a/page/page_0000000179.txt
+++ b/page/page_0000000179.txt
@@ -4,7 +4,7 @@ OBJECT Page 179 Reverse Entries
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -291,6 +291,11 @@ OBJECT Page 179 Reverse Entries
                 Visible=FALSE;
                 Editable=FALSE }
 
+    { 119451021;2;Field   ;
+                SourceExpr="VAT Amount (FCY)";
+                Visible=FALSE;
+                Editable=FALSE }
+
     { 59  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the posting category that is used for fixed assets.;
                 ApplicationArea=#Basic,#Suite;
@@ -379,6 +384,26 @@ OBJECT Page 179 Reverse Entries
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     04.03.2011    os.jgl  SITC    additional field VAT Amount (FCY) optionally visible
+    }
     END.
   }
 }
diff --git a/page/page_0000000251.txt b/page/page_0000000251.txt
index 3d2a3ee..5be1c7b 100644
--- a/page/page_0000000251.txt
+++ b/page/page_0000000251.txt
@@ -4,7 +4,7 @@ OBJECT Page 251 General Journal Batches
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.01;
   }
   PROPERTIES
   {
@@ -96,6 +96,14 @@ OBJECT Page 251 General Journal Batches
                       Image=Journal;
                       PromotedCategory=Process;
                       PromotedOnly=Yes }
+      { 24      ;2   ;Action    ;
+                      CaptionML=ENU=Close Income Statement;
+                      RunObject=Report 5274202;
+                      Promoted=Yes;
+                      PromotedIsBig=Yes;
+                      Image=CloseYear;
+                      PromotedCategory=Process;
+                      PromotedOnly=Yes }
       { 9       ;2   ;Action    ;
                       CaptionML=ENU=G/L Register;
                       ToolTipML=ENU=View posted G/L entries.;
@@ -113,6 +121,14 @@ OBJECT Page 251 General Journal Batches
                       Image=Report;
                       PromotedCategory=Report;
                       PromotedOnly=Yes }
+      { 119451022;1  ;Action    ;
+                      Name=<Report Detail Trial Balance SITC>;
+                      CaptionML=ENU=Detail Trial Balance with currency;
+                      RunObject=Report 5274200;
+                      Promoted=Yes;
+                      Image=Report;
+                      PromotedCategory=Report;
+                      PromotedOnly=Yes }
       { 14      ;1   ;Action    ;
                       CaptionML=ENU=Trial Balance;
                       ToolTipML=ENU=View general ledger account balances and activities.;
@@ -250,6 +266,28 @@ OBJECT Page 251 General Journal Batches
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     21.01.2015    os.jgl  SITC    Link to SITC version of Close Income Statement
+                                              Add Report 5274200 Detail Trial Balance SITC to Page Actions
+      PX002     06.08.2017    px.jgl  P4TC    Integrate into NAV2017
+    }
     END.
   }
 }
diff --git a/page/page_0000000253.txt b/page/page_0000000253.txt
index 9d38075..01de352 100644
--- a/page/page_0000000253.txt
+++ b/page/page_0000000253.txt
@@ -4,7 +4,7 @@ OBJECT Page 253 Sales Journal
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -353,6 +353,10 @@ OBJECT Page 253 Sales Journal
                              END;
                               }
 
+    { 119451023;2;Field   ;
+                SourceExpr="Currency Factor";
+                Visible=FALSE }
+
     { 14  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the type of transaction.;
                 ApplicationArea=#Basic,#Suite;
@@ -797,6 +801,26 @@ OBJECT Page 253 Sales Journal
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     11.08.2012    os.jgl  SITC    Show Currency Code, Currency Factor, Amount (LCY)
+    }
     END.
   }
 }
diff --git a/page/page_0000000254.txt b/page/page_0000000254.txt
index 516f8a8..de22ed1 100644
--- a/page/page_0000000254.txt
+++ b/page/page_0000000254.txt
@@ -4,7 +4,7 @@ OBJECT Page 254 Purchase Journal
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -399,6 +399,10 @@ OBJECT Page 254 Purchase Journal
                              END;
                               }
 
+    { 119451023;2;Field   ;
+                SourceExpr="Currency Factor";
+                Visible=FALSE }
+
     { 14  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the type of transaction.;
                 ApplicationArea=#Basic,#Suite;
@@ -830,6 +834,27 @@ OBJECT Page 254 Purchase Journal
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+
+      OS001     11.08.2012    os.jgl  SITC    Show Currency Code, Currency Factor, Amount (LCY)
+    }
     END.
   }
 }
diff --git a/page/page_0000000255.txt b/page/page_0000000255.txt
index 58b8ec7..7518880 100644
--- a/page/page_0000000255.txt
+++ b/page/page_0000000255.txt
@@ -4,7 +4,7 @@ OBJECT Page 255 Cash Receipt Journal
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -544,6 +544,10 @@ OBJECT Page 255 Cash Receipt Journal
                              END;
                               }
 
+    { 119451023;2;Field   ;
+                SourceExpr="Currency Factor";
+                Visible=FALSE }
+
     { 63  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the type of transaction.;
                 ApplicationArea=#Advanced;
@@ -1039,6 +1043,26 @@ OBJECT Page 255 Cash Receipt Journal
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     11.08.2012    os.jgl  SITC    Show Currency Code, Currency Factor, Amount (LCY)
+    }
     END.
   }
 }
diff --git a/page/page_0000000256.txt b/page/page_0000000256.txt
index c81dd16..c003cd7 100644
--- a/page/page_0000000256.txt
+++ b/page/page_0000000256.txt
@@ -4,7 +4,7 @@ OBJECT Page 256 Payment Journal
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4TC3.00;
   }
   PROPERTIES
   {
@@ -840,6 +840,10 @@ OBJECT Page 256 Payment Journal
                              END;
                               }
 
+    { 119451023;2;Field   ;
+                SourceExpr="Currency Factor";
+                Visible=FALSE }
+
     { 77  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the type of transaction.;
                 ApplicationArea=#Advanced;
@@ -1438,6 +1442,26 @@ OBJECT Page 256 Payment Journal
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     18.08.2012    os.jgl  SITC    Show Currency Code, Currency Factor, Amount (LCY)
+    }
     END.
   }
 }
diff --git a/page/page_0000000279.txt b/page/page_0000000279.txt
index 25364b8..f3d820d 100644
--- a/page/page_0000000279.txt
+++ b/page/page_0000000279.txt
@@ -4,7 +4,7 @@ OBJECT Page 279 Source Code Setup
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -40,6 +40,9 @@ OBJECT Page 279 Source Code Setup
                 ApplicationArea=#Intercompany;
                 SourceExpr="IC General Journal" }
 
+    { 119451021;2;Field   ;
+                SourceExpr="System Journal" }
+
     { 4   ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the code linked to entries that are posted when you run the Close Income Statement batch job.;
                 ApplicationArea=#Basic,#Suite;
@@ -437,6 +440,27 @@ OBJECT Page 279 Source Code Setup
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     11.03.2011    os.jgl  SIBB    added field for system journal
+    }
     END.
   }
 }
diff --git a/page/page_0000000283.txt b/page/page_0000000283.txt
index c5325bf..c2a5494 100644
--- a/page/page_0000000283.txt
+++ b/page/page_0000000283.txt
@@ -4,7 +4,7 @@ OBJECT Page 283 Recurring General Journal
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -286,6 +286,10 @@ OBJECT Page 283 Recurring General Journal
                              END;
                               }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Currency Factor";
+                Visible=FALSE }
+
     { 18  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the type of transaction.;
                 ApplicationArea=#Suite;
@@ -620,6 +624,28 @@ OBJECT Page 283 Recurring General Journal
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+
+      OS001     20.09.2012    os.jgl  SITC    Show Currency Code, Currency Factor, Amount (LCY)
+    }
     END.
   }
 }
diff --git a/page/page_0000000315.txt b/page/page_0000000315.txt
index ddede9d..901e322 100644
--- a/page/page_0000000315.txt
+++ b/page/page_0000000315.txt
@@ -4,7 +4,7 @@ OBJECT Page 315 VAT Entries
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -157,11 +157,23 @@ OBJECT Page 315 VAT Entries
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr=Type }
 
+    { 119451121;2;Field   ;
+                SourceExpr="Currency Code";
+                Visible=false }
+
+    { 119451122;2;Field   ;
+                SourceExpr="Base (FCY)";
+                Visible=false }
+
     { 16  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the amount that the VAT amount (the amount shown in the Amount field) is calculated from.;
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr=Base }
 
+    { 119451123;2;Field   ;
+                SourceExpr="Amount (FCY)";
+                Visible=false }
+
     { 18  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the amount of the VAT entry in LCY.;
                 ApplicationArea=#Basic,#Suite;
@@ -286,6 +298,14 @@ OBJECT Page 315 VAT Entries
                 SourceExpr="EU Service";
                 Visible=FALSE }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Transaction No.";
+                Visible=false }
+
+    { 119451022;2;Field   ;
+                SourceExpr="Application Transaction No.";
+                Visible=false }
+
     { 1900000007;0;Container;
                 ContainerType=FactBoxArea }
 
@@ -315,6 +335,30 @@ OBJECT Page 315 VAT Entries
       IsUnrealizedVATEnabled@1002 : Boolean;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     01.01.2011    os.jgl  SITC    show FCY fileds
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              New Field showable: Application Transaction No.
+                                              Field showable: Transaction No.
+    }
     END.
   }
 }
diff --git a/page/page_0000000317.txt b/page/page_0000000317.txt
index 3292fd3..ee9af70 100644
--- a/page/page_0000000317.txt
+++ b/page/page_0000000317.txt
@@ -4,7 +4,7 @@ OBJECT Page 317 VAT Statement
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.01;
   }
   PROPERTIES
   {
@@ -82,10 +82,28 @@ OBJECT Page 317 VAT Statement
                       CaptionML=ENU=Calc. and Post VAT Settlement;
                       ToolTipML=ENU=Close open Tax entries and transfers purchase and sales Tax amounts to the Tax settlement account.;
                       ApplicationArea=#Basic,#Suite;
-                      RunObject=Report 20;
+                      RunObject=Report 5274204;
                       Promoted=Yes;
                       Image=SettleOpenTransactions;
                       PromotedCategory=Process }
+      { 1140000 ;2   ;Action    ;
+                      Name=SalesVATAdvNotAccProof;
+                      Ellipsis=Yes;
+                      CaptionML=ENU=Sales VAT Adv. Not. Acc. Proof;
+                      ApplicationArea=#Basic,#Suite;
+                      Promoted=Yes;
+                      Image=Report;
+                      PromotedCategory=Report;
+                      OnAction=BEGIN
+                                 //PX002s px.jgl
+                                 VATStmtName.SETFILTER(Name,CurrentStmtName);
+                                 VATStmtName.SETFILTER("Statement Template Name","Statement Template Name");
+                                 VATStmtName.FINDFIRST;
+                                 VATStmtName.SETRECFILTER;
+                                 REPORT.RUN(REPORT::SalesVATAdvNotifAccProofP4TC,TRUE,FALSE,VATStmtName);
+                                 //PX002e px.jgl
+                               END;
+                                }
     }
   }
   CONTROLS
@@ -213,6 +231,8 @@ OBJECT Page 317 VAT Statement
       VATStmtManagement@1001 : Codeunit 340;
       CurrentStmtName@1002 : Code[10];
       OpenedFromBatch@1003 : Boolean;
+      "***** Plexada Variables *****"@119451021 : Integer;
+      VATStmtName@119451022 : Record 257;
 
     LOCAL PROCEDURE CurrentStmtNameOnAfterValidate@19076269();
     BEGIN
@@ -222,6 +242,30 @@ OBJECT Page 317 VAT Statement
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             05.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        si.jw    Joerg Winner
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      SI001     05.06.2011    si.jw   SITC    change Page Actions: Calc. and Post VAT Settlement
+                                              Old RunObject: Report Calc. and Post VAT Settlement
+                                              New RunObject: Report Calc&Post VAT Settlement SITC
+      PX002     05.10.2017    px.jgl  P4TC    change Page Action: Sales VAT Adv. Not. Acc. Proof
+                                              direct link to Report::SalesVATAdvNotifAccProofP4TC
+    }
     END.
   }
 }
diff --git a/page/page_0000000370.txt b/page/page_0000000370.txt
index 1f2bf65..4874a49 100644
--- a/page/page_0000000370.txt
+++ b/page/page_0000000370.txt
@@ -4,7 +4,7 @@ OBJECT Page 370 Bank Account Card
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -507,6 +507,9 @@ OBJECT Page 370 Bank Account Card
                 SourceExpr="Currency Code";
                 Importance=Promoted }
 
+    { 119451021;2;Field   ;
+                SourceExpr="FCY Exchange Rate Adjustment" }
+
     { 48  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the check number of the last check issued from the bank account.;
                 ApplicationArea=#Basic,#Suite;
@@ -636,6 +639,26 @@ OBJECT Page 370 Bank Account Card
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     22.01.2011    os.jgl  SITC    additional field "FCY Exchange rate Adjustment"
+    }
     END.
   }
 }
diff --git a/page/page_0000000371.txt b/page/page_0000000371.txt
index cfd30a4..bc0a554 100644
--- a/page/page_0000000371.txt
+++ b/page/page_0000000371.txt
@@ -4,7 +4,7 @@ OBJECT Page 371 Bank Account List
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -386,6 +386,10 @@ OBJECT Page 371 Bank Account List
                 SourceExpr="Currency Code";
                 Visible=FALSE }
 
+    { 119451021;2;Field   ;
+                SourceExpr="FCY Exchange Rate Adjustment";
+                Visible=FALSE }
+
     { 103 ;2   ;Field     ;
                 ToolTipML=ENU=Specifies the language that is used when translating specified text on documents to foreign business partner, such as an item description on an order confirmation.;
                 ApplicationArea=#Basic,#Suite;
@@ -438,6 +442,27 @@ OBJECT Page 371 Bank Account List
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+
+      OS001     02.02.2014    os.jgl  SITC    additional field "FCY Exchange rate Adjustment"
+    }
     END.
   }
 }
diff --git a/page/page_0000000472.txt b/page/page_0000000472.txt
index 81c6e85..151d77f 100644
--- a/page/page_0000000472.txt
+++ b/page/page_0000000472.txt
@@ -4,7 +4,7 @@ OBJECT Page 472 VAT Posting Setup
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4BB2.00;
   }
   PROPERTIES
   {
@@ -98,6 +98,10 @@ OBJECT Page 472 VAT Posting Setup
                 SourceExpr="Unrealized VAT Type";
                 Visible=UnrealizedVATVisible }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Prepayment Unrealized VAT only";
+                Visible=FALSE }
+
     { 40  ;2   ;Field     ;
                 ToolTipML=ENU=Specifies whether to recalculate VAT amounts when you post payments that trigger payment discounts.;
                 ApplicationArea=#Advanced;
@@ -187,6 +191,36 @@ OBJECT Page 472 VAT Posting Setup
       AdjustForPmtDiscVisible@1002 : Boolean;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     16.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              zusÑtzliches Feld zur KlÑrung der unrealisierten MwSt:
+                                                Einrichtung der unrealisierten MwSt. prÑzisieren auf "nur Vorauszahlung unrealisierte
+                                                MwSt."
+                                              Hintergrund: Wenn man Vorauszahlungen verwendet, mÅssen diese (zumindestens in DE) als
+                                              unrealisierte MwSt. gebucht werden, mit den Buchungsgruppen die auch sonst benutzt werden.
+                                              DafÅr gibt es in der Fibu Einrichtung den Haken "Vorauszahlung unrealisierte MwSt.". Dieser
+                                              beisst sich aber mit der Einrichtung "unrealisierte MwSt.", beides zusammen ist nicht
+                                              vorgesehen. Will man jetzt aber normale unrealisierte MwSt. und Vorauszahlungen verwenden,
+                                              braucht man ein Unterscheidungsmerkmal, welche der MwSt. Einrichtungen normale MwSt. sind,
+                                              muss man diese zusÑtzlich kennzeichnen - wird hier gelîst durch Kennzeichnung "nur
+                                              Vorauszahlung unrealisierte MwSt.". Damit ist die Unterscheidung jederzeit mîglich.
+    }
     END.
   }
 }
diff --git a/page/page_0000000473.txt b/page/page_0000000473.txt
index 3be8296..8060ed1 100644
--- a/page/page_0000000473.txt
+++ b/page/page_0000000473.txt
@@ -4,7 +4,7 @@ OBJECT Page 473 VAT Posting Setup Card
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4BB2.00;
   }
   PROPERTIES
   {
@@ -92,6 +92,9 @@ OBJECT Page 473 VAT Posting Setup Card
                 SourceExpr="Unrealized VAT Type";
                 Visible=UnrealizedVATVisible }
 
+    { 119451023;2;Field   ;
+                SourceExpr="Prepayment Unrealized VAT only" }
+
     { 9   ;2   ;Field     ;
                 ToolTipML=ENU=Specifies a code to group various VAT posting setups with similar attributes, for example VAT percentage.;
                 ApplicationArea=#Basic,#Suite;
@@ -193,6 +196,36 @@ OBJECT Page 473 VAT Posting Setup Card
       AdjustForPmtDiscVisible@1002 : Boolean;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     06.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              zusÑtzliches Feld zur KlÑrung der unrealisierten MwSt:
+                                                Einrichtung der unrealisierten MwSt. prÑzisieren auf "nur Vorauszahlung unrealisierte
+                                                MwSt."
+                                              Hintergrund: Wenn man Vorauszahlungen verwendet, mÅssen diese (zumindestens in DE) als
+                                              unrealisierte MwSt. gebucht werden, mit den Buchungsgruppen die auch sonst benutzt werden.
+                                              DafÅr gibt es in der Fibu Einrichtung den Haken "Vorauszahlung unrealisierte MwSt.". Dieser
+                                              beisst sich aber mit der Einrichtung "unrealisierte MwSt.", beides zusammen ist nicht
+                                              vorgesehen. Will man jetzt aber normale unrealisierte MwSt. und Vorauszahlungen verwenden,
+                                              braucht man ein Unterscheidungsmerkmal, welche der MwSt. Einrichtungen normale MwSt. sind,
+                                              muss man diese zusÑtzlich kennzeichnen - wird hier gelîst durch Kennzeichnung "nur
+                                              Vorauszahlung unrealisierte MwSt.". Damit ist die Unterscheidung jederzeit mîglich.
+    }
     END.
   }
 }
diff --git a/page/page_0000000489.txt b/page/page_0000000489.txt
index 5da4513..6ab6cf4 100644
--- a/page/page_0000000489.txt
+++ b/page/page_0000000489.txt
@@ -4,7 +4,7 @@ OBJECT Page 489 Column Layout
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -187,6 +187,10 @@ OBJECT Page 489 Column Layout
                          END;
                           }
 
+    { 119451061;2;Field   ;
+                SourceExpr="Currency Totaling";
+                Visible=false }
+
     { 1900000007;0;Container;
                 ContainerType=FactBoxArea }
 
@@ -222,6 +226,27 @@ OBJECT Page 489 Column Layout
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+
+      OS001     25.02.2013    os.jgl  SITC    DEV-32: Added field "Currency Totaling"
+    }
     END.
   }
 }
diff --git a/page/page_0000000573.txt b/page/page_0000000573.txt
index 0f586b6..487b960 100644
--- a/page/page_0000000573.txt
+++ b/page/page_0000000573.txt
@@ -4,7 +4,7 @@ OBJECT Page 573 Detailed Cust. Ledg. Entries
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4BB2.00;
   }
   PROPERTIES
   {
@@ -187,6 +187,10 @@ OBJECT Page 573 Detailed Cust. Ledg. Entries
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr="Entry No." }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Application Transaction No.";
+                Visible=false }
+
     { 1900000007;0;Container;
                 ContainerType=FactBoxArea }
 
@@ -218,6 +222,27 @@ OBJECT Page 573 Detailed Cust. Ledg. Entries
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              New Field showable: Application Transaction No.
+    }
     END.
   }
 }
diff --git a/page/page_0000000574.txt b/page/page_0000000574.txt
index d6f4a38..7f29b36 100644
--- a/page/page_0000000574.txt
+++ b/page/page_0000000574.txt
@@ -4,7 +4,7 @@ OBJECT Page 574 Detailed Vendor Ledg. Entries
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4BB2.00;
   }
   PROPERTIES
   {
@@ -188,6 +188,10 @@ OBJECT Page 574 Detailed Vendor Ledg. Entries
                 ApplicationArea=#Basic,#Suite;
                 SourceExpr="Entry No." }
 
+    { 119451021;2;Field   ;
+                SourceExpr="Application Transaction No.";
+                Visible=false }
+
     { 1900000007;0;Container;
                 ContainerType=FactBoxArea }
 
@@ -219,6 +223,27 @@ OBJECT Page 574 Detailed Vendor Ledg. Entries
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              New Field showable: Application Transaction No.
+    }
     END.
   }
 }
diff --git a/page/page_0000009001.txt b/page/page_0000009001.txt
index 06305f6..8689780 100644
--- a/page/page_0000009001.txt
+++ b/page/page_0000009001.txt
@@ -4,7 +4,7 @@ OBJECT Page 9001 Accounting Manager Role Center
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -114,6 +114,10 @@ OBJECT Page 9001 Accounting Manager Role Center
                       ApplicationArea=#Advanced;
                       RunObject=Report 12;
                       Image=Report }
+      { 119451021;1  ;Action    ;
+                      CaptionML=ENU=Sales VAT Adv. Not. Acc;
+                      RunObject=Report 5274201;
+                      Image=Report }
       { 57      ;1   ;Action    ;
                       CaptionML=ENU=VAT - VIES Declaration Tax Aut&h;
                       ToolTipML=ENU=View information to the customs and tax authorities for sales to other EU countries/regions. If the information must be printed to a file, you can use the VAT- VIES Declaration Disk report.;
@@ -602,7 +606,7 @@ OBJECT Page 9001 Accounting Manager Role Center
                       CaptionML=ENU=Adjust E&xchange Rates;
                       ToolTipML=ENU=Adjust general ledger, customer, vendor, and bank account entries to reflect a more updated balance if the exchange rate has changed since the entries were posted.;
                       ApplicationArea=#Advanced;
-                      RunObject=Report 595;
+                      RunObject=Report 5274203;
                       Image=AdjustExchangeRates }
       { 72      ;1   ;Action    ;
                       CaptionML=ENU=P&ost Inventory Cost to G/L;
@@ -636,7 +640,7 @@ OBJECT Page 9001 Accounting Manager Role Center
                       CaptionML=ENU=Calc. and Pos&t VAT Settlement;
                       ToolTipML=ENU=Close open VAT entries and transfers purchase and sales VAT amounts to the VAT settlement account. For every VAT posting group, the batch job finds all the VAT entries in the VAT Entry table that are included in the filters in the definition window.;
                       ApplicationArea=#Advanced;
-                      RunObject=Report 20;
+                      RunObject=Report 5274204;
                       Image=SettleOpenTransactions }
       { 80      ;1   ;Separator ;
                       CaptionML=ENU=Administration;
@@ -755,6 +759,25 @@ OBJECT Page 9001 Accounting Manager Role Center
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     31.01.2014    os.jgl  SITC    Change report calls to SITC reports
+    }
     END.
   }
 }
diff --git a/page/page_0000009004.txt b/page/page_0000009004.txt
index f03bc38..4187568 100644
--- a/page/page_0000009004.txt
+++ b/page/page_0000009004.txt
@@ -4,7 +4,7 @@ OBJECT Page 9004 Bookkeeper Role Center
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -104,6 +104,10 @@ OBJECT Page 9004 Bookkeeper Role Center
                       ApplicationArea=#Advanced;
                       RunObject=Report 12;
                       Image=Report }
+      { 119451021;1  ;Action    ;
+                      CaptionML=ENU=Sales VAT Adv. Not. Acc;
+                      RunObject=Report 5274201;
+                      Image=Report }
       { 57      ;1   ;Action    ;
                       CaptionML=ENU=VAT - VI&ES Declaration Tax Auth;
                       ToolTipML=ENU=View information to the customs and tax authorities for sales to other EU countries/regions. If the information must be printed to a file, you can use the VAT- VIES Declaration Disk report.;
@@ -462,7 +466,7 @@ OBJECT Page 9004 Bookkeeper Role Center
                       CaptionML=ENU=Adjust E&xchange Rates;
                       ToolTipML=ENU=Adjust general ledger, customer, vendor, and bank account entries to reflect a more updated balance if the exchange rate has changed since the entries were posted.;
                       ApplicationArea=#Advanced;
-                      RunObject=Report 595;
+                      RunObject=Report 5274203;
                       Image=AdjustExchangeRates }
       { 112     ;1   ;Action    ;
                       Ellipsis=Yes;
@@ -476,7 +480,7 @@ OBJECT Page 9004 Bookkeeper Role Center
                       CaptionML=ENU=Calc. and Pos&t VAT Settlement;
                       ToolTipML=ENU=Close open VAT entries and transfers purchase and sales VAT amounts to the VAT settlement account. For every VAT posting group, the batch job finds all the VAT entries in the VAT Entry table that are included in the filters in the definition window.;
                       ApplicationArea=#Advanced;
-                      RunObject=Report 20;
+                      RunObject=Report 5274204;
                       Image=SettleOpenTransactions }
       { 84      ;1   ;Separator ;
                       CaptionML=ENU=Administration;
@@ -549,6 +553,25 @@ OBJECT Page 9004 Bookkeeper Role Center
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     31.01.2014    os.jgl  SITC    Change report calls to SITC reports
+    }
     END.
   }
 }
diff --git a/page/page_0000009020.txt b/page/page_0000009020.txt
index 264d294..ff5c72b 100644
--- a/page/page_0000009020.txt
+++ b/page/page_0000009020.txt
@@ -4,7 +4,7 @@ OBJECT Page 9020 Small Business Owner RC
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -117,6 +117,10 @@ OBJECT Page 9020 Small Business Owner RC
                       ApplicationArea=#Advanced;
                       RunObject=Report 12;
                       Image=Report }
+      { 119451021;1  ;Action    ;
+                      CaptionML=ENU=Sales VAT Adv. Not. Acc. Proof;
+                      RunObject=Report 5274201;
+                      Image=Report }
       { 57      ;1   ;Action    ;
                       CaptionML=ENU=VAT-VIES Declaration Tax A&uth;
                       ToolTipML=ENU=View information to the customs and tax authorities for sales to other EU countries/regions. If the information must be printed to a file, you can use the VAT- VIES Declaration Disk report.;
@@ -622,7 +626,7 @@ OBJECT Page 9020 Small Business Owner RC
                       CaptionML=ENU=Adjust E&xchange Rates;
                       ToolTipML=ENU=Adjust general ledger, customer, vendor, and bank account entries to reflect a more updated balance if the exchange rate has changed since the entries were posted.;
                       ApplicationArea=#Advanced;
-                      RunObject=Report 595;
+                      RunObject=Report 5274203;
                       Image=AdjustExchangeRates }
       { 45      ;1   ;Action    ;
                       CaptionML=ENU=Adjust &Item Costs/Prices;
@@ -648,7 +652,7 @@ OBJECT Page 9020 Small Business Owner RC
                       CaptionML=ENU=Calc. and Post VAT Settlem&ent;
                       ToolTipML=ENU=Close open VAT entries and transfers purchase and sales VAT amounts to the VAT settlement account. For every VAT posting group, the batch job finds all the VAT entries in the VAT Entry table that are included in the filters in the definition window.;
                       ApplicationArea=#Advanced;
-                      RunObject=Report 20;
+                      RunObject=Report 5274204;
                       Image=SettleOpenTransactions }
       { 31      ;1   ;Separator ;
                       CaptionML=ENU=Administration;
@@ -762,6 +766,25 @@ OBJECT Page 9020 Small Business Owner RC
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     21.01.2015    os.jgl  SITC    Change report calls to SITC reports
+    }
     END.
   }
 }
diff --git a/page/page_0000009025.txt b/page/page_0000009025.txt
index 599b134..9767e15 100644
--- a/page/page_0000009025.txt
+++ b/page/page_0000009025.txt
@@ -4,7 +4,7 @@ OBJECT Page 9025 Small Business Report Catalog
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -110,6 +110,15 @@ OBJECT Page 9025 Small Business Report Catalog
                                              SmallBusinessReportCatalogCU.RunDetailTrialBalanceReport(FALSE);
                                            END;
                                             }
+                  { 119451021;   ;Action    ;
+                                  Name=Detail Trial Balance with currency;
+                                  CaptionML=ENU=Detail Trial Balance with currency;
+                                  OnAction=BEGIN
+                                             //OS001s os.jgl
+                                             SmallBusinessReportCatalogCU.RunDetailTrialBalanceSITCReport(FALSE);
+                                             //OS001e os.jgl
+                                           END;
+                                            }
                 }
                  }
 
@@ -120,6 +129,25 @@ OBJECT Page 9025 Small Business Report Catalog
       SmallBusinessReportCatalogCU@1000 : Codeunit 9025;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     21.01.2015    os.jgl  SITC    add Report 5274200 Detail Trial Balance SITC to Page Actions
+    }
     END.
   }
 }
diff --git a/page/page_0005274104.txt b/page/page_0005274104.txt
new file mode 100644
index 0000000..2a3fea3
--- /dev/null
+++ b/page/page_0005274104.txt
@@ -0,0 +1,702 @@
+OBJECT Page 5274104 System Journal
+{
+  OBJECT-PROPERTIES
+  {
+    Date=03.08.18;
+    Time=12:00:00;
+    Version List=P4BB2.00,P4TC3.02;
+  }
+  PROPERTIES
+  {
+    CaptionML=ENU=System Journal;
+    SaveValues=Yes;
+    SourceTable=Table81;
+    DataCaptionExpr=DataCaption;
+    DelayedInsert=Yes;
+    PageType=Worksheet;
+    AutoSplitKey=Yes;
+    OnInit=BEGIN
+             TotalBalanceVisible := TRUE;
+             BalanceVisible := TRUE;
+             AmountVisible := TRUE;
+           END;
+
+    OnOpenPage=VAR
+                 JnlSelected@1000 : Boolean;
+               BEGIN
+                 BalAccName := '';
+                 ShowAmounts;
+                 IF IsOpenedFromBatch THEN BEGIN
+                   CurrentJnlBatchName := "Journal Batch Name";
+                   GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);
+                   EXIT;
+                 END;
+                 GenJnlManagement.TemplateSelection(PAGE::"System Journal",20,FALSE,Rec,JnlSelected);
+                 IF NOT JnlSelected THEN
+                   ERROR('');
+                 GenJnlManagement.OpenJnl(CurrentJnlBatchName,Rec);
+               END;
+
+    OnAfterGetRecord=BEGIN
+                       ShowShortcutDimCode(ShortcutDimCode);
+                       SetUserInteractions;
+                     END;
+
+    OnNewRecord=BEGIN
+                  UpdateBalance;
+                  SetUpNewLine(xRec,Balance,BelowxRec);
+                  CLEAR(ShortcutDimCode);
+                  CLEAR(AccName);
+                  SetUserInteractions;
+                END;
+
+    OnModifyRecord=BEGIN
+                     SetUserInteractions;
+                   END;
+
+    OnAfterGetCurrRecord=BEGIN
+                           GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
+                           UpdateBalance;
+                         END;
+
+    ActionList=ACTIONS
+    {
+      { 1900000003;0 ;ActionContainer;
+                      ActionContainerType=RelatedInformation }
+      { 75      ;1   ;ActionGroup;
+                      CaptionML=ENU=&Line;
+                      Image=Line }
+      { 76      ;2   ;Action    ;
+                      Name=Dimensions;
+                      AccessByPermission=TableData 348=R;
+                      ShortCutKey=Shift+Ctrl+D;
+                      CaptionML=ENU=Dimensions;
+                      ToolTipML=ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
+                      ApplicationArea=#Suite;
+                      Promoted=Yes;
+                      Image=Dimensions;
+                      PromotedCategory=Process;
+                      OnAction=BEGIN
+                                 ShowDimensions;
+                                 CurrPage.SAVERECORD;
+                               END;
+                                }
+      { 43      ;1   ;ActionGroup;
+                      CaptionML=ENU=A&ccount;
+                      Image=ChartOfAccounts }
+      { 44      ;2   ;Action    ;
+                      ShortCutKey=Shift+F7;
+                      CaptionML=ENU=Card;
+                      ToolTipML=ENU=View or change detailed information about the record on the document or journal line.;
+                      ApplicationArea=#Basic,#Suite;
+                      RunObject=Codeunit 15;
+                      Image=EditLines }
+      { 45      ;2   ;Action    ;
+                      ShortCutKey=Ctrl+F7;
+                      CaptionML=ENU=Ledger E&ntries;
+                      ToolTipML=ENU=View the history of transactions that have been posted for the selected record.;
+                      ApplicationArea=#Basic,#Suite;
+                      RunObject=Codeunit 14;
+                      Promoted=No;
+                      Image=GLRegisters;
+                      PromotedCategory=Process }
+      { 1900000004;0 ;ActionContainer;
+                      ActionContainerType=ActionItems }
+      { 46      ;1   ;ActionGroup;
+                      CaptionML=ENU=F&unctions;
+                      Image=Action }
+      { 92      ;2   ;Action    ;
+                      CaptionML=ENU=Insert Conv. LCY Rndg. Lines;
+                      ToolTipML=ENU=Insert a rounding correction line in the journal. This rounding correction line will balance in LCY when amounts in the foreign currency also balance. You can then post the journal.;
+                      ApplicationArea=#Basic,#Suite;
+                      RunObject=Codeunit 407;
+                      Image=InsertCurrency }
+      { 107     ;2   ;Separator ;
+                      CaptionML=ENU=- }
+      { 47      ;1   ;ActionGroup;
+                      CaptionML=ENU=P&osting;
+                      Image=Post }
+      { 49      ;2   ;Action    ;
+                      Ellipsis=Yes;
+                      CaptionML=ENU=Test Report;
+                      ToolTipML=ENU=View a test report so that you can find and correct any errors before you perform the actual posting of the journal or document.;
+                      ApplicationArea=#Basic,#Suite;
+                      Image=TestReport;
+                      OnAction=BEGIN
+                                 ReportPrint.PrintGenJnlLine(Rec);
+                               END;
+                                }
+      { 50      ;2   ;Action    ;
+                      Name=Post;
+                      ShortCutKey=F9;
+                      CaptionML=ENU=P&ost;
+                      ToolTipML=ENU=Finalize the document or journal by posting the amounts and quantities to the related accounts in your company books.;
+                      ApplicationArea=#Basic,#Suite;
+                      Promoted=Yes;
+                      PromotedIsBig=Yes;
+                      Image=PostOrder;
+                      PromotedCategory=Process;
+                      OnAction=BEGIN
+                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post",Rec);
+                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
+                                 CurrPage.UPDATE(FALSE);
+                               END;
+                                }
+      { 51      ;2   ;Action    ;
+                      Name=PostAndPrint;
+                      ShortCutKey=Shift+F9;
+                      CaptionML=ENU=Post and &Print;
+                      ToolTipML=ENU=Finalize and prepare to print the document or journal. The values and quantities are posted to the related accounts. A report request window where you can specify what to include on the print-out.;
+                      ApplicationArea=#Basic,#Suite;
+                      Promoted=Yes;
+                      PromotedIsBig=Yes;
+                      Image=PostPrint;
+                      PromotedCategory=Process;
+                      OnAction=BEGIN
+                                 CODEUNIT.RUN(CODEUNIT::"Gen. Jnl.-Post+Print",Rec);
+                                 CurrentJnlBatchName := GETRANGEMAX("Journal Batch Name");
+                                 CurrPage.UPDATE(FALSE);
+                               END;
+                                }
+      { 23      ;2   ;Action    ;
+                      ShortCutKey=Ctrl+F11;
+                      CaptionML=ENU=Reconcile;
+                      ToolTipML=ENU=View the balances on bank accounts that are marked for reconciliation, usually liquid accounts.;
+                      ApplicationArea=#Basic,#Suite;
+                      Promoted=Yes;
+                      Image=Reconcile;
+                      PromotedCategory=Category4;
+                      OnAction=BEGIN
+                                 GLReconcile.SetGenJnlLine(Rec);
+                                 GLReconcile.RUN;
+                               END;
+                                }
+    }
+  }
+  CONTROLS
+  {
+    { 1900000001;0;Container;
+                ContainerType=ContentArea }
+
+    { 39  ;1   ;Field     ;
+                Lookup=Yes;
+                CaptionML=ENU=Batch Name;
+                ToolTipML=ENU=Specifies the name of the journal batch.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr=CurrentJnlBatchName;
+                OnValidate=BEGIN
+                             GenJnlManagement.CheckName(CurrentJnlBatchName,Rec);
+                             CurrentJnlBatchNameOnAfterVali;
+                           END;
+
+                OnLookup=BEGIN
+                           CurrPage.SAVERECORD;
+                           GenJnlManagement.LookupName(CurrentJnlBatchName,Rec);
+                           CurrPage.UPDATE(FALSE);
+                         END;
+                          }
+
+    { 1   ;1   ;Group     ;
+                Editable=false;
+                GroupType=Repeater }
+
+    { 2   ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the entry's posting date.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Posting Date";
+                StyleExpr=StyleTxt }
+
+    { 83  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the date on the document that provides the basis for the entry on the journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Document Date";
+                Visible=FALSE;
+                StyleExpr=StyleTxt }
+
+    { 4   ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the type of document that the entry on the journal line is.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Document Type";
+                Visible=FALSE;
+                StyleExpr=StyleTxt }
+
+    { 6   ;2   ;Field     ;
+                ToolTipML=ENU=Specifies a document number for the journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Document No." }
+
+    { 81  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies a document number that refers to the customer's or vendor's numbering system.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="External Document No.";
+                Visible=FALSE }
+
+    { 8   ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the type of account that the entry on the journal line will be posted to.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Account Type";
+                StyleExpr=StyleTxt;
+                OnValidate=BEGIN
+                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
+                             SetUserInteractions;
+                             CurrPage.UPDATE;
+                           END;
+                            }
+
+    { 10  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the account number that the entry on the journal line will be posted to.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Account No.";
+                StyleExpr=StyleTxt;
+                OnValidate=BEGIN
+                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
+                             ShowShortcutDimCode(ShortcutDimCode);
+                             SetUserInteractions;
+                             CurrPage.UPDATE;
+                           END;
+                            }
+
+    { 12  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies a description of the entry.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr=Description;
+                StyleExpr=StyleTxt }
+
+    { 71  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the code of the business unit that the entry derives from in a consolidated company.;
+                ApplicationArea=#Advanced;
+                SourceExpr="Business Unit Code";
+                Visible=FALSE }
+
+    { 65  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the salesperson or purchaser who is linked to the journal line.;
+                ApplicationArea=#Suite;
+                SourceExpr="Salespers./Purch. Code";
+                Visible=FALSE }
+
+    { 93  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the number of the campaign the journal line is linked to.;
+                ApplicationArea=#RelationshipMgmt;
+                SourceExpr="Campaign No.";
+                Visible=FALSE }
+
+    { 14  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the general posting type that will be used when you post the entry on this journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Gen. Posting Type";
+                Visible=FALSE }
+
+    { 77  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Gen. Bus. Posting Group";
+                Visible=FALSE }
+
+    { 16  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Gen. Prod. Posting Group";
+                Visible=FALSE }
+
+    { 41  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the VAT business posting group code that will be used when you post the entry on the journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="VAT Bus. Posting Group";
+                Visible=FALSE }
+
+    { 85  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the VAT product posting group. Links business transactions made for the item, resource, or G/L account with the general ledger, to account for VAT amounts resulting from trade with that record.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="VAT Prod. Posting Group";
+                Visible=FALSE }
+
+    { 119451021;2;Field   ;
+                AssistEdit=Yes;
+                SourceExpr="Currency Code";
+                OnAssistEdit=BEGIN
+                               ChangeExchangeRate.SetParameter("Currency Code","Currency Factor","Posting Date");
+                               ChangeExchangeRate.RUNMODAL;
+                               CLEAR(ChangeExchangeRate);
+                             END;
+                              }
+
+    { 119451023;2;Field   ;
+                SourceExpr="Currency Factor" }
+
+    { 18  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the total amount (including VAT) that the journal line consists of.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr=Amount;
+                Visible=AmountVisible;
+                StyleExpr=StyleTxt }
+
+    { 113 ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the total amount in local currency (including VAT) that the journal line consists of.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Amount (LCY)";
+                Visible=AmountVisible }
+
+    { 1000;2   ;Field     ;
+                ToolTipML=ENU=Specifies the total amount (including VAT) that the journal line consists of, if it is a debit amount.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Debit Amount";
+                Visible=DebitCreditVisible }
+
+    { 1001;2   ;Field     ;
+                ToolTipML=ENU=Specifies the total amount (including VAT) that the journal line consists of, if it is a credit amount.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Credit Amount";
+                Visible=DebitCreditVisible }
+
+    { 101 ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the amount of VAT included in the total amount.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="VAT Amount";
+                Visible=FALSE }
+
+    { 99  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the difference between the calculate VAT amount and the VAT amount that you have entered manually.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="VAT Difference";
+                Visible=FALSE }
+
+    { 119451022;2;Field   ;
+                SourceExpr="Source Currency Code";
+                Visible=False }
+
+    { 119451025;2;Field   ;
+                SourceExpr="Source Currency Amount";
+                Visible=False }
+
+    { 119451026;2;Field   ;
+                SourceExpr="Source Curr. VAT Base Amount";
+                Visible=false }
+
+    { 119451027;2;Field   ;
+                SourceExpr="Source Curr. VAT Amount";
+                Visible=false }
+
+    { 103 ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the amount of Bal. VAT included in the total amount.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. VAT Amount";
+                Visible=FALSE }
+
+    { 105 ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the difference between the calculate VAT amount and the VAT amount that you have entered manually.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. VAT Difference";
+                Visible=FALSE }
+
+    { 53  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the code for the balancing account type that should be used in this journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. Account Type";
+                Visible=false;
+                StyleExpr=StyleTxt }
+
+    { 55  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the number of the general ledger, customer, vendor, or bank account to which a balancing entry for the journal line will posted (for example, a cash account for cash purchases).;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. Account No.";
+                Visible=false;
+                StyleExpr=StyleTxt;
+                OnValidate=BEGIN
+                             GenJnlManagement.GetAccounts(Rec,AccName,BalAccName);
+                             ShowShortcutDimCode(ShortcutDimCode);
+                           END;
+                            }
+
+    { 57  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the general posting type associated with the balancing account that will be used when you post the entry on the journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. Gen. Posting Type";
+                Visible=false }
+
+    { 79  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the general business posting group code associated with the balancing account that will be used when you post the entry.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. Gen. Bus. Posting Group";
+                Visible=false }
+
+    { 59  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the general product posting group code associated with the balancing account that will be used when you post the entry.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. Gen. Prod. Posting Group";
+                Visible=false }
+
+    { 87  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the code of the VAT business posting group that will be used when you post the entry on the journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. VAT Bus. Posting Group";
+                Visible=FALSE }
+
+    { 89  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the code of the VAT product posting group that will be used when you post the entry on the journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bal. VAT Prod. Posting Group";
+                Visible=FALSE }
+
+    { 95  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the number of the bill-to customer or pay-to vendor that the entry is linked to.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Bill-to/Pay-to No.";
+                Visible=FALSE }
+
+    { 97  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the address code of the ship-to customer or order-from vendor that the entry is linked to.;
+                ApplicationArea=#Advanced;
+                SourceExpr="Ship-to/Order Address Code";
+                Visible=FALSE }
+
+    { 61  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
+                ApplicationArea=#Suite;
+                SourceExpr="Shortcut Dimension 1 Code";
+                Visible=FALSE }
+
+    { 63  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
+                ApplicationArea=#Suite;
+                SourceExpr="Shortcut Dimension 2 Code";
+                Visible=FALSE }
+
+    { 300 ;2   ;Field     ;
+                ApplicationArea=#Suite;
+                SourceExpr=ShortcutDimCode[3];
+                CaptionClass='1,2,3';
+                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(3),
+                                                            Dimension Value Type=CONST(Standard));
+                Visible=FALSE;
+                OnLookup=BEGIN
+                           LookupShortcutDimCodeRO(3,ShortcutDimCode[3]);
+                         END;
+                          }
+
+    { 302 ;2   ;Field     ;
+                ApplicationArea=#Suite;
+                SourceExpr=ShortcutDimCode[4];
+                CaptionClass='1,2,4';
+                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(4),
+                                                            Dimension Value Type=CONST(Standard));
+                Visible=FALSE;
+                OnLookup=BEGIN
+                           LookupShortcutDimCodeRO(4,ShortcutDimCode[4]);
+                         END;
+                          }
+
+    { 304 ;2   ;Field     ;
+                ApplicationArea=#Suite;
+                SourceExpr=ShortcutDimCode[5];
+                CaptionClass='1,2,5';
+                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(5),
+                                                            Dimension Value Type=CONST(Standard));
+                Visible=FALSE;
+                OnLookup=BEGIN
+                           LookupShortcutDimCodeRO(5,ShortcutDimCode[5]);
+                         END;
+                          }
+
+    { 306 ;2   ;Field     ;
+                ApplicationArea=#Suite;
+                SourceExpr=ShortcutDimCode[6];
+                CaptionClass='1,2,6';
+                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(6),
+                                                            Dimension Value Type=CONST(Standard));
+                Visible=FALSE;
+                OnLookup=BEGIN
+                           LookupShortcutDimCodeRO(6,ShortcutDimCode[6]);
+                         END;
+                          }
+
+    { 308 ;2   ;Field     ;
+                ApplicationArea=#Suite;
+                SourceExpr=ShortcutDimCode[7];
+                CaptionClass='1,2,7';
+                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(7),
+                                                            Dimension Value Type=CONST(Standard));
+                Visible=FALSE;
+                OnLookup=BEGIN
+                           LookupShortcutDimCodeRO(7,ShortcutDimCode[7]);
+                         END;
+                          }
+
+    { 310 ;2   ;Field     ;
+                ApplicationArea=#Suite;
+                SourceExpr=ShortcutDimCode[8];
+                CaptionClass='1,2,8';
+                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(8),
+                                                            Dimension Value Type=CONST(Standard));
+                Visible=FALSE;
+                OnLookup=BEGIN
+                           LookupShortcutDimCodeRO(8,ShortcutDimCode[8]);
+                         END;
+                          }
+
+    { 73  ;2   ;Field     ;
+                ToolTipML=ENU=Specifies the reason code that has been entered on the journal lines.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr="Reason Code";
+                Visible=FALSE }
+
+    { 30  ;1   ;Group      }
+
+    { 1901776101;2;Group  ;
+                GroupType=FixedLayout }
+
+    { 1900545301;3;Group  ;
+                CaptionML=ENU=Account Name }
+
+    { 35  ;4   ;Field     ;
+                ToolTipML=ENU=Specifies the name of the account.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr=AccName;
+                Editable=FALSE;
+                ShowCaption=No }
+
+    { 1900295701;3;Group  ;
+                CaptionML=ENU=Bal. Account Name }
+
+    { 37  ;4   ;Field     ;
+                CaptionML=ENU=Bal. Account Name;
+                ToolTipML=ENU=Specifies the name of the balancing account that has been entered on the journal line.;
+                ApplicationArea=#Basic,#Suite;
+                SourceExpr=BalAccName;
+                Editable=FALSE }
+
+    { 1902759701;3;Group  ;
+                CaptionML=ENU=Balance }
+
+    { 31  ;4   ;Field     ;
+                Name=Balance;
+                CaptionML=ENU=Balance;
+                ToolTipML=ENU=Specifies the balance that has accumulated in the general journal on the line where the cursor is.;
+                ApplicationArea=#All;
+                SourceExpr=Balance + "Balance (LCY)" - xRec."Balance (LCY)";
+                AutoFormatType=1;
+                Visible=BalanceVisible;
+                Editable=FALSE }
+
+    { 1901652501;3;Group  ;
+                CaptionML=ENU=Total Balance }
+
+    { 33  ;4   ;Field     ;
+                Name=TotalBalance;
+                CaptionML=ENU=Total Balance;
+                ToolTipML=ENU=Specifies the total balance in the general journal.;
+                ApplicationArea=#All;
+                SourceExpr=TotalBalance + "Balance (LCY)" - xRec."Balance (LCY)";
+                AutoFormatType=1;
+                Visible=TotalBalanceVisible;
+                Editable=FALSE }
+
+    { 1900000007;0;Container;
+                ContainerType=FactBoxArea }
+
+    { 1900919607;1;Part   ;
+                ApplicationArea=#Basic,#Suite;
+                SubPageLink=Dimension Set ID=FIELD(Dimension Set ID);
+                PagePartID=Page699;
+                Visible=FALSE;
+                PartType=Page }
+
+    { 1900383207;1;Part   ;
+                Visible=FALSE;
+                PartType=System;
+                SystemPartID=RecordLinks }
+
+    { 1905767507;1;Part   ;
+                Visible=FALSE;
+                PartType=System;
+                SystemPartID=Notes }
+
+  }
+  CODE
+  {
+    VAR
+      GenJnlManagement@1002 : Codeunit 230;
+      ReportPrint@1003 : Codeunit 228;
+      ChangeExchangeRate@1001 : Page 511;
+      GLReconcile@1000 : Page 345;
+      CurrentJnlBatchName@1004 : Code[10];
+      AccName@1005 : Text[50];
+      BalAccName@1006 : Text[50];
+      Balance@1007 : Decimal;
+      TotalBalance@1008 : Decimal;
+      ShowBalance@1009 : Boolean;
+      ShowTotalBalance@1010 : Boolean;
+      ShortcutDimCode@1011 : ARRAY [8] OF Code[20];
+      Text000@1012 : TextConst 'ENU=General Journal lines have been successfully inserted from Standard General Journal %1.';
+      Text001@1013 : TextConst 'ENU=Standard General Journal %1 has been successfully created.';
+      BalanceVisible@19073040 : Boolean INDATASET;
+      TotalBalanceVisible@19063333 : Boolean INDATASET;
+      StyleTxt@1015 : Text;
+      AmountVisible@1035 : Boolean;
+      DebitCreditVisible@1036 : Boolean;
+
+    LOCAL PROCEDURE UpdateBalance@1();
+    BEGIN
+      GenJnlManagement.CalcBalance(Rec,xRec,Balance,TotalBalance,ShowBalance,ShowTotalBalance);
+      BalanceVisible := ShowBalance;
+      TotalBalanceVisible := ShowTotalBalance;
+    END;
+
+    LOCAL PROCEDURE CurrentJnlBatchNameOnAfterVali@19002411();
+    BEGIN
+      CurrPage.SAVERECORD;
+      GenJnlManagement.SetName(CurrentJnlBatchName,Rec);
+      CurrPage.UPDATE(FALSE);
+    END;
+
+    [External]
+    PROCEDURE SetUserInteractions@2();
+    BEGIN
+      StyleTxt := GetStyle;
+    END;
+
+    LOCAL PROCEDURE GetCurrentlySelectedLines@3(VAR GenJournalLine@1000 : Record 81) : Boolean;
+    BEGIN
+      CurrPage.SETSELECTIONFILTER(GenJournalLine);
+      EXIT(GenJournalLine.FINDSET);
+    END;
+
+    LOCAL PROCEDURE ShowAmounts@8();
+    VAR
+      GLSetup@1000 : Record 98;
+    BEGIN
+      GLSetup.GET;
+      AmountVisible := NOT (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Debit/Credit Only");
+      DebitCreditVisible := NOT (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Amount Only");
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.02             03.08.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     29.12.2010    os.jgl  SITC    Show Currency Code, Currency Factor, Amount (LCY)
+      OS002     20.02.2011    os.jgl  SIBB    Read-Only Form for "System" Journal
+                                              Show Source Currency Code and Values
+                                              Function Menu for LCY Rounding is kept, however it shouldn't be necessary
+      PX003     07.04.2018    px.jgl  P4TC    Update to base NAV2018 NAVW111.00 (P39)
+      PX004     03.08.2018    px.jgl  P4TC    Update to base NAV2018 NAVW111.00.00.21836 (P39)
+    }
+    END.
+  }
+}
+
diff --git a/page/page_0005274105.txt b/page/page_0005274105.txt
new file mode 100644
index 0000000..468cce8
--- /dev/null
+++ b/page/page_0005274105.txt
@@ -0,0 +1,62 @@
+OBJECT Page 5274105 DataUpgrade Setup Card
+{
+  OBJECT-PROPERTIES
+  {
+    Date=23.05.16;
+    Time=12:00:00;
+    Version List=P4BB2.00;
+  }
+  PROPERTIES
+  {
+    CaptionML=ENU=DataUpgrade Setup;
+    SourceTable=Table5274105;
+    PageType=Card;
+  }
+  CONTROLS
+  {
+    { 1000000000;0;Container;
+                ContainerType=ContentArea }
+
+    { 1000000001;1;Group  ;
+                Name=Allgemein;
+                GroupType=Group }
+
+    { 1000000003;2;Field  ;
+                SourceExpr="DataUpgrade Language Code" }
+
+    { 1000000005;2;Field  ;
+                SourceExpr="DataUpgrade Windows Language" }
+
+    { 1000000006;2;Field  ;
+                SourceExpr="Allow Company-Initialize" }
+
+  }
+  CODE
+  {
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     22.05.2016    os.jgl  SIBB    "Helper" Table to work around NAV2016 DataUpgrade limitations.
+                                              1. Define a language (and a windows language ID) for the DataUpgrade
+                                              2. Define if CU2 "Company-Initialize" is allowed to run during DataUpgrade
+    }
+    END.
+  }
+}
+
diff --git a/page/page_0005274299.txt b/page/page_0005274299.txt
new file mode 100644
index 0000000..62ce869
--- /dev/null
+++ b/page/page_0005274299.txt
@@ -0,0 +1,54 @@
+OBJECT Page 5274299 About P4TC
+{
+  OBJECT-PROPERTIES
+  {
+    Date=23.05.16;
+    Time=12:00:00;
+    Version List=P4TC3.00;
+  }
+  PROPERTIES
+  {
+    Editable=No;
+    CaptionML=ENU=About Plexada TransactionCurrency;
+    PageType=NavigatePage;
+  }
+  CONTROLS
+  {
+    { 119451021;0;Container;
+                ContainerType=ContentArea }
+
+    { 119451023;1;Field   ;
+                Name=<Control119451022>;
+                CaptionClass=AboutP4TC.P4TAVersion;
+                MultiLine=Yes }
+
+  }
+  CODE
+  {
+    VAR
+      AboutP4TC@119451021 : Codeunit 5274299;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     17.09.2011    os.jgl  SITC    created
+    }
+    END.
+  }
+}
+
diff --git a/report/report_0000000020.txt b/report/report_0000000020.txt
index f933576..ba9623d 100644
--- a/report/report_0000000020.txt
+++ b/report/report_0000000020.txt
@@ -4,13 +4,16 @@ OBJECT Report 20 Calc. and Post VAT Settlement
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
     Permissions=TableData 254=imd;
     CaptionML=ENU=Calc. and Post VAT Settlement;
     OnPreReport=BEGIN
+                  //OS001s os.jgl
+                  ERROR(Text5274200);
+                  //OS001e os.jgl
                   IF PostingDate = 0D THEN
                     ERROR(Text000);
                   IF DocNo = '' THEN
@@ -553,6 +556,12 @@ OBJECT Report 20 Calc. and Post VAT Settlement
     {
       SaveValues=Yes;
       ShowFilter=No;
+      OnOpenPage=BEGIN
+                   //OS001s os.jgl
+                   ERROR(Text5274200);
+                   //OS001e os.jgl
+                 END;
+
     }
     CONTROLS
     {
@@ -680,6 +689,8 @@ OBJECT Report 20 Calc. and Post VAT Settlement
       TotalCaptionLbl@1909 : TextConst 'ENU=Total';
       PostingDateCaptionLbl@4591 : TextConst 'ENU=Posting Date';
       SettlementCaptionLbl@6937 : TextConst 'ENU=Settlement';
+      Text5274104@119451022 : TextConst;
+      Text5274200@119451021 : TextConst 'ENU=This report is not ready for Plexada TransactionCurrency. Please use report 5274204 instead.';
 
     PROCEDURE InitializeRequest@1(NewStartDate@1000 : Date;NewEndDate@1001 : Date;NewPostingDate@1002 : Date;NewDocNo@1003 : Code[20];NewSettlementAcc@1004 : Code[20];ShowVATEntries@1005 : Boolean;Post@1006 : Boolean);
     BEGIN
@@ -759,6 +770,25 @@ OBJECT Report 20 Calc. and Post VAT Settlement
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     18.05.2012    os.jgl  SITC    disable standard report, setup hint to SITC report 5274204
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0000000085.txt b/report/report_0000000085.txt
index 4342f44..37b2980 100644
--- a/report/report_0000000085.txt
+++ b/report/report_0000000085.txt
@@ -4,7 +4,7 @@ OBJECT Report 85 Copy - VAT Posting Setup
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00;
   }
   PROPERTIES
   {
@@ -28,6 +28,9 @@ OBJECT Report 85 Copy - VAT Posting Setup
                                     "VAT %" := VATPostingSetup."VAT %";
                                     "Unrealized VAT Type" := VATPostingSetup."Unrealized VAT Type";
                                     "Adjust for Payment Discount" := VATPostingSetup."Adjust for Payment Discount";
+                                    //PX001s px.jgl
+                                   "Prepayment Unrealized VAT only" := VATPostingSetup."Prepayment Unrealized VAT only";
+                                    //PX001e px.jgl
                                     "VAT Identifier" := VATPostingSetup."VAT Identifier";
                                   END;
 
@@ -169,6 +172,26 @@ OBJECT Report 85 Copy - VAT Posting Setup
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     10.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              Neues Feld "nur Vorauszahlung unrealisierte MwSt." mit kopieren
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0000000086.txt b/report/report_0000000086.txt
index 8a2dab7..60d54e8 100644
--- a/report/report_0000000086.txt
+++ b/report/report_0000000086.txt
@@ -4,7 +4,7 @@ OBJECT Report 86 Adjust Add. Reporting Currency
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -77,12 +77,18 @@ OBJECT Report 86 Adjust Add. Reporting Currency
                                     VATEntryOldCount := VATEntryCount;
                                   END;
 
-                                  "Additional-Currency Amount" := ExchangeAmtLCYToFCY("Posting Date",Amount,FALSE);
-                                  "Additional-Currency Base" := ExchangeAmtLCYToFCY("Posting Date",Base,FALSE);
-                                  "Add.-Currency Unrealized Amt." := ExchangeAmtLCYToFCY("Posting Date","Unrealized Amount",FALSE);
-                                  "Add.-Currency Unrealized Base" := ExchangeAmtLCYToFCY("Posting Date","Unrealized Base",FALSE);
-                                  "Add.-Curr. Rem. Unreal. Amount" := ExchangeAmtLCYToFCY("Posting Date","Remaining Unrealized Amount",FALSE);
-                                  "Add.-Curr. Rem. Unreal. Base" := ExchangeAmtLCYToFCY("Posting Date","Remaining Unrealized Base",FALSE);
+                                  //OS001s os.jgl
+                                  "Additional-Currency Amount" := ExchangeAmtLCYToFCY("Posting Date",Amount,FALSE,"Currency Code","Amount (FCY)");
+                                  "Additional-Currency Base" := ExchangeAmtLCYToFCY("Posting Date",Base,FALSE,"Currency Code","Base (FCY)");
+                                  "Add.-Currency Unrealized Amt." := ExchangeAmtLCYToFCY("Posting Date","Unrealized Amount",FALSE,"Currency Code",
+                                    "Unrealized Amount (FCY)");
+                                  "Add.-Currency Unrealized Base" := ExchangeAmtLCYToFCY("Posting Date","Unrealized Base",FALSE,"Currency Code",
+                                    "Unrealized Base (FCY)");
+                                  "Add.-Curr. Rem. Unreal. Amount" := ExchangeAmtLCYToFCY("Posting Date","Remaining Unrealized Amount",FALSE,
+                                    "Currency Code","Remaining Unreal. Amount (FCY)");
+                                  "Add.-Curr. Rem. Unreal. Base" := ExchangeAmtLCYToFCY("Posting Date","Remaining Unrealized Base",FALSE,
+                                    "Currency Code","Remaining Unreal. Base (FCY)");
+                                  //OS001e os.jgl
                                   MODIFY;
                                 END;
 
@@ -107,7 +113,9 @@ OBJECT Report 86 Adjust Add. Reporting Currency
                                     Window.UPDATE(1,"Posting Date");
                                     OldGLEntry := "G/L Entry";
                                   END;
-                                  "Additional-Currency Amount" := ExchangeAmtLCYToFCY("Posting Date",Amount,FALSE);
+                                  //OS001s os.jgl
+                                  "Additional-Currency Amount" := ExchangeAmtLCYToFCY("Posting Date",Amount,FALSE,"Currency Code","Amount (FCY)");
+                                  //OS001e os.jgl
                                   IF "Debit Amount" <> 0 THEN BEGIN
                                     "Add.-Currency Debit Amount" := "Additional-Currency Amount";
                                     "Add.-Currency Credit Amount" := 0;
@@ -193,13 +201,13 @@ OBJECT Report 86 Adjust Add. Reporting Currency
                                     PostingDate := ItemLedgerEntry."Posting Date";
                                   END ELSE
                                     PostingDate := "Posting Date";
-
-                                  "Cost per Unit (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost per Unit",TRUE);
-                                  "Cost Amount (Actual) (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Amount (Actual)",FALSE);
-                                  "Cost Amount (Expected) (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Amount (Expected)",FALSE);
-                                  "Cost Amount (Non-Invtbl.)(ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Amount (Non-Invtbl.)",FALSE);
-                                  "Cost Posted to G/L (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Posted to G/L",FALSE);
-
+                                  //OS001s os.jgl
+                                  "Cost per Unit (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost per Unit",TRUE,'',0);
+                                  "Cost Amount (Actual) (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Amount (Actual)",FALSE,'',0);
+                                  "Cost Amount (Expected) (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Amount (Expected)",FALSE,'',0);
+                                  "Cost Amount (Non-Invtbl.)(ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Amount (Non-Invtbl.)",FALSE,'',0);
+                                  "Cost Posted to G/L (ACY)" := ExchangeAmtLCYToFCY(PostingDate,"Cost Posted to G/L",FALSE,'',0);
+                                  //OS001e os.jgl
                                   MODIFY;
                                 END;
 
@@ -223,8 +231,10 @@ OBJECT Report 86 Adjust Add. Reporting Currency
                                     OldJobLedgEntry := "Job Ledger Entry";
                                   END;
 
-                                  "Additional-Currency Total Cost" := ExchangeAmtLCYToFCY("Posting Date","Total Cost (LCY)",FALSE);
-                                  "Add.-Currency Total Price" := ExchangeAmtLCYToFCY("Posting Date","Total Price (LCY)",FALSE);
+                                  //OS001s os.jgl
+                                  "Additional-Currency Total Cost" := ExchangeAmtLCYToFCY("Posting Date","Total Cost (LCY)",FALSE,'',0);
+                                  "Add.-Currency Total Price" := ExchangeAmtLCYToFCY("Posting Date","Total Price (LCY)",FALSE,'',0);
+                                  //OS001e os.jgl
                                   MODIFY;
                                 END;
                                  }
@@ -244,8 +254,10 @@ OBJECT Report 86 Adjust Add. Reporting Currency
                                     OldProdOrderLine := "Prod. Order Line";
                                   END;
 
-                                  "Cost Amount (ACY)" := ExchangeAmtLCYToFCY(WORKDATE,"Cost Amount",FALSE);
-                                  "Unit Cost (ACY)" := ExchangeAmtLCYToFCY(WORKDATE,"Unit Cost",TRUE);
+                                  //OS001s os.jgl
+                                  "Cost Amount (ACY)" := ExchangeAmtLCYToFCY(WORKDATE,"Cost Amount",FALSE,'',0);
+                                  "Unit Cost (ACY)" := ExchangeAmtLCYToFCY(WORKDATE,"Unit Cost",TRUE,'',0);
+                                  //OS001e os.jgl
                                   MODIFY;
                                 END;
                                  }
@@ -263,7 +275,9 @@ OBJECT Report 86 Adjust Add. Reporting Currency
                                     Window.UPDATE(1,"Posting Date");
                                     OldCostEntry := "Cost Entry";
                                   END;
-                                  "Additional-Currency Amount" := ExchangeAmtLCYToFCY("Posting Date",Amount,FALSE);
+                                  //OS002s os.jgl
+                                  "Additional-Currency Amount" := ExchangeAmtLCYToFCY("Posting Date",Amount,FALSE,'',0);
+                                  //OS002e os.jgl
                                   IF "Debit Amount" <> 0 THEN BEGIN
                                     "Add.-Currency Debit Amount" := "Additional-Currency Amount";
                                     "Add.-Currency Credit Amount" := 0;
@@ -407,10 +421,14 @@ OBJECT Report 86 Adjust Add. Reporting Currency
       EXIT(ReportIsExecuted);
     END;
 
-    LOCAL PROCEDURE ExchangeAmtLCYToFCY@1(PostingDate@1003 : Date;Amount@1000 : Decimal;IsUnitAmount@1001 : Boolean) : Decimal;
+    LOCAL PROCEDURE ExchangeAmtLCYToFCY@1(PostingDate@1003 : Date;Amount@1000 : Decimal;IsUnitAmount@1001 : Boolean;TransactionCurrencyCode@119451021 : Code[10];TransacionCurrencyAmount@119451022 : Decimal) : Decimal;
     VAR
       AmtRndgPrec@1002 : Decimal;
     BEGIN
+      //OS001s os.jgl
+      IF (TransactionCurrencyCode = GLSetup."Additional Reporting Currency") AND (TransactionCurrencyCode <> '') THEN
+        EXIT(TransacionCurrencyAmount);
+      //OS001e os.jgl
       IF IsUnitAmount THEN
         AmtRndgPrec := Currency."Unit-Amount Rounding Precision"
       ELSE
@@ -557,6 +575,26 @@ OBJECT Report 86 Adjust Add. Reporting Currency
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     27.04.2013    os.jgl  SITC    BUG-12: change function to respect transaction currency amounts
+      OS002     16.05.2013    os.jgl  SITC    DEV-38: handle additional NAV2013 tables
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0000000094.txt b/report/report_0000000094.txt
index 2cf9028..ec3f9fc 100644
--- a/report/report_0000000094.txt
+++ b/report/report_0000000094.txt
@@ -4,7 +4,7 @@ OBJECT Report 94 Close Income Statement
   {
     Date=26.01.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20348;
+    Version List=NAVW111.00.00.20348,P4TC3.00;
   }
   PROPERTIES
   {
@@ -13,6 +13,9 @@ OBJECT Report 94 Close Income Statement
     OnPreReport=VAR
                   s@1000 : Text[1024];
                 BEGIN
+                  //OS001s os.jgl
+                  ERROR(Text5274200);
+                  //OS001e os.jgl
                   IF EndDateReq = 0D THEN
                     ERROR(Text000);
                   ValidateEndDate(TRUE);
@@ -272,6 +275,9 @@ OBJECT Report 94 Close Income Statement
                    GLAccount@1001 : Record 15;
                    GLAccountCategory@1000 : Record 570;
                  BEGIN
+                   //OS001s os.jgl
+                   ERROR(Text5274200);
+                   //OS001e os.jgl
                    IF PostingDescription = '' THEN
                      PostingDescription :=
                        COPYSTR(ObjTransl.TranslateObject(ObjTransl."Object Type"::Report,REPORT::"Close Income Statement"),1,30);
@@ -491,6 +497,8 @@ OBJECT Report 94 Close Income Statement
       EntryCount@1057 : Integer;
       LastWindowUpdateDateTime@1044 : DateTime;
       NoFiscalYearsErr@1009 : TextConst 'ENU=No closed fiscal year exists.';
+      Text5274104@119451022 : TextConst;
+      Text5274200@119451021 : TextConst 'ENU=This report is not ready for Plexada TransactionCurrency. Please use report 5274202 instead.';
 
     LOCAL PROCEDURE ValidateEndDate@1(RealMode@1000 : Boolean) : Boolean;
     VAR
@@ -667,6 +675,25 @@ OBJECT Report 94 Close Income Statement
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     18.05.2012    os.jgl  SITC    disable standard report, setup hint to SITC report 5274202
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0000000095.txt b/report/report_0000000095.txt
index 096fffd..ff1b2ea 100644
--- a/report/report_0000000095.txt
+++ b/report/report_0000000095.txt
@@ -4,7 +4,7 @@ OBJECT Report 95 Date Compress VAT Entries
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -69,15 +69,28 @@ OBJECT Report 95 Date Compress VAT Entries
                OnAfterGetRecord=BEGIN
                                   VATEntry2 := "VAT Entry";
                                   WITH VATEntry2 DO BEGIN
+                                    //OS001s os.jgl
+                                    // ************************************************** Plexada *******************************************************
+                                    // IF NOT
+                                    //   SETCURRENTKEY(
+                                    //     Type,Closed,"VAT Bus. Posting Group","VAT Prod. Posting Group","Posting Date")
+                                    // THEN
+                                    //   SETCURRENTKEY(
+                                    //     Type,Closed,"Tax Jurisdiction Code","Use Tax","Posting Date");
+                                    // ************************************************** Plexada *******************************************************
                                     IF NOT
-                                       SETCURRENTKEY(
-                                         Type,Closed,"VAT Bus. Posting Group","VAT Prod. Posting Group","Posting Date")
+                                      SETCURRENTKEY(
+                                        Type,Closed,"Currency Code","VAT Bus. Posting Group","VAT Prod. Posting Group","Posting Date")
                                     THEN
                                       SETCURRENTKEY(
-                                        Type,Closed,"Tax Jurisdiction Code","Use Tax","Posting Date");
+                                        Type,Closed,"Currency Code","Tax Jurisdiction Code","Use Tax","Posting Date");
+                                    //OS001e os.jgl
                                     COPYFILTERS("VAT Entry");
                                     SETRANGE(Type,Type);
                                     SETRANGE(Closed,Closed);
+                                    //OS001s os.jgl
+                                    SETRANGE("Currency Code","Currency Code");
+                                    //OS001e os.jgl
                                     SETRANGE("VAT Bus. Posting Group","VAT Bus. Posting Group");
                                     SETRANGE("VAT Prod. Posting Group","VAT Prod. Posting Group");
                                     SETRANGE("Tax Jurisdiction Code","Tax Jurisdiction Code");
@@ -85,12 +98,15 @@ OBJECT Report 95 Date Compress VAT Entries
                                     SETFILTER("Posting Date",DateComprMgt.GetDateFilter("Posting Date",EntrdDateComprReg,TRUE));
                                     SETRANGE("Document Type","Document Type");
 
-                                    LastVATEntryNo := LastVATEntryNo + 1;
+                                           LastVATEntryNo := LastVATEntryNo + 1;
 
                                     NewVATEntry.INIT;
                                     NewVATEntry."Entry No." := LastVATEntryNo;
                                     NewVATEntry.Type := Type;
                                     NewVATEntry.Closed := Closed;
+                                    //OS001s os.jgl
+                                    NewVATEntry."Currency Code" := "Currency Code";
+                                    //OS001e os.jgl
                                     NewVATEntry."VAT Bus. Posting Group" := "VAT Bus. Posting Group";
                                     NewVATEntry."VAT Prod. Posting Group" := "VAT Prod. Posting Group";
                                     NewVATEntry."Tax Jurisdiction Code" := "Tax Jurisdiction Code";
@@ -150,6 +166,16 @@ OBJECT Report 95 Date Compress VAT Entries
                                         NewVATEntry."Remaining Unrealized Amount" + "Remaining Unrealized Amount";
                                       NewVATEntry."Remaining Unrealized Base" :=
                                         NewVATEntry."Remaining Unrealized Base" + "Remaining Unrealized Base";
+                                      //OS001s os.jgl
+                                      NewVATEntry."Base (FCY)" := NewVATEntry."Base (FCY)" + "Base (FCY)";
+                                      NewVATEntry."Amount (FCY)" := NewVATEntry."Amount (FCY)" + "Amount (FCY)";
+                                      NewVATEntry."Unrealized Base (FCY)" := NewVATEntry."Unrealized Base (FCY)" + "Unrealized Base (FCY)";
+                                      NewVATEntry."Unrealized Amount (FCY)" := NewVATEntry."Unrealized Amount (FCY)" + "Unrealized Amount (FCY)";
+                                      NewVATEntry."Remaining Unreal. Amount (FCY)" :=
+                                        NewVATEntry."Remaining Unreal. Amount (FCY)" + "Remaining Unreal. Amount (FCY)";
+                                      NewVATEntry."Remaining Unreal. Base (FCY)" :=
+                                        NewVATEntry."Remaining Unreal. Base (FCY)" + "Remaining Unreal. Base (FCY)";
+                                      //OS001e os.jgl
                                       DELETE;
                                       GLEntryVATEntryLink.SETRANGE("VAT Entry No.","Entry No.");
                                       IF GLEntryVATEntryLink.FINDSET THEN
@@ -426,6 +452,24 @@ OBJECT Report 95 Date Compress VAT Entries
     END;
 
     BEGIN
+    {
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.05.2012    os.jgl  SITC    Handle FCY in date compression
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0000000098.txt b/report/report_0000000098.txt
index 3f1bfbd..7c59f11 100644
--- a/report/report_0000000098.txt
+++ b/report/report_0000000098.txt
@@ -4,7 +4,7 @@ OBJECT Report 98 Date Compress General Ledger
   {
     Date=21.12.17;
     Time=12:00:00;
-    Version List=NAVW111.00.00.19846;
+    Version List=NAVW111.00.00.19846,P4TC3.00;
   }
   PROPERTIES
   {
@@ -80,11 +80,19 @@ OBJECT Report 98 Date Compress General Ledger
                OnAfterGetRecord=BEGIN
                                   GLEntry2 := "G/L Entry";
                                   WITH GLEntry2 DO BEGIN
-                                    SETCURRENTKEY("G/L Account No.","Posting Date");
+                                    //OS001s os.jgl
+                                    // ************************************************** Plexada *******************************************************
+                                    // SETCURRENTKEY("G/L Account No.","Posting Date");
+                                    // ************************************************** Plexada *******************************************************
+                                    SETCURRENTKEY("G/L Account No.","Currency Code","Posting Date");
+                                    //OS001e os.jgl
                                     COPYFILTERS("G/L Entry");
                                     SETFILTER("Posting Date",DateComprMgt.GetDateFilter("Posting Date",EntrdDateComprReg,TRUE));
                                     REPEAT
                                       SETRANGE("G/L Account No.","G/L Account No.");
+                                      //OS001s os.jgl
+                                      SETRANGE("Currency Code","Currency Code");
+                                      //OS001e os.jgl
                                       SETRANGE("Gen. Posting Type","Gen. Posting Type");
                                       SETRANGE("Gen. Bus. Posting Group","Gen. Bus. Posting Group");
                                       SETRANGE("Gen. Prod. Posting Group","Gen. Prod. Posting Group");
@@ -101,18 +109,30 @@ OBJECT Report 98 Date Compress General Ledger
                                         SETRANGE("Global Dimension 1 Code","Global Dimension 1 Code");
                                       IF RetainNo(FIELDNO("Global Dimension 2 Code")) THEN
                                         SETRANGE("Global Dimension 2 Code","Global Dimension 2 Code");
-                                      IF Amount <> 0 THEN BEGIN
-                                        IF Amount > 0 THEN
-                                          SETFILTER(Amount,'>0')
+                                      //OS001s os.jgl
+                                      IF "Amount (FCY)" <> 0 THEN BEGIN
+                                        IF "Amount (FCY)" > 0 THEN
+                                          SETFILTER("Amount (FCY)",'>0')
                                         ELSE
-                                          SETFILTER(Amount,'<0');
+                                          SETFILTER("Amount (FCY)",'<0');
                                       END ELSE BEGIN
-                                        SETRANGE(Amount,0);
-                                        IF "Additional-Currency Amount" >= 0 THEN
-                                          SETFILTER("Additional-Currency Amount",'>=0')
-                                        ELSE
-                                          SETFILTER("Additional-Currency Amount",'<0');
+                                        SETRANGE("Amount (FCY)",0);
+                                      //OS001e os.jgl
+                                        IF Amount <> 0 THEN BEGIN
+                                          IF Amount > 0 THEN
+                                            SETFILTER(Amount,'>0')
+                                          ELSE
+                                            SETFILTER(Amount,'<0');
+                                        END ELSE BEGIN
+                                          SETRANGE(Amount,0);
+                                          IF "Additional-Currency Amount" >= 0 THEN
+                                            SETFILTER("Additional-Currency Amount",'>=0')
+                                          ELSE
+                                            SETFILTER("Additional-Currency Amount",'<0');
+                                        END;
+                                      //OS001s os.jgl
                                       END;
+                                      //OS001e os.jgl
 
                                       InitNewEntry(NewGLEntry);
 
@@ -397,6 +417,12 @@ OBJECT Report 98 Date Compress General Ledger
           NewGLEntry."Add.-Currency Debit Amount" + "Add.-Currency Debit Amount";
         NewGLEntry."Add.-Currency Credit Amount" :=
           NewGLEntry."Add.-Currency Credit Amount" + "Add.-Currency Credit Amount";
+        //OS001s os.jgl
+        NewGLEntry."Amount (FCY)" := NewGLEntry."Amount (FCY)" + "Amount (FCY)";
+        NewGLEntry."Debit Amount (FCY)" := NewGLEntry."Debit Amount (FCY)" + "Debit Amount (FCY)";
+        NewGLEntry."Credit Amount (FCY)" := NewGLEntry."Credit Amount (FCY)" + "Credit Amount (FCY)";
+        NewGLEntry."VAT Amount (FCY)" := NewGLEntry."VAT Amount (FCY)" + "VAT Amount (FCY)";
+        //OS001e os.jgl
         IF RetainNo(FIELDNO(Quantity)) THEN
           NewGLEntry.Quantity := NewGLEntry.Quantity + Quantity;
         DELETE;
@@ -463,6 +489,9 @@ OBJECT Report 98 Date Compress General Ledger
         NewGLEntry."Source Code" := SourceCodeSetup."Compress G/L";
         NewGLEntry."User ID" := USERID;
         NewGLEntry."Transaction No." := NextTransactionNo;
+        //OS001s os.jgl
+        NewGLEntry."Currency Code" := "Currency Code";
+        //OS001e os.jgl
 
         IF RetainNo(FIELDNO("Document Type")) THEN
           NewGLEntry."Document Type" := "Document Type";
@@ -534,6 +563,25 @@ OBJECT Report 98 Date Compress General Ledger
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.05.2012    os.jgl  SITC    Handle FCY in date compression
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0000000393.txt b/report/report_0000000393.txt
index 522ea7c..7cc0fe0 100644
--- a/report/report_0000000393.txt
+++ b/report/report_0000000393.txt
@@ -4,7 +4,7 @@ OBJECT Report 393 Suggest Vendor Payments
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00;
   }
   PROPERTIES
   {
@@ -78,19 +78,14 @@ OBJECT Report 393 Suggest Vendor Payments
                              END;
 
                OnAfterGetRecord=BEGIN
-                                  CLEAR(VendorBalance);
-                                  CALCFIELDS("Balance (LCY)");
-                                  VendorBalance := "Balance (LCY)";
-
                                   IF StopPayments THEN
                                     CurrReport.BREAK;
                                   Window.UPDATE(1,"No.");
-                                  IF VendorBalance > 0 THEN BEGIN
-                                    GetVendLedgEntries(TRUE,FALSE);
-                                    GetVendLedgEntries(FALSE,FALSE);
-                                    CheckAmounts(FALSE);
-                                    ClearNegative;
-                                  END;
+                                  //PX001s px.jgl
+                                  GetVendLedgEntries(TRUE,FALSE);
+                                  GetVendLedgEntries(FALSE,FALSE);
+                                  CheckAmounts(FALSE);
+                                  //PX001e px.jgl
                                 END;
 
                OnPostDataItem=BEGIN
@@ -101,16 +96,12 @@ OBJECT Report 393 Suggest Vendor Payments
                                   SETRANGE(Priority,0);
                                   IF FIND('-') THEN
                                     REPEAT
-                                      CLEAR(VendorBalance);
-                                      CALCFIELDS("Balance (LCY)");
-                                      VendorBalance := "Balance (LCY)";
-                                      IF VendorBalance > 0 THEN BEGIN
-                                        Window.UPDATE(1,"No.");
-                                        GetVendLedgEntries(TRUE,FALSE);
-                                        GetVendLedgEntries(FALSE,FALSE);
-                                        CheckAmounts(FALSE);
-                                        ClearNegative;
-                                      END;
+                                      //PX001s px.jgl
+                                      Window.UPDATE(1,"No.");
+                                      GetVendLedgEntries(TRUE,FALSE);
+                                      GetVendLedgEntries(FALSE,FALSE);
+                                      CheckAmounts(FALSE);
+                                      //PX001e px.jgl
                                     UNTIL (NEXT = 0) OR StopPayments;
                                 END;
 
@@ -120,24 +111,20 @@ OBJECT Report 393 Suggest Vendor Payments
                                   Window2.OPEN(Text007);
                                   IF FIND('-') THEN
                                     REPEAT
-                                      CLEAR(VendorBalance);
-                                      CALCFIELDS("Balance (LCY)");
-                                      VendorBalance := "Balance (LCY)";
+                                      //PX001s px.jgl
                                       Window2.UPDATE(1,"No.");
                                       PayableVendLedgEntry.SETRANGE("Vendor No.","No.");
-                                      IF VendorBalance > 0 THEN BEGIN
-                                        GetVendLedgEntries(TRUE,TRUE);
-                                        GetVendLedgEntries(FALSE,TRUE);
-                                        CheckAmounts(TRUE);
-                                        ClearNegative;
-                                      END;
+                                      GetVendLedgEntries(TRUE,TRUE);
+                                      GetVendLedgEntries(FALSE,TRUE);
+                                      CheckAmounts(TRUE);
+                                      //PX001e px.jgl
                                     UNTIL (NEXT = 0) OR StopPayments;
                                   Window2.CLOSE;
-                                END ELSE
-                                  IF FIND('-') THEN
-                                    REPEAT
-                                      ClearNegative;
-                                    UNTIL NEXT = 0;
+                                //PX001s px.jgl
+                                END;
+
+                                ClearNegative;
+                                //PX001e px.jgl
 
                                 DimSetEntry.LOCKTABLE;
                                 GenJnlLine.LOCKTABLE;
@@ -494,7 +481,6 @@ OBJECT Report 393 Suggest Vendor Payments
       SummarizePerDimTextEnable@19039578 : Boolean INDATASET;
       Text025@1063 : TextConst 'ENU=The %1 with the number %2 has a %3 with the number %4.';
       ShowPostingDateWarning@1119 : Boolean;
-      VendorBalance@1065 : Decimal;
       ReplacePostingDateMsg@1064 : TextConst 'ENU=For one or more entries, the requested posting date is before the work date.\\These posting dates will use the work date.';
       PmtDiscUnavailableErr@1067 : TextConst 'ENU=You cannot use Find Payment Discounts or Summarize per Vendor together with Calculate Posting Date from Applies-to-Doc. Due Date, because the resulting posting date might not match the payment discount date.';
       SkipExportedPayments@1019 : Boolean;
@@ -1086,6 +1072,29 @@ OBJECT Report 393 Suggest Vendor Payments
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     20.11.2015    px.jgl  P4BB    Fix for support case 115112013399955:
+                                              Fix for payment discount / credit memo issue in NAV2013+:
+                                              https://community.dynamics.com/nav/f/34/p/181764/453903#453903
+                                              Basically, the payable result set is in some cases being cleaned before all possible
+                                              entries that contribute to the balance are collected. This leads to strange results.
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0000000595.txt b/report/report_0000000595.txt
index 46abd39..f3c4645 100644
--- a/report/report_0000000595.txt
+++ b/report/report_0000000595.txt
@@ -4,7 +4,7 @@ OBJECT Report 595 Adjust Exchange Rates
   {
     Date=26.01.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20348;
+    Version List=NAVW111.00.00.20348,P4TC3.00;
   }
   PROPERTIES
   {
@@ -17,6 +17,9 @@ OBJECT Report 595 Adjust Exchange Rates
     CaptionML=ENU=Adjust Exchange Rates;
     ProcessingOnly=Yes;
     OnPreReport=BEGIN
+                  //OS001s os.jgl
+                  ERROR(Text5274200);
+                  //OS001e os.jgl
                   IF EndDateReq = 0D THEN
                     EndDate := DMY2DATE(31,12,9999)
                   ELSE
@@ -39,10 +42,10 @@ OBJECT Report 595 Adjust Exchange Rates
 
                     Currency3.GET(GLSetup."Additional Reporting Currency");
                     "G/L Account".GET(Currency3.GetRealizedGLGainsAccount);
-                    "G/L Account".TESTFIELD("Exchange Rate Adjustment","G/L Account"."Exchange Rate Adjustment"::"No Adjustment");
+                    "G/L Account".TESTFIELD("ACY Exchange Rate Adjustment","G/L Account"."ACY Exchange Rate Adjustment"::"No Adjustment");
 
                     "G/L Account".GET(Currency3.GetRealizedGLLossesAccount);
-                    "G/L Account".TESTFIELD("Exchange Rate Adjustment","G/L Account"."Exchange Rate Adjustment"::"No Adjustment");
+                    "G/L Account".TESTFIELD("ACY Exchange Rate Adjustment","G/L Account"."ACY Exchange Rate Adjustment"::"No Adjustment");
 
                     WITH VATPostingSetup2 DO
                       IF FIND('-') THEN
@@ -560,7 +563,7 @@ OBJECT Report 595 Adjust Exchange Rates
     { 6710;    ;DataItem;                    ;
                DataItemTable=Table15;
                DataItemTableView=SORTING(No.)
-                                 WHERE(Exchange Rate Adjustment=FILTER(Adjust Amount..Adjust Additional-Currency Amount));
+                                 WHERE(ACY Exchange Rate Adjustment=FILTER(Adjust Amount..Adjust Additional-Currency Amount));
                OnPreDataItem=BEGIN
                                IF NOT AdjGLAcc THEN
                                  CurrReport.BREAK;
@@ -576,16 +579,16 @@ OBJECT Report 595 Adjust Exchange Rates
                OnAfterGetRecord=BEGIN
                                   GLAccNo := GLAccNo + 1;
                                   Window.UPDATE(1,ROUND(GLAccNo / GLAccNoTotal * 10000,1));
-                                  IF "Exchange Rate Adjustment" = "Exchange Rate Adjustment"::"No Adjustment" THEN
+                                  IF "ACY Exchange Rate Adjustment" = "ACY Exchange Rate Adjustment"::"No Adjustment" THEN
                                     CurrReport.SKIP;
 
                                   TempDimSetEntry.RESET;
                                   TempDimSetEntry.DELETEALL;
                                   CALCFIELDS("Net Change","Additional-Currency Net Change");
-                                  CASE "Exchange Rate Adjustment" OF
-                                    "Exchange Rate Adjustment"::"Adjust Amount":
+                                  CASE "ACY Exchange Rate Adjustment" OF
+                                    "ACY Exchange Rate Adjustment"::"Adjust Amount":
                                       PostGLAccAdjmt(
-                                        "No.","Exchange Rate Adjustment"::"Adjust Amount",
+                                        "No.","ACY Exchange Rate Adjustment"::"Adjust Amount",
                                         ROUND(
                                           CurrExchRate2.ExchangeAmtFCYToLCYAdjmt(
                                             PostingDate,GLSetup."Additional Reporting Currency",
@@ -593,9 +596,9 @@ OBJECT Report 595 Adjust Exchange Rates
                                           "Net Change"),
                                         "Net Change",
                                         "Additional-Currency Net Change");
-                                    "Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
+                                    "ACY Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
                                       PostGLAccAdjmt(
-                                        "No.","Exchange Rate Adjustment"::"Adjust Additional-Currency Amount",
+                                        "No.","ACY Exchange Rate Adjustment"::"Adjust Additional-Currency Amount",
                                         ROUND(
                                           CurrExchRate2.ExchangeAmtLCYToFCY(
                                             PostingDate,GLSetup."Additional Reporting Currency",
@@ -675,6 +678,9 @@ OBJECT Report 595 Adjust Exchange Rates
     {
       SaveValues=Yes;
       OnOpenPage=BEGIN
+                   //OS001s os.jgl
+                   ERROR(Text5274200);
+                   //OS001e os.jgl
                    IF PostingDescription = '' THEN
                      PostingDescription := Text016;
                    IF NOT (AdjCustVendBank OR AdjGLAcc) THEN
@@ -855,6 +861,8 @@ OBJECT Report 595 Adjust Exchange Rates
       TotalCustomersAdjusted@1093 : Integer;
       TotalVendorsAdjusted@1094 : Integer;
       TotalGLAccountsAdjusted@1095 : Integer;
+      Text5274104@1099 : TextConst;
+      Text5274200@1097 : TextConst 'ENU=This report is not ready for Plexada TransactionCurrency. Please use report 5274203 instead.';
 
     LOCAL PROCEDURE PostAdjmt@1(GLAccNo@1000 : Code[20];PostingAmount@1001 : Decimal;AdjBase2@1002 : Decimal;CurrencyCode2@1003 : Code[10];VAR DimSetEntry@1004 : Record 480;PostingDate2@1005 : Date;ICCode@1006 : Code[20]) TransactionNo : Integer;
     BEGIN
@@ -1230,7 +1238,7 @@ OBJECT Report 595 Adjust Exchange Rates
     BEGIN
       GenJnlLine.INIT;
       CASE ExchRateAdjmt OF
-        "G/L Account"."Exchange Rate Adjustment"::"Adjust Amount":
+        "G/L Account"."ACY Exchange Rate Adjustment"::"Adjust Amount":
           BEGIN
             GenJnlLine."Additional-Currency Posting" := GenJnlLine."Additional-Currency Posting"::"Amount Only";
             GenJnlLine."Currency Code" := '';
@@ -1240,7 +1248,7 @@ OBJECT Report 595 Adjust Exchange Rates
             GLAddCurrNetChangeTotal := GLAddCurrNetChangeTotal + AddCurrNetChange;
             GLNetChangeBase := GLNetChangeBase + NetChange;
           END;
-        "G/L Account"."Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
+        "G/L Account"."ACY Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
           BEGIN
             GenJnlLine."Additional-Currency Posting" := GenJnlLine."Additional-Currency Posting"::"Additional-Currency Amount Only";
             GenJnlLine."Currency Code" := GLSetup."Additional Reporting Currency";
@@ -1285,12 +1293,12 @@ OBJECT Report 595 Adjust Exchange Rates
       IF AccNo = '' THEN
         EXIT;
       GLAcc.GET(AccNo);
-      IF GLAcc."Exchange Rate Adjustment" <> GLAcc."Exchange Rate Adjustment"::"No Adjustment" THEN BEGIN
-        GLAcc."Exchange Rate Adjustment" := GLAcc."Exchange Rate Adjustment"::"No Adjustment";
+      IF GLAcc."ACY Exchange Rate Adjustment" <> GLAcc."ACY Exchange Rate Adjustment"::"No Adjustment" THEN BEGIN
+        GLAcc."ACY Exchange Rate Adjustment" := GLAcc."ACY Exchange Rate Adjustment"::"No Adjustment";
         ERROR(
           Text017,
-          GLAcc.FIELDCAPTION("Exchange Rate Adjustment"),GLAcc.TABLECAPTION,
-          GLAcc."No.",GLAcc."Exchange Rate Adjustment",
+          GLAcc.FIELDCAPTION("ACY Exchange Rate Adjustment"),GLAcc.TABLECAPTION,
+          GLAcc."No.",GLAcc."ACY Exchange Rate Adjustment",
           SetupTableName,GLSetup.FIELDCAPTION("VAT Exchange Rate Adjustment"),
           GLSetup.TABLECAPTION,SetupFieldName);
       END;
@@ -1835,6 +1843,25 @@ OBJECT Report 595 Adjust Exchange Rates
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     09.05.2011    os.jgl  SITC    disable standard report, setup hint to SITC report 5274203
+    }
     END.
   }
   RDLDATA
diff --git a/report/report_0005274200.txt b/report/report_0005274200.txt
new file mode 100644
index 0000000..c592902
--- /dev/null
+++ b/report/report_0005274200.txt
@@ -0,0 +1,4375 @@
+OBJECT Report 5274200 Detail Trial Balance P4TC
+{
+  OBJECT-PROPERTIES
+  {
+    Date=03.08.18;
+    Time=12:00:00;
+    Version List=NAVW111.00.00.21836,P4TC3.02;
+  }
+  PROPERTIES
+  {
+    CaptionML=ENU=Detail Trial Balance with currency;
+    OnPreReport=BEGIN
+                  GLFilter := "G/L Account".GETFILTERS;
+                  GLDateFilter := "G/L Account".GETFILTER("Date Filter");
+                END;
+
+  }
+  DATASET
+  {
+    { 6710;    ;DataItem;                    ;
+               DataItemTable=Table15;
+               DataItemTableView=WHERE(Account Type=CONST(Posting));
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               PageGroupNo := 1;
+
+                               CurrReport.NEWPAGEPERRECORD := PrintOnlyOnePerPage;
+
+                               //OS001s os.jgl
+                               FCYGLEntry.SETCURRENTKEY("G/L Account No.","Currency Code","Posting Date");
+                               FCYGLEntry.SETFILTER("Posting Date",GLDateFilter);
+                               //OS001e os.jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  StartBalance := 0;
+                                  //OS001s os.jgl
+                                  StartBalanceFCY :=0;
+                                  FCYCount:=0;
+                                  //OS002s os.jgl
+                                  FCYValid:=FALSE;
+                                  //OS002e os.jgl
+                                  //check if this is a valid FCY balance - only one currency with Amount (FCY) <>0
+                                  IF "Income/Balance"="Income/Balance"::"Balance Sheet" THEN BEGIN
+                                    FCYValid:=TRUE;
+                                    FCYGLEntry.SETRANGE("G/L Account No.","No.");
+                                    IF FCYGLEntry.FIND('-') THEN BEGIN
+                                      REPEAT
+                                        FCYCount+=1;
+                                        FCYGLEntry.SETRANGE("Currency Code",FCYGLEntry."Currency Code");
+                                        FCYGLEntry.CALCSUMS("Amount (FCY)");
+                                        FCYValid:=FCYValid AND ((FCYGLEntry."Amount (FCY)" = 0) OR (FCYGLEntry."Currency Code" = "G/L Account"."Currency Code") OR
+                                         (FCYCount=1));
+                                        IF FCYValid THEN
+                                          "G/L Account"."Currency Code" := FCYGLEntry."Currency Code";
+                                        FCYGLEntry.FIND('+');
+                                        FCYGLEntry.SETRANGE("Currency Code");
+                                      UNTIL (FCYGLEntry.NEXT=0) OR NOT FCYValid;
+                                    END;
+                                  END ELSE
+                                    "G/L Account"."Currency Code" := '';
+                                  //OS001e os.jgl
+                                  IF GLDateFilter <> '' THEN
+                                    IF GETRANGEMIN("Date Filter") <> 0D THEN BEGIN
+                                      SETRANGE("Date Filter",0D,CLOSINGDATE(GETRANGEMIN("Date Filter") - 1));
+                                      //OS001s os.jgl
+                                      CALCFIELDS("Net Change","Net Change (FCY)");
+                                      IF FCYValid THEN
+                                        StartBalanceFCY := "Net Change (FCY)";
+                                      //OS001e os.jgl
+                                      StartBalance := "Net Change";
+                                      SETFILTER("Date Filter",GLDateFilter);
+                                    END;
+
+                                  IF PrintOnlyOnePerPage THEN BEGIN
+                                    GLEntryPage.RESET;
+                                    GLEntryPage.SETRANGE("G/L Account No.","No.");
+                                    IF CurrReport.PRINTONLYIFDETAIL AND GLEntryPage.FINDFIRST THEN
+                                      PageGroupNo := PageGroupNo + 1;
+                                  END;
+                                END;
+
+               ReqFilterFields=No.,Search Name,Income/Balance,Debit/Credit,Date Filter }
+
+    { 3   ;1   ;Column  ;PeriodGLDtFilter    ;
+               SourceExpr=STRSUBSTNO(Text000,GLDateFilter) }
+
+    { 6   ;1   ;Column  ;CompanyName         ;
+               SourceExpr=COMPANYPROPERTY.DISPLAYNAME }
+
+    { 49  ;1   ;Column  ;ExcludeBalanceOnly  ;
+               SourceExpr=ExcludeBalanceOnly }
+
+    { 54  ;1   ;Column  ;PrintReversedEntries;
+               SourceExpr=PrintReversedEntries }
+
+    { 50  ;1   ;Column  ;PageGroupNo         ;
+               SourceExpr=PageGroupNo }
+
+    { 51  ;1   ;Column  ;PrintClosingEntries ;
+               SourceExpr=PrintClosingEntries }
+
+    { 52  ;1   ;Column  ;PrintOnlyCorrections;
+               SourceExpr=PrintOnlyCorrections }
+
+    { 10  ;1   ;Column  ;GLAccTableCaption   ;
+               SourceExpr=TABLECAPTION + ': ' + GLFilter }
+
+    { 48  ;1   ;Column  ;GLFilter            ;
+               SourceExpr=GLFilter }
+
+    { 12  ;1   ;Column  ;EmptyString         ;
+               SourceExpr='' }
+
+    { 61  ;1   ;Column  ;No_GLAcc            ;
+               SourceExpr="No." }
+
+    { 1   ;1   ;Column  ;DetailTrialBalCaption;
+               SourceExpr=DetailTrialBalCaptionLbl }
+
+    { 4   ;1   ;Column  ;PageCaption         ;
+               SourceExpr=PageCaptionLbl }
+
+    { 8   ;1   ;Column  ;BalanceCaption      ;
+               SourceExpr=BalanceCaptionLbl }
+
+    { 9   ;1   ;Column  ;PeriodCaption       ;
+               SourceExpr=PeriodCaptionLbl }
+
+    { 47  ;1   ;Column  ;OnlyCorrectionsCaption;
+               SourceExpr=OnlyCorrectionsCaptionLbl }
+
+    { 11  ;1   ;Column  ;NetChangeCaption    ;
+               SourceExpr=NetChangeCaptionLbl }
+
+    { 17  ;1   ;Column  ;GLEntryDebitAmtCaption;
+               SourceExpr=GLEntryDebitAmtCaptionLbl }
+
+    { 18  ;1   ;Column  ;GLEntryCreditAmtCaption;
+               SourceExpr=GLEntryCreditAmtCaptionLbl }
+
+    { 19  ;1   ;Column  ;GLBalCaption        ;
+               SourceExpr=GLBalCaptionLbl }
+
+    { 119451027;1;Column;GLEntryDebitAmtFCYCaption;
+               SourceExpr=GLEntryDebitAmtFCYCaptionLbl }
+
+    { 119451028;1;Column;GLEntryCreditAmtFCYCaption;
+               SourceExpr=GLEntryCreditAmtFCYCaptionLbl }
+
+    { 119451029;1;Column;GLBalFCYCaption     ;
+               SourceExpr=GLBalFCYCaptionLbl }
+
+    { 119451030;1;Column;CurrencyCodeCaption ;
+               SourceExpr=CurrencyCodeCaptionLbl }
+
+    { 119451032;1;Column;FCYValid_GLAcc      ;
+               SourceExpr=FCYValid }
+
+    { 119451036;1;Column;NetChangeFCYCaption ;
+               SourceExpr=NetChangeFCYCaptionLbl }
+
+    { 8098;1   ;DataItem;PageCounter         ;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number)
+                                 WHERE(Number=CONST(1));
+               OnAfterGetRecord=BEGIN
+                                  CurrReport.PRINTONLYIFDETAIL := ExcludeBalanceOnly OR (StartBalance = 0);
+                                END;
+                                 }
+
+    { 22  ;2   ;Column  ;Name_GLAcc          ;
+               SourceExpr="G/L Account".Name }
+
+    { 23  ;2   ;Column  ;StartBalance        ;
+               SourceExpr=StartBalance;
+               AutoFormatType=1 }
+
+    { 119451024;2;Column;StartBalanceFCY     ;
+               SourceExpr=StartBalanceFCY }
+
+    { 119451025;2;Column;CurrencyCode_GLAcc  ;
+               SourceExpr="G/L Account"."Currency Code" }
+
+    { 7069;2   ;DataItem;                    ;
+               DataItemTable=Table17;
+               DataItemTableView=SORTING(G/L Account No.,Posting Date);
+               OnPreDataItem=BEGIN
+                               GLBalance := StartBalance;
+                               //OS001s jgl
+                               GLBalanceFCY := StartBalanceFCY;
+                               //OS001e jgl
+                               CurrReport.CREATETOTALS(Amount,"Debit Amount","Credit Amount","VAT Amount");
+                               //OS001s jgl
+                               CurrReport.CREATETOTALS("Amount (FCY)","Debit Amount (FCY)","Credit Amount (FCY)","VAT Amount (FCY)");
+                               //OS001e jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  IF PrintOnlyCorrections THEN
+                                    IF NOT (("Debit Amount" < 0) OR ("Credit Amount" < 0)) THEN
+                                      CurrReport.SKIP;
+                                  IF NOT PrintReversedEntries AND Reversed THEN
+                                    CurrReport.SKIP;
+
+                                  GLBalance := GLBalance + Amount;
+                                  //OS001s jgl
+                                  IF FCYValid THEN
+                                    GLBalanceFCY:=GLBalanceFCY+"Amount (FCY)"
+                                  ELSE
+                                    GLBalanceFCY:="Amount (FCY)";
+                                  //OS001e jgl
+                                  IF ("Posting Date" = CLOSINGDATE("Posting Date")) AND
+                                     NOT PrintClosingEntries
+                                  THEN BEGIN
+                                    "Debit Amount" := 0;
+                                    "Credit Amount" := 0;
+                                    //OS001s jgl
+                                    "Debit Amount (FCY)" := 0;
+                                    "Credit Amount (FCY)" := 0;
+                                    //OS001e jgl
+                                  END;
+
+                                  IF "Posting Date" = CLOSINGDATE("Posting Date") THEN
+                                    ClosingEntry := TRUE
+                                  ELSE
+                                    ClosingEntry := FALSE;
+                                END;
+
+               DataItemLinkReference=G/L Account;
+               DataItemLink=G/L Account No.=FIELD(No.),
+                            Posting Date=FIELD(Date Filter),
+                            Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
+                            Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                            Business Unit Code=FIELD(Business Unit Filter) }
+
+    { 25  ;3   ;Column  ;VATAmount_GLEntry   ;
+               IncludeCaption=Yes;
+               SourceExpr="VAT Amount" }
+
+    { 26  ;3   ;Column  ;DebitAmount_GLEntry ;
+               SourceExpr="Debit Amount" }
+
+    { 27  ;3   ;Column  ;CreditAmount_GLEntry;
+               SourceExpr="Credit Amount" }
+
+    { 29  ;3   ;Column  ;PostingDate_GLEntry ;
+               SourceExpr=FORMAT("Posting Date") }
+
+    { 30  ;3   ;Column  ;DocumentNo_GLEntry  ;
+               SourceExpr="Document No." }
+
+    { 15  ;3   ;Column  ;ExtDocNo_GLEntry    ;
+               IncludeCaption=Yes;
+               SourceExpr="External Document No." }
+
+    { 31  ;3   ;Column  ;Description_GLEntry ;
+               SourceExpr=Description }
+
+    { 35  ;3   ;Column  ;GLBalance           ;
+               SourceExpr=GLBalance;
+               AutoFormatType=1 }
+
+    { 36  ;3   ;Column  ;EntryNo_GLEntry     ;
+               SourceExpr="Entry No." }
+
+    { 55  ;3   ;Column  ;ClosingEntry        ;
+               SourceExpr=ClosingEntry }
+
+    { 56  ;3   ;Column  ;Reversed_GLEntry    ;
+               SourceExpr=Reversed }
+
+    { 119451021;3;Column;DebitAmountFCY_GLEntry;
+               SourceExpr="Debit Amount (FCY)" }
+
+    { 119451022;3;Column;CreditAmountFCY_GLEntry;
+               SourceExpr="Credit Amount (FCY)" }
+
+    { 119451023;3;Column;VATAmountFCY_GLEntry;
+               IncludeCaption=Yes;
+               SourceExpr="VAT Amount (FCY)" }
+
+    { 119451026;3;Column;CurrencyCode_GLEntry;
+               SourceExpr="Currency Code" }
+
+    { 119451031;3;Column;GLBalanceFCY        ;
+               SourceExpr=GLBalanceFCY }
+
+  }
+  REQUESTPAGE
+  {
+    PROPERTIES
+    {
+      SaveValues=Yes;
+    }
+    CONTROLS
+    {
+      { 1900000001;0;Container;
+                  ContainerType=ContentArea }
+
+      { 1900000002;1;Group  ;
+                  CaptionML=ENU=Options }
+
+      { 1   ;2   ;Field     ;
+                  Name=NewPageperGLAcc;
+                  CaptionML=ENU=New Page per G/L Acc.;
+                  ToolTipML=ENU=Specifies if each G/L account information is printed on a new page if you have chosen two or more G/L accounts to be included in the report.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PrintOnlyOnePerPage }
+
+      { 2   ;2   ;Field     ;
+                  Name=ExcludeGLAccsHaveBalanceOnly;
+                  CaptionML=ENU=Exclude G/L Accs. That Have a Balance Only;
+                  ToolTipML=ENU=Specifies if you do not want the report to include entries for G/L accounts that have a balance but do not have a net change during the selected time period.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=ExcludeBalanceOnly;
+                  MultiLine=Yes }
+
+      { 3   ;2   ;Field     ;
+                  Name=InclClosingEntriesWithinPeriod;
+                  CaptionML=ENU=Include Closing Entries Within the Period;
+                  ToolTipML=ENU=Specifies if you want the report to include closing entries. This is useful if the report covers an entire fiscal year. Closing entries are listed on a fictitious date between the last day of one fiscal year and the first day of the next one. They have a C before the date, such as C123194. If you do not select this field, no closing entries are shown.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PrintClosingEntries;
+                  MultiLine=Yes }
+
+      { 6   ;2   ;Field     ;
+                  Name=IncludeReversedEntries;
+                  CaptionML=ENU=Include Reversed Entries;
+                  ToolTipML=ENU=Specifies if you want to include reversed entries in the report.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PrintReversedEntries }
+
+      { 4   ;2   ;Field     ;
+                  Name=PrintCorrectionsOnly;
+                  CaptionML=ENU=Print Corrections Only;
+                  ToolTipML=ENU=Specifies if you want the report to show only the entries that have been reversed and their matching correcting entries.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PrintOnlyCorrections }
+
+    }
+  }
+  LABELS
+  {
+    { 2   ;PostingDateCaption  ;CaptionML=ENU=Posting Date }
+    { 5   ;DocNoCaption        ;CaptionML=ENU=Document No. }
+    { 7   ;DescCaption         ;CaptionML=ENU=Description }
+    { 13  ;VATAmtCaption       ;CaptionML=ENU=VAT Amount }
+    { 14  ;EntryNoCaption      ;CaptionML=ENU=Entry No. }
+    { 119451033;VATAmtFCYCaption;
+                                CaptionML=ENU=VAT Amount (FCY) }
+    { 119451034;GLEntryCurrencyCodeCaption;
+                                CaptionML=ENU=Currency Code }
+  }
+  CODE
+  {
+    VAR
+      Text000@1000 : TextConst 'ENU=Period: %1';
+      FCYGLEntry@119451026 : Record 17;
+      GLDateFilter@1001 : Text[30];
+      GLFilter@1002 : Text;
+      GLBalance@1003 : Decimal;
+      StartBalance@1004 : Decimal;
+      GLBalanceFCY@119451025 : Decimal;
+      StartBalanceFCY@119451024 : Decimal;
+      FCYBalanceField@119451023 : Decimal;
+      PrintOnlyOnePerPage@1005 : Boolean;
+      ExcludeBalanceOnly@1006 : Boolean;
+      PrintClosingEntries@1007 : Boolean;
+      PrintOnlyCorrections@1008 : Boolean;
+      PrintReversedEntries@1009 : Boolean;
+      PageGroupNo@1010 : Integer;
+      GLEntryPage@1011 : Record 17;
+      FCYCount@119451022 : Integer;
+      ClosingEntry@1012 : Boolean;
+      DetailTrialBalCaptionLbl@5948 : TextConst 'ENU=Detail Trial Balance';
+      PageCaptionLbl@6215 : TextConst 'ENU=Page';
+      BalanceCaptionLbl@6364 : TextConst 'ENU=This also includes general ledger accounts that only have a balance.';
+      PeriodCaptionLbl@7978 : TextConst 'ENU=This report also includes closing entries within the period.';
+      OnlyCorrectionsCaptionLbl@1160 : TextConst 'ENU=Only corrections are included.';
+      NetChangeCaptionLbl@2192 : TextConst 'ENU=Net Change';
+      GLEntryDebitAmtCaptionLbl@3560 : TextConst 'ENU=Debit';
+      GLEntryCreditAmtCaptionLbl@4092 : TextConst 'ENU=Credit';
+      GLBalCaptionLbl@2356 : TextConst 'ENU=Balance';
+      FCYValid@119451021 : Boolean;
+      GLEntryDebitAmtFCYCaptionLbl@119451030 : TextConst 'ENU=Debit (FCY)';
+      GLEntryCreditAmtFCYCaptionLbl@119451029 : TextConst 'ENU=Credit (FCY)';
+      GLBalFCYCaptionLbl@119451028 : TextConst 'ENU=Balance (FCY)';
+      CurrencyCodeCaptionLbl@119451031 : TextConst 'ENU=Currency Code';
+      NetChangeFCYCaptionLbl@119451032 : TextConst 'ENU=Net Change (FCY)';
+
+    PROCEDURE InitializeRequest@1(NewPrintOnlyOnePerPage@1000 : Boolean;NewExcludeBalanceOnly@1001 : Boolean;NewPrintClosingEntries@1002 : Boolean;NewPrintReversedEntries@1003 : Boolean;NewPrintOnlyCorrections@1004 : Boolean);
+    BEGIN
+      PrintOnlyOnePerPage := NewPrintOnlyOnePerPage;
+      ExcludeBalanceOnly := NewExcludeBalanceOnly;
+      PrintClosingEntries := NewPrintClosingEntries;
+      PrintReversedEntries := NewPrintReversedEntries;
+      PrintOnlyCorrections := NewPrintOnlyCorrections;
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.02             03.08.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     03.01.2011    os.jgl  SITC    Show currency and amount in currency
+                                              This is a modified copy of report 4 "Detail Trial Balance"
+      OS002     06.05.2011    os.jgl  SITC    adjusted RDL Layout
+                                              Bugfix for FCYValid
+      OS003     08.05.2011    os.jgl  SITC    Adjusted RDL layout for landscape printing
+      PX004     07.04.2018    px.jgl  P4TC    Update to base NAV2018 NAVW111.00 (R4)
+      PX005     03.08.2018    px.jgl  P4TC    Update to base NAV2018 NAVW111.00.00.21836 (R4)
+    }
+    END.
+  }
+  RDLDATA
+  {
+    <?xml version="1.0" encoding="utf-8"?>
+<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2016/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
+  <AutoRefresh>0</AutoRefresh>
+  <DataSources>
+    <DataSource Name="DataSource">
+      <ConnectionProperties>
+        <DataProvider>SQL</DataProvider>
+        <ConnectString />
+      </ConnectionProperties>
+      <rd:SecurityType>None</rd:SecurityType>
+      <rd:DataSourceID>32e6a80d-4023-4971-91fe-1ffaaaf7d6e2</rd:DataSourceID>
+    </DataSource>
+  </DataSources>
+  <DataSets>
+    <DataSet Name="DataSet_Result">
+      <Query>
+        <DataSourceName>DataSource</DataSourceName>
+        <CommandText />
+      </Query>
+      <Fields>
+        <Field Name="PeriodGLDtFilter">
+          <DataField>PeriodGLDtFilter</DataField>
+        </Field>
+        <Field Name="CompanyName">
+          <DataField>CompanyName</DataField>
+        </Field>
+        <Field Name="ExcludeBalanceOnly">
+          <DataField>ExcludeBalanceOnly</DataField>
+        </Field>
+        <Field Name="PrintReversedEntries">
+          <DataField>PrintReversedEntries</DataField>
+        </Field>
+        <Field Name="PageGroupNo">
+          <DataField>PageGroupNo</DataField>
+        </Field>
+        <Field Name="PrintClosingEntries">
+          <DataField>PrintClosingEntries</DataField>
+        </Field>
+        <Field Name="PrintOnlyCorrections">
+          <DataField>PrintOnlyCorrections</DataField>
+        </Field>
+        <Field Name="GLAccTableCaption">
+          <DataField>GLAccTableCaption</DataField>
+        </Field>
+        <Field Name="GLFilter">
+          <DataField>GLFilter</DataField>
+        </Field>
+        <Field Name="EmptyString">
+          <DataField>EmptyString</DataField>
+        </Field>
+        <Field Name="No_GLAcc">
+          <DataField>No_GLAcc</DataField>
+        </Field>
+        <Field Name="DetailTrialBalCaption">
+          <DataField>DetailTrialBalCaption</DataField>
+        </Field>
+        <Field Name="PageCaption">
+          <DataField>PageCaption</DataField>
+        </Field>
+        <Field Name="BalanceCaption">
+          <DataField>BalanceCaption</DataField>
+        </Field>
+        <Field Name="PeriodCaption">
+          <DataField>PeriodCaption</DataField>
+        </Field>
+        <Field Name="OnlyCorrectionsCaption">
+          <DataField>OnlyCorrectionsCaption</DataField>
+        </Field>
+        <Field Name="NetChangeCaption">
+          <DataField>NetChangeCaption</DataField>
+        </Field>
+        <Field Name="GLEntryDebitAmtCaption">
+          <DataField>GLEntryDebitAmtCaption</DataField>
+        </Field>
+        <Field Name="GLEntryCreditAmtCaption">
+          <DataField>GLEntryCreditAmtCaption</DataField>
+        </Field>
+        <Field Name="GLBalCaption">
+          <DataField>GLBalCaption</DataField>
+        </Field>
+        <Field Name="GLEntryDebitAmtFCYCaption">
+          <DataField>GLEntryDebitAmtFCYCaption</DataField>
+        </Field>
+        <Field Name="GLEntryCreditAmtFCYCaption">
+          <DataField>GLEntryCreditAmtFCYCaption</DataField>
+        </Field>
+        <Field Name="GLBalFCYCaption">
+          <DataField>GLBalFCYCaption</DataField>
+        </Field>
+        <Field Name="CurrencyCodeCaption">
+          <DataField>CurrencyCodeCaption</DataField>
+        </Field>
+        <Field Name="FCYValid_GLAcc">
+          <DataField>FCYValid_GLAcc</DataField>
+        </Field>
+        <Field Name="NetChangeFCYCaption">
+          <DataField>NetChangeFCYCaption</DataField>
+        </Field>
+        <Field Name="Name_GLAcc">
+          <DataField>Name_GLAcc</DataField>
+        </Field>
+        <Field Name="StartBalance">
+          <DataField>StartBalance</DataField>
+        </Field>
+        <Field Name="StartBalanceFormat">
+          <DataField>StartBalanceFormat</DataField>
+        </Field>
+        <Field Name="StartBalanceFCY">
+          <DataField>StartBalanceFCY</DataField>
+        </Field>
+        <Field Name="StartBalanceFCYFormat">
+          <DataField>StartBalanceFCYFormat</DataField>
+        </Field>
+        <Field Name="CurrencyCode_GLAcc">
+          <DataField>CurrencyCode_GLAcc</DataField>
+        </Field>
+        <Field Name="VATAmount_GLEntry">
+          <DataField>VATAmount_GLEntry</DataField>
+        </Field>
+        <Field Name="VATAmount_GLEntryFormat">
+          <DataField>VATAmount_GLEntryFormat</DataField>
+        </Field>
+        <Field Name="DebitAmount_GLEntry">
+          <DataField>DebitAmount_GLEntry</DataField>
+        </Field>
+        <Field Name="DebitAmount_GLEntryFormat">
+          <DataField>DebitAmount_GLEntryFormat</DataField>
+        </Field>
+        <Field Name="CreditAmount_GLEntry">
+          <DataField>CreditAmount_GLEntry</DataField>
+        </Field>
+        <Field Name="CreditAmount_GLEntryFormat">
+          <DataField>CreditAmount_GLEntryFormat</DataField>
+        </Field>
+        <Field Name="PostingDate_GLEntry">
+          <DataField>PostingDate_GLEntry</DataField>
+        </Field>
+        <Field Name="DocumentNo_GLEntry">
+          <DataField>DocumentNo_GLEntry</DataField>
+        </Field>
+        <Field Name="Description_GLEntry">
+          <DataField>Description_GLEntry</DataField>
+        </Field>
+        <Field Name="GLBalance">
+          <DataField>GLBalance</DataField>
+        </Field>
+        <Field Name="GLBalanceFormat">
+          <DataField>GLBalanceFormat</DataField>
+        </Field>
+        <Field Name="EntryNo_GLEntry">
+          <DataField>EntryNo_GLEntry</DataField>
+        </Field>
+        <Field Name="ClosingEntry">
+          <DataField>ClosingEntry</DataField>
+        </Field>
+        <Field Name="Reversed_GLEntry">
+          <DataField>Reversed_GLEntry</DataField>
+        </Field>
+        <Field Name="DebitAmountFCY_GLEntry">
+          <DataField>DebitAmountFCY_GLEntry</DataField>
+        </Field>
+        <Field Name="DebitAmountFCY_GLEntryFormat">
+          <DataField>DebitAmountFCY_GLEntryFormat</DataField>
+        </Field>
+        <Field Name="CreditAmountFCY_GLEntry">
+          <DataField>CreditAmountFCY_GLEntry</DataField>
+        </Field>
+        <Field Name="CreditAmountFCY_GLEntryFormat">
+          <DataField>CreditAmountFCY_GLEntryFormat</DataField>
+        </Field>
+        <Field Name="VATAmountFCY_GLEntry">
+          <DataField>VATAmountFCY_GLEntry</DataField>
+        </Field>
+        <Field Name="VATAmountFCY_GLEntryFormat">
+          <DataField>VATAmountFCY_GLEntryFormat</DataField>
+        </Field>
+        <Field Name="CurrencyCode_GLEntry">
+          <DataField>CurrencyCode_GLEntry</DataField>
+        </Field>
+        <Field Name="GLBalanceFCY">
+          <DataField>GLBalanceFCY</DataField>
+        </Field>
+        <Field Name="GLBalanceFCYFormat">
+          <DataField>GLBalanceFCYFormat</DataField>
+        </Field>
+      </Fields>
+      <rd:DataSetInfo>
+        <rd:DataSetName>DataSet</rd:DataSetName>
+        <rd:SchemaPath>Report.xsd</rd:SchemaPath>
+        <rd:TableName>Result</rd:TableName>
+      </rd:DataSetInfo>
+    </DataSet>
+  </DataSets>
+  <ReportSections>
+    <ReportSection>
+      <Body>
+        <ReportItems>
+          <Tablix Name="TableGLEntry">
+            <TablixBody>
+              <TablixColumns>
+                <TablixColumn>
+                  <Width>1.76654cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.06654cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>4.06657cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.6cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.06654cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.06654cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.36657cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.3cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.6cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.06654cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.06654cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.36657cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.73424cm</Width>
+                </TablixColumn>
+              </TablixColumns>
+              <TablixRows>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox1">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>73</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox111">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>72</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox12">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>71</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox26">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox26</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox23">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox23</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="NetChangeCaption2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!NetChangeFCYCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Center</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>69</ZIndex>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>2</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox55">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox55</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox44">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox44</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox13">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>70</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="NetChangeCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!NetChangeCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Center</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>69</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>2</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox15">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>68</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox16">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>67</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox19">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>63</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox110">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>62</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox1112">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>61</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox38">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox38</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox24">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox24</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="EmptyString2">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(First(Fields!EmptyString.Value)="","...............................................................",First(Fields!EmptyString.Value))</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Center</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>59</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>2</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox56">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox56</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox46">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox46</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox112">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>60</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="EmptyString">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(First(Fields!EmptyString.Value)="","...............................................................",First(Fields!EmptyString.Value))</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Center</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>59</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>2</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox114">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>58</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox115">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>57</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryPostingDateCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Parameters!PostingDateCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Left</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>53</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDocumentNoCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Parameters!DocNoCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>52</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDescriptionCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Parameters!DescCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>51</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox39">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Parameters!GLEntryCurrencyCodeCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox39</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryVATAmountControl32Caption2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Parameters!VATAmtFCYCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>50</ZIndex>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDebitAmountControl33Caption2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!GLEntryDebitAmtFCYCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>49</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryCreditAmountControl34Caption2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!GLEntryCreditAmtFCYCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>48</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLBalanceCaption2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!GLBalFCYCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>47</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox49">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox49</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryVATAmountControl32Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Parameters!VATAmtCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>50</ZIndex>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDebitAmountControl33Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!GLEntryDebitAmtCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>49</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryCreditAmountControl34Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!GLEntryCreditAmtCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>48</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLBalanceCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!GLBalCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>47</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryEntryNoCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Parameters!EntryNoCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>46</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.17638cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox37">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox37</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>14</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.17638cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox11">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox11</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>14</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox41">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!No_GLAcc.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Left</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>39</ZIndex>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Name_GLAcc.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>38</ZIndex>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>2</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox40">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox40</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox33">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox33</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox43">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox43</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox51">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox51</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox10">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!StartBalanceFCY.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!StartBalanceFCYFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox8</rd:DefaultName>
+                          <ZIndex>34</ZIndex>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox50">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox50</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox5">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox5</rd:DefaultName>
+                          <ZIndex>37</ZIndex>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox6">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox6</rd:DefaultName>
+                          <ZIndex>36</ZIndex>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox7">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox7</rd:DefaultName>
+                          <ZIndex>35</ZIndex>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox8">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!StartBalance.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!StartBalanceFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox8</rd:DefaultName>
+                          <ZIndex>34</ZIndex>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox9">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox9</rd:DefaultName>
+                          <ZIndex>33</ZIndex>
+                          <Style>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryPostingDate">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(Fields!ClosingEntry.Value,"C"+Fields!PostingDate_GLEntry.Value,Fields!PostingDate_GLEntry.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>d</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Left</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>13</ZIndex>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDocumentNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!DocumentNo_GLEntry.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>12</ZIndex>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDescription">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Description_GLEntry.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>11</ZIndex>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="CurrencyCode_GLEntry">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!CurrencyCode_GLEntry.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>CurrencyCode_GLEntry</rd:DefaultName>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryVATAmountControl33">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VATAmountFCY_GLEntry.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!VATAmountFCY_GLEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>10</ZIndex>
+                          <Style>
+                            <Border />
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDebitAmountControl34">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Code.BlankZero(Fields!DebitAmountFCY_GLEntry.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!DebitAmountFCY_GLEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>9</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border />
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryCreditAmountControl35">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Code.BlankZero(Fields!CreditAmountFCY_GLEntry.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!CreditAmountFCY_GLEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>8</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border />
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLBalance2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GLBalanceFCY.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!GLBalanceFCYFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>7</ZIndex>
+                          <Style>
+                            <Border />
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox52">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox52</rd:DefaultName>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryVATAmountControl32">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VATAmount_GLEntry.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!VATAmount_GLEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>10</ZIndex>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryDebitAmountControl33">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Code.BlankZero(Fields!DebitAmount_GLEntry.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!DebitAmount_GLEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>9</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border />
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryCreditAmountControl34">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Code.BlankZero(Fields!CreditAmount_GLEntry.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!CreditAmount_GLEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>8</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border />
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLBalance">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GLBalance.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <Format>=Fields!GLBalanceFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>7</ZIndex>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GLEntryEntryNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!EntryNo_GLEntry.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>6</ZIndex>
+                          <Style>
+                            <BackgroundColor>#efefef</BackgroundColor>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox25">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>0.00;(0.00)</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox25</rd:DefaultName>
+                          <ZIndex>26</ZIndex>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox3">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Name_GLAcc.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>25</ZIndex>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>2</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="CurrencyCode_GLAcc">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(Fields!FCYValid_GLAcc.value=true,Fields!CurrencyCode_GLAcc.Value,"")</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>CurrencyCode_GLAcc</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox33">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(Fields!FCYValid_GLAcc.value=true,IIF((CountDistinct(Fields!VATAmountFCY_GLEntry.Value)=0)and(First(Fields!VATAmountFCY_GLEntry.Value)=0),0,Sum(Fields!VATAmount_GLEntry.Value)),0)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox28</rd:DefaultName>
+                          <ZIndex>24</ZIndex>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox34">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(Fields!FCYValid_GLAcc.value=true,Code.BlankZero(Sum(Fields!DebitAmountFCY_GLEntry.Value)),"")</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox29</rd:DefaultName>
+                          <ZIndex>23</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox35">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(Fields!FCYValid_GLAcc.value=true,Code.BlankZero(Sum(Fields!CreditAmountFCY_GLEntry.Value)),"")</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox30</rd:DefaultName>
+                          <ZIndex>22</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox36">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(Fields!FCYValid_GLAcc.value=true,IIF(Parameters!VATAmountFCY_GLEntryCaption.Value&lt;&gt;"", Last(Fields!GLBalanceFCY.Value),Fields!StartBalanceFCY.Value),"")</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox31</rd:DefaultName>
+                          <ZIndex>21</ZIndex>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox53">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox53</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox28">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF((CountDistinct(Fields!VATAmount_GLEntry.Value)=0)and(First(Fields!VATAmount_GLEntry.Value)=0),0,Sum(Fields!VATAmount_GLEntry.Value))</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox28</rd:DefaultName>
+                          <ZIndex>24</ZIndex>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox29">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Code.BlankZero(Sum(Fields!DebitAmount_GLEntry.Value))</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox29</rd:DefaultName>
+                          <ZIndex>23</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox30">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Code.BlankZero(Sum(Fields!CreditAmount_GLEntry.Value))</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox30</rd:DefaultName>
+                          <ZIndex>22</ZIndex>
+                          <DataElementOutput>NoOutput</DataElementOutput>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox31">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=IIF(Parameters!VATAmount_GLEntryCaption.Value&lt;&gt;"", Last(Fields!GLBalance.Value),Fields!StartBalance.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>="#,##0.00"</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox31</rd:DefaultName>
+                          <ZIndex>21</ZIndex>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox32">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox32</rd:DefaultName>
+                          <ZIndex>20</ZIndex>
+                          <Style>
+                            <Border>
+                              <Color>#cccccc</Color>
+                              <Style>None</Style>
+                            </Border>
+                            <TopBorder>
+                              <Style>Solid</Style>
+                            </TopBorder>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox4">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox4</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox10">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox10</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox14">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox14</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox48">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox48</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox36">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox36</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox47">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox47</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox54">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox54</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox61">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox61</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox57">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox57</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox17">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox17</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox18">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox18</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox20">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox20</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox21">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox21</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox22">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox22</rd:DefaultName>
+                          <Style>
+                            <Border>
+                              <Style>None</Style>
+                            </Border>
+                            <VerticalAlign>Top</VerticalAlign>
+                            <PaddingLeft>5pt</PaddingLeft>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+              </TablixRows>
+            </TablixBody>
+            <TablixColumnHierarchy>
+              <TablixMembers>
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+              </TablixMembers>
+            </TablixColumnHierarchy>
+            <TablixRowHierarchy>
+              <TablixMembers>
+                <TablixMember>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <RepeatOnNewPage>true</RepeatOnNewPage>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+                <TablixMember>
+                  <Visibility>
+                    <Hidden>=IIF(CountRows()=0,TRUE,FALSE)</Hidden>
+                  </Visibility>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <RepeatOnNewPage>true</RepeatOnNewPage>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+                <TablixMember>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <RepeatOnNewPage>true</RepeatOnNewPage>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+                <TablixMember>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <RepeatOnNewPage>true</RepeatOnNewPage>
+                </TablixMember>
+                <TablixMember>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <RepeatOnNewPage>true</RepeatOnNewPage>
+                </TablixMember>
+                <TablixMember>
+                  <Group Name="Table1_Group">
+                    <GroupExpressions>
+                      <GroupExpression>=Fields!PageGroupNo.Value</GroupExpression>
+                    </GroupExpressions>
+                    <PageBreak>
+                      <BreakLocation>Between</BreakLocation>
+                    </PageBreak>
+                  </Group>
+                  <TablixMembers>
+                    <TablixMember>
+                      <Group Name="Table1_Group2">
+                        <GroupExpressions>
+                          <GroupExpression>=Fields!No_GLAcc.Value</GroupExpression>
+                        </GroupExpressions>
+                      </Group>
+                      <TablixMembers>
+                        <TablixMember>
+                          <KeepWithGroup>After</KeepWithGroup>
+                          <KeepTogether>true</KeepTogether>
+                        </TablixMember>
+                        <TablixMember>
+                          <Group Name="Table1_Details_Group">
+                            <DataElementName>Detail</DataElementName>
+                          </Group>
+                          <TablixMembers>
+                            <TablixMember>
+                              <Visibility>
+                                <Hidden>=IIF(((First(Fields!PrintClosingEntries.Value, "Table1_Group2")=FALSE) and Fields!ClosingEntry.Value) or 
+Fields!EntryNo_GLEntry.Value&lt;=0 or 
+((not Fields!PrintReversedEntries.Value)and(Fields!Reversed_GLEntry.Value)) or 
+(Fields!PrintOnlyCorrections.Value and(not ((Fields!DebitAmount_GLEntry.Value&lt;0)or(Fields!CreditAmount_GLEntry.Value&lt;0)))),TRUE,FALSE)</Hidden>
+                              </Visibility>
+                            </TablixMember>
+                          </TablixMembers>
+                          <DataElementName>Detail_Collection</DataElementName>
+                          <DataElementOutput>Output</DataElementOutput>
+                          <KeepTogether>true</KeepTogether>
+                        </TablixMember>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF((CountDistinct(Fields!ClosingEntry.Value)=1) and (First(Fields!ClosingEntry.Value)) and
+(not Fields!PrintClosingEntries.Value),TRUE,FALSE)</Hidden>
+                          </Visibility>
+                          <KeepWithGroup>Before</KeepWithGroup>
+                          <KeepTogether>true</KeepTogether>
+                        </TablixMember>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF((CountDistinct(Fields!ClosingEntry.Value)=1) and (First(Fields!ClosingEntry.Value)) and
+(not Fields!PrintClosingEntries.Value),TRUE,FALSE)</Hidden>
+                          </Visibility>
+                          <KeepWithGroup>Before</KeepWithGroup>
+                        </TablixMember>
+                      </TablixMembers>
+                      <Visibility>
+                        <Hidden>=IIF((First(Fields!StartBalance.Value)=0) and (First(Fields!EntryNo_GLEntry.Value) = 0),TRUE,FALSE)</Hidden>
+                      </Visibility>
+                    </TablixMember>
+                  </TablixMembers>
+                </TablixMember>
+              </TablixMembers>
+            </TablixRowHierarchy>
+            <RepeatColumnHeaders>true</RepeatColumnHeaders>
+            <RepeatRowHeaders>true</RepeatRowHeaders>
+            <DataSetName>DataSet_Result</DataSetName>
+            <PageBreak>
+              <BreakLocation>End</BreakLocation>
+            </PageBreak>
+            <Top>1.44825cm</Top>
+            <Height>2.82222cm</Height>
+            <Width>27.13319cm</Width>
+            <Style />
+          </Tablix>
+          <Textbox Name="GLAccountTABLECAPTIONGLFilter">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!GLAccTableCaption.Value)</Value>
+                    <Style>
+                      <FontStyle>Normal</FontStyle>
+                      <FontFamily>Segoe UI</FontFamily>
+                      <FontSize>8pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style />
+              </Paragraph>
+            </Paragraphs>
+            <Top>30pt</Top>
+            <Height>11pt</Height>
+            <Width>27.13319cm</Width>
+            <ZIndex>1</ZIndex>
+            <Visibility>
+              <Hidden>=IIF((First(Fields!GLFilter.Value)="") or
+(First(Fields!PrintOnlyCorrections.Value) and (not ((Fields!DebitAmount_GLEntry.Value&lt;0)or(Fields!CreditAmount_GLEntry.Value&lt;0)))),TRUE,FALSE)</Hidden>
+            </Visibility>
+            <DataElementOutput>NoOutput</DataElementOutput>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+              <PaddingLeft>2pt</PaddingLeft>
+            </Style>
+          </Textbox>
+          <Tablix Name="tableCaptionData">
+            <TablixBody>
+              <TablixColumns>
+                <TablixColumn>
+                  <Width>27.13319cm</Width>
+                </TablixColumn>
+              </TablixColumns>
+              <TablixRows>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox45">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!BalanceCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox45</rd:DefaultName>
+                          <ZIndex>2</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox42">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!PeriodCaption.Value)</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox42</rd:DefaultName>
+                          <ZIndex>1</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.35278cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox27">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!OnlyCorrectionsCaption.Value</Value>
+                                  <Style>
+                                    <FontStyle>Normal</FontStyle>
+                                    <FontFamily>Segoe UI</FontFamily>
+                                    <FontSize>8pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox27</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingRight>5pt</PaddingRight>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+              </TablixRows>
+            </TablixBody>
+            <TablixColumnHierarchy>
+              <TablixMembers>
+                <TablixMember />
+              </TablixMembers>
+            </TablixColumnHierarchy>
+            <TablixRowHierarchy>
+              <TablixMembers>
+                <TablixMember>
+                  <Visibility>
+                    <Hidden>=IIF(Fields!ExcludeBalanceOnly.Value,TRUE,FALSE)</Hidden>
+                  </Visibility>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+                <TablixMember>
+                  <Visibility>
+                    <Hidden>=IIF(Fields!PrintClosingEntries.Value,FALSE,TRUE)</Hidden>
+                  </Visibility>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+                <TablixMember>
+                  <Visibility>
+                    <Hidden>=IIF(Fields!PrintOnlyCorrections.Value,FALSE,TRUE)</Hidden>
+                  </Visibility>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+              </TablixMembers>
+            </TablixRowHierarchy>
+            <Height>1.05834cm</Height>
+            <Width>27.13319cm</Width>
+            <ZIndex>2</ZIndex>
+            <Visibility>
+              <Hidden>=IIF(CountRows()=0,TRUE,FALSE)</Hidden>
+            </Visibility>
+            <DataElementOutput>NoOutput</DataElementOutput>
+            <Style />
+          </Tablix>
+        </ReportItems>
+        <Height>4.27048cm</Height>
+        <Style />
+      </Body>
+      <Width>27.1332cm</Width>
+      <Page>
+        <PageHeader>
+          <Height>2.14312cm</Height>
+          <PrintOnFirstPage>true</PrintOnFirstPage>
+          <PrintOnLastPage>true</PrintOnLastPage>
+          <ReportItems>
+            <Textbox Name="DetailTrialBalanceCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=First(Fields!DetailTrialBalCaption.Value,"DataSet_Result")</Value>
+                      <Style>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>14pt</FontSize>
+                        <FontWeight>Bold</FontWeight>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Height>20pt</Height>
+              <Width>21.49892cm</Width>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="COMPANYNAME1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=First(Fields!CompanyName.Value,"DataSet_Result")</Value>
+                      <Style>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                        <FontWeight>Normal</FontWeight>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>30pt</Top>
+              <Height>11pt</Height>
+              <Width>21.49892cm</Width>
+              <ZIndex>1</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="STRSUBSTNOText000GLDateFilter1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=First(Fields!PeriodGLDtFilter.Value,"DataSet_Result")</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>20pt</Top>
+              <Height>11pt</Height>
+              <Width>21.49892cm</Width>
+              <ZIndex>2</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="ExecutionTimeTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Globals!ExecutionTime</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                        <Format>dd-MM-yyyy</Format>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Left>22.85383cm</Left>
+              <Height>11pt</Height>
+              <Width>4.27936cm</Width>
+              <ZIndex>3</ZIndex>
+              <Style>
+                <Border />
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="UserIdTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=User!UserID</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>20pt</Top>
+              <Left>22.85383cm</Left>
+              <Height>11pt</Height>
+              <Width>4.27937cm</Width>
+              <ZIndex>4</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="PageNumberTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=First(Fields!PageCaption.Value,"DataSet_Result") &amp; " " &amp; Globals!PageNumber</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>10pt</Top>
+              <Left>22.85383cm</Left>
+              <Height>11pt</Height>
+              <Width>4.27937cm</Width>
+              <ZIndex>5</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+          </ReportItems>
+          <Style />
+        </PageHeader>
+        <PageHeight>21cm</PageHeight>
+        <PageWidth>29.7cm</PageWidth>
+        <InteractiveHeight>11in</InteractiveHeight>
+        <InteractiveWidth>8.5in</InteractiveWidth>
+        <LeftMargin>1.48166cm</LeftMargin>
+        <RightMargin>1.05834cm</RightMargin>
+        <TopMargin>1.76388cm</TopMargin>
+        <BottomMargin>1.05834cm</BottomMargin>
+        <ColumnSpacing>1.27cm</ColumnSpacing>
+        <Style />
+      </Page>
+    </ReportSection>
+  </ReportSections>
+  <ReportParameters>
+    <ReportParameter Name="VATAmount_GLEntryCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>VATAmount_GLEntryCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>VATAmount_GLEntryCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="VATAmountFCY_GLEntryCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>VATAmountFCY_GLEntryCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>VATAmountFCY_GLEntryCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="PostingDateCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>PostingDateCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>PostingDateCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="DocNoCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>DocNoCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>DocNoCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="DescCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>DescCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>DescCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="VATAmtCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>VATAmtCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>VATAmtCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="EntryNoCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>EntryNoCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>EntryNoCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="VATAmtFCYCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>VATAmtFCYCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>VATAmtFCYCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="GLEntryCurrencyCodeCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>GLEntryCurrencyCodeCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>GLEntryCurrencyCodeCaption</Prompt>
+    </ReportParameter>
+  </ReportParameters>
+  <ReportParametersLayout>
+    <GridLayoutDefinition>
+      <NumberOfColumns>1</NumberOfColumns>
+      <NumberOfRows>9</NumberOfRows>
+      <CellDefinitions>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>0</RowIndex>
+          <ParameterName>VATAmount_GLEntryCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>1</RowIndex>
+          <ParameterName>VATAmountFCY_GLEntryCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>2</RowIndex>
+          <ParameterName>PostingDateCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>3</RowIndex>
+          <ParameterName>DocNoCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>4</RowIndex>
+          <ParameterName>DescCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>5</RowIndex>
+          <ParameterName>VATAmtCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>6</RowIndex>
+          <ParameterName>EntryNoCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>7</RowIndex>
+          <ParameterName>VATAmtFCYCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>8</RowIndex>
+          <ParameterName>GLEntryCurrencyCodeCaption</ParameterName>
+        </CellDefinition>
+      </CellDefinitions>
+    </GridLayoutDefinition>
+  </ReportParametersLayout>
+  <Code>Public Function BlankZero(ByVal Value As Decimal)
+    if Value = 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankPos(ByVal Value As Decimal)
+    if Value &gt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankZeroAndPos(ByVal Value As Decimal)
+    if Value &gt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNeg(ByVal Value As Decimal)
+    if Value &lt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNegAndZero(ByVal Value As Decimal)
+    if Value &lt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+</Code>
+  <Language>=User!Language</Language>
+  <ConsumeContainerWhitespace>true</ConsumeContainerWhitespace>
+  <rd:ReportUnitType>Cm</rd:ReportUnitType>
+  <rd:ReportID>8e8ffc46-de6a-4e77-8620-f1a7706d235a</rd:ReportID>
+</Report>
+    END_OF_RDLDATA
+  }
+}
+
diff --git a/report/report_0005274201.txt b/report/report_0005274201.txt
new file mode 100644
index 0000000..600297f
--- /dev/null
+++ b/report/report_0005274201.txt
@@ -0,0 +1,3045 @@
+OBJECT Report 5274201 SalesVATAdvNotifAccProofP4TC
+{
+  OBJECT-PROPERTIES
+  {
+    Date=07.04.18;
+    Time=12:00:00;
+    Version List=NAVDACH11.00,P4TC3.02;
+  }
+  PROPERTIES
+  {
+    CaptionML=ENU=Sales VAT Adv. Not. Acc. Proof with FCY;
+    OnPreReport=BEGIN
+                  IF EndDateReq = 0D THEN
+                    EndDate := 31129999D
+                  ELSE
+                    EndDate := EndDateReq;
+                  "VAT Statement Line".SETRANGE("Date Filter",StartDate,EndDate);
+                  VATStmtLineFilter := "VAT Statement Line".GETFILTERS;
+                  IF PeriodSelection = PeriodSelection::"Before and Within Period" THEN
+                    Header := Text1140000
+                  ELSE
+                    Header := Text1140001 + "VAT Statement Line".GETFILTER("Date Filter");
+                  CASE Selection OF
+                    Selection::Closed:
+                      Header2 := Text1140002;
+                    Selection::"Open and Closed":
+                      Header2 := Text1140003;
+                  END;
+                  GLSetup.GET;
+                  IF UseAmtsInAddCurr THEN BEGIN
+                    GLSetup.TESTFIELD("Additional Reporting Currency");
+                    Currency.GET(GLSetup."Additional Reporting Currency");
+                    CurrencyFactor := CurrencyExchRate.ExchangeRate(WORKDATE,GLSetup."Additional Reporting Currency");
+                  END;
+                END;
+
+  }
+  DATASET
+  {
+    { 8917;    ;DataItem;                    ;
+               DataItemTable=Table257;
+               DataItemTableView=SORTING(Statement Template Name,Name);
+               OnPreDataItem=BEGIN
+                               IF UseAmtsInAddCurr THEN
+                                 HeaderText := STRSUBSTNO(Text1140004,GLSetup."Additional Reporting Currency")
+                               ELSE BEGIN
+                                 GLSetup.TESTFIELD("LCY Code");
+                                 HeaderText := STRSUBSTNO(Text1140004,GLSetup."LCY Code");
+                               END;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  CurrReport.PAGENO := 1;
+                                END;
+
+               ReqFilterFields=Currency Filter }
+
+    { 1170000003;1;Column;VAT_Statement_Name_Statement_Template_Name;
+               SourceExpr="Statement Template Name" }
+
+    { 1170000004;1;Column;VAT_Statement_Name_Name;
+               SourceExpr=Name }
+
+    { 6068;1   ;DataItem;                    ;
+               DataItemTable=Table256;
+               DataItemTableView=SORTING(Statement Template Name,Statement Name,Line No.)
+                                 WHERE(Type=FILTER(Account Totaling|VAT Entry Totaling));
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               VATStmtLine2.COPYFILTERS("VAT Statement Line");
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  IF (Type = Type::"Account Totaling") AND ("Account Totaling" = '') THEN
+                                    CurrReport.SKIP;
+                                  VATStmtLine2.GET("Statement Template Name","Statement Name","Line No.");
+                                  VATStmtLine2.SETRANGE("Row No.","Row No.");
+                                  VATStmtLine2.SETRANGE("VAT Bus. Posting Group","VAT Bus. Posting Group");
+                                  VATStmtLine2.SETRANGE("VAT Prod. Posting Group","VAT Prod. Posting Group");
+                                  IF VATStmtLine2.FIND('<') THEN
+                                    CurrReport.SKIP;
+                                  CountTotals := 0;
+
+                                  TypeNo := Type;
+
+                                  TempCurrencyLine.RESET;
+                                  TempCurrencyLine.DELETEALL;
+                                  TempCcyBufAmtLine[1].RESET;
+                                  TempCcyBufAmtLine[1].DELETEALL;
+                                  TempCcyBufVATLine[1].RESET;
+                                  TempCcyBufVATLine[1].DELETEALL;
+                                  ShowLineTotal:=FALSE;
+                                  ShowSeparator:=FALSE;
+                                END;
+
+               DataItemLink=Statement Template Name=FIELD(Statement Template Name),
+                            Statement Name=FIELD(Name) }
+
+    { 1140002;2;Column  ;VAT_Statement_Name__Name;
+               SourceExpr="VAT Statement Name".Name }
+
+    { 1140004;2;Column  ;VAT_Statement_Name___Statement_Template_Name_;
+               SourceExpr="VAT Statement Name"."Statement Template Name" }
+
+    { 1140005;2;Column  ;COMPANYNAME         ;
+               SourceExpr=COMPANYPROPERTY.DISPLAYNAME }
+
+    { 1140006;2;Column  ;USERID              ;
+               SourceExpr=USERID }
+
+    { 1140007;2;Column  ;Header              ;
+               SourceExpr=Header }
+
+    { 1140009;2;Column  ;CurrReport_PAGENO   ;
+               SourceExpr=CurrReport.PAGENO }
+
+    { 1140011;2;Column  ;FORMAT_TODAY_0_0______FORMAT_TIME_0_0_;
+               SourceExpr=FORMAT(TODAY,0,0) }
+
+    { 1140000;2;Column  ;HeaderText          ;
+               SourceExpr=HeaderText }
+
+    { 1140012;2;Column  ;Header2             ;
+               SourceExpr=Header2 }
+
+    { 1140013;2;Column  ;VAT_Statement_Line__TABLECAPTION__________VATStmtLineFilter;
+               SourceExpr="VAT Statement Line".TABLECAPTION + ': ' + VATStmtLineFilter }
+
+    { 1140060;2;Column  ;VATStmtLineFilter   ;
+               SourceExpr=VATStmtLineFilter }
+
+    { 1140028;2;Column  ;VAT_Statement_Line__Row_No__;
+               SourceExpr="Row No." }
+
+    { 1140029;2;Column  ;VAT_Statement_Line_Description;
+               SourceExpr=Description }
+
+    { 1140030;2;Column  ;VAT_Statement_Line_Type;
+               SourceExpr=Type }
+
+    { 1140031;2;Column  ;VAT_Statement_Line__Amount_Type_;
+               SourceExpr="Amount Type" }
+
+    { 1140032;2;Column  ;VAT_Statement_Line__VAT_Bus__Posting_Group_;
+               SourceExpr="VAT Bus. Posting Group" }
+
+    { 1140033;2;Column  ;VAT_Statement_Line__VAT_Prod__Posting_Group_;
+               SourceExpr="VAT Prod. Posting Group" }
+
+    { 1140034;2;Column  ;VAT_Statement_Line__Gen__Posting_Type_;
+               SourceExpr="Gen. Posting Type" }
+
+    { 1140061;2;Column  ;TypeNo              ;
+               SourceExpr=TypeNo }
+
+    { 1140064;2;Column  ;Identifier          ;
+               SourceExpr=Identifier }
+
+    { 1140063;2;Column  ;CountTotals         ;
+               SourceExpr=CountTotals }
+
+    { 1140062;2;Column  ;Number              ;
+               SourceExpr=Number }
+
+    { 1140039;2;Column  ;VAT_Statement_Line___Amount_Type_;
+               SourceExpr="VAT Statement Line"."Amount Type" }
+
+    { 1140043;2;Column  ;VAT_Statement_Line___Account_Totaling_;
+               SourceExpr="VAT Statement Line"."Account Totaling" }
+
+    { 1140041;2;Column  ;VAT_Statement_Line__Type;
+               SourceExpr="VAT Statement Line".Type }
+
+    { 1140040;2;Column  ;VAT_Statement_Line__Description;
+               SourceExpr="VAT Statement Line".Description }
+
+    { 1140042;2;Column  ;VAT_Statement_Line___Row_No__;
+               SourceExpr="VAT Statement Line"."Row No." }
+
+    { 1140001;2;Column  ;VAT_Statement_Name__NameCaption;
+               SourceExpr=VAT_Statement_Name__NameCaptionLbl }
+
+    { 1140003;2;Column  ;VAT_Statement_Name___Statement_Template_Name_Caption;
+               SourceExpr=VAT_Statement_Name___Statement_Template_Name_CaptionLbl }
+
+    { 1140008;2;Column  ;CurrReport_PAGENOCaption;
+               SourceExpr=CurrReport_PAGENOCaptionLbl }
+
+    { 1140010;2;Column  ;Sales_VAT_Adv__Not__Acc__ProofCaption;
+               SourceExpr=Sales_VAT_Adv__Not__Acc__ProofCaptionLbl }
+
+    { 1140014;2;Column  ;AmountCaption       ;
+               SourceExpr=AmountCaptionLbl }
+
+    { 1140015;2;Column  ;VATCaption          ;
+               SourceExpr=VATCaptionLbl }
+
+    { 1140017;2;Column  ;Account_No_Caption  ;
+               SourceExpr=Account_No_CaptionLbl }
+
+    { 1140018;2;Column  ;G_L_Account_Name_Control1140052Caption;
+               SourceExpr="G/L Account".FIELDCAPTION(Name) }
+
+    { 1140019;2;Column  ;Account_TypeCaption ;
+               SourceExpr=Account_TypeCaptionLbl }
+
+    { 1140020;2;Column  ;VAT_Statement_Line__VAT_Prod__Posting_Group_Caption;
+               SourceExpr=FIELDCAPTION("VAT Prod. Posting Group") }
+
+    { 1140021;2;Column  ;VAT_Statement_Line__VAT_Bus__Posting_Group_Caption;
+               SourceExpr=FIELDCAPTION("VAT Bus. Posting Group") }
+
+    { 1140022;2;Column  ;VAT_Statement_Line__Gen__Posting_Type_Caption;
+               SourceExpr=FIELDCAPTION("Gen. Posting Type") }
+
+    { 1140023;2;Column  ;VAT_Statement_Line__Amount_Type_Caption;
+               SourceExpr=FIELDCAPTION("Amount Type") }
+
+    { 1140024;2;Column  ;VAT_Statement_Line___Account_Totaling_Caption;
+               SourceExpr=VAT_Statement_Line___Account_Totaling_CaptionLbl }
+
+    { 1140025;2;Column  ;VAT_Statement_Line_TypeCaption;
+               SourceExpr=FIELDCAPTION(Type) }
+
+    { 1140026;2;Column  ;VAT_Statement_Line_DescriptionCaption;
+               SourceExpr=FIELDCAPTION(Description) }
+
+    { 1140027;2;Column  ;VAT_Statement_Line__Row_No__Caption;
+               SourceExpr=FIELDCAPTION("Row No.") }
+
+    { 119451021;2;Column;Betrag__FW_Caption  ;
+               SourceExpr=Betrag__FW_CaptionLbl }
+
+    { 119451022;2;Column;MwSt___FW_Caption   ;
+               SourceExpr=MwSt___FW_CaptionLbl }
+
+    { 119451025;2;Column;WÑhrungCaption      ;
+               SourceExpr=WÑhrungCaptionLbl }
+
+    { 5128;2   ;Column  ;VAT_Statement_Line_Statement_Template_Name;
+               SourceExpr="Statement Template Name" }
+
+    { 1613;2   ;Column  ;VAT_Statement_Line_Statement_Name;
+               SourceExpr="Statement Name" }
+
+    { 1869;2   ;Column  ;VAT_Statement_Line_Line_No_;
+               SourceExpr="Line No." }
+
+    { 6710;2   ;DataItem;                    ;
+               DataItemTable=Table15;
+               DataItemTableView=SORTING(No.);
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               TempGLEntry.RESET;
+                               TempGLEntry.DELETEALL;
+                               IF "VAT Statement Line".Type = "VAT Statement Line".Type::"Account Totaling" THEN BEGIN
+                                 SETFILTER("No.","VAT Statement Line"."Account Totaling");
+                                 GLEntry.RESET;
+                                 GLEntry.SETCURRENTKEY("G/L Account No.","Currency Code","Posting Date");
+                                 GLEntry.SETFILTER("G/L Account No.","VAT Statement Line"."Account Totaling");
+                                 "VAT Statement Name".COPYFILTER("Currency Filter",GLEntry."Currency Code");
+                                 GLEntry.SETRANGE("Posting Date",StartDate,EndDate);
+                                 IF GLEntry.FIND('-') THEN BEGIN
+                                   REPEAT
+                                     TempGLEntry:=GLEntry;
+                                     TempGLEntry.INSERT;
+                                   UNTIL GLEntry.NEXT=0;
+                                 END;
+                                 Number := COUNT;
+                               END ELSE BEGIN
+                                 Number := 2;
+                                 VATEntry.SETCURRENTKEY(
+                                   "Posting Date",Type,Closed,"VAT Bus. Posting Group","VAT Prod. Posting Group",
+                                   Reversed);
+                                 VATEntry.SETRANGE(Type,"VAT Statement Line"."Gen. Posting Type");
+                                 CASE Selection OF
+                                   Selection::Open:
+                                     VATEntry.SETRANGE(Closed,FALSE);
+                                   Selection::Closed:
+                                     VATEntry.SETRANGE(Closed,TRUE);
+                                 END;
+                                 VATEntry.SETRANGE("VAT Bus. Posting Group","VAT Statement Line"."VAT Bus. Posting Group");
+                                 VATEntry.SETRANGE("VAT Prod. Posting Group","VAT Statement Line"."VAT Prod. Posting Group");
+                                 IF (EndDateReq <> 0D) OR (StartDate <> 0D) THEN
+                                   IF PeriodSelection = PeriodSelection::"Before and Within Period" THEN
+                                     VATEntry.SETRANGE("Posting Date",0D,EndDate)
+                                   ELSE
+                                     VATEntry.SETRANGE("Posting Date",StartDate,EndDate);
+                                 VATEntry.SETRANGE(Reversed,FALSE);
+                                 "VAT Statement Name".COPYFILTER("Currency Filter",VATEntry."Currency Code");
+                                 IF VATEntry.FIND('-') THEN BEGIN
+                                   GLEntry.RESET;
+                                   REPEAT
+                                     GLentryVATEntryLink.SETRANGE("VAT Entry No.",VATEntry."Entry No.");
+                                     GLentryVATEntryLink.FINDFIRST;
+                                     GLEntry.GET(GLentryVATEntryLink."G/L Entry No.");
+                                     TempGLEntry:=GLEntry;
+                                     //OS002s os.jgl
+                                     IF TempGLEntry.INSERT THEN;
+                                     //OS002e os.jgl
+                                   UNTIL VATEntry.NEXT = 0;
+                                 END;
+                               END;
+
+                               Identifier := Identifier + 1;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  TempCurrencyLocal.RESET;
+                                  TempCurrencyLocal.DELETEALL;
+                                  TempCcyBufAmtLocal[1].RESET;
+                                  TempCcyBufAmtLocal[1].DELETEALL;
+                                  TempCcyBufVATLocal[1].RESET;
+                                  TempCcyBufVATLocal[1].DELETEALL;
+                                  ShowAccTotal:=FALSE;
+                                  TempGLEntry.SETCURRENTKEY("G/L Account No.","Currency Code","Posting Date");
+                                  TempGLEntry.SETRANGE("G/L Account No.","No.");
+                                  IF TempGLEntry.FIND('-') THEN BEGIN
+                                    REPEAT
+                                      TempGLEntry.SETRANGE("Currency Code",TempGLEntry."Currency Code");
+                                      TempGLEntry.CALCSUMS(Amount,"Additional-Currency Amount","VAT Amount","Amount (FCY)","VAT Amount (FCY)");
+                                      ShowSeparator:=ShowSeparator OR ((TempGLEntry.Amount<>0) AND NOT UseAmtsInAddCurr) OR
+                                        ((TempGLEntry."Additional-Currency Amount"<>0) AND UseAmtsInAddCurr) OR
+                                        (TempGLEntry."VAT Amount"<>0) OR (TempGLEntry."Amount (FCY)"<>0) OR (TempGLEntry."VAT Amount (FCY)"<>0);
+                                      TempCurrencyLocal.Code:=TempGLEntry."Currency Code";
+                                      ok:=TempCurrencyLocal.INSERT;
+                                      TempCurrencyLine:=TempCurrencyLocal;
+                                      ok:=TempCurrencyLine.INSERT;
+                                      //Amount
+                                      TempCcyBufAmtLocal[1]."Currency Code":=TempGLEntry."Currency Code";
+                                      TempCcyBufAmtLocal[1]."Total Amount":=TempGLEntry."Amount (FCY)";
+                                      TempCcyBufAmtLocal[1]."Total Amount (LCY)":=ConditionalAdd(TempGLEntry.Amount,TempGLEntry."Additional-Currency Amount");
+                                      IF TempCcyBufAmtLocal[2].GET(TempGLEntry."Currency Code") THEN BEGIN
+                                        TempCcyBufAmtLocal[2]."Total Amount"+=TempCcyBufAmtLocal[1]."Total Amount";
+                                        TempCcyBufAmtLocal[2]."Total Amount (LCY)"+=TempCcyBufAmtLocal[1]."Total Amount (LCY)";
+                                        TempCcyBufAmtLocal[2].MODIFY;
+                                      END ELSE
+                                        TempCcyBufAmtLocal[1].INSERT;
+                                      TempCcyBufAmtLine[1]:=TempCcyBufAmtLocal[1];
+                                      IF TempCcyBufAmtLine[2].GET(TempGLEntry."Currency Code") THEN BEGIN
+                                        TempCcyBufAmtLine[2]."Total Amount"+=TempCcyBufAmtLocal[1]."Total Amount";
+                                        TempCcyBufAmtLine[2]."Total Amount (LCY)"+=TempCcyBufAmtLocal[1]."Total Amount (LCY)";
+                                        TempCcyBufAmtLine[2].MODIFY;
+                                      END ELSE
+                                        TempCcyBufAmtLine[1].INSERT;
+                                      //VAT
+                                      TempCcyBufVATLocal[1]."Currency Code":=TempGLEntry."Currency Code";
+                                      TempCcyBufVATLocal[1]."Total Amount":=TempGLEntry."VAT Amount (FCY)";
+                                      TempCcyBufVATLocal[1]."Total Amount (LCY)":=ConditionalAdd(TempGLEntry."VAT Amount",
+                                        ExchangeAmtLCYtoFCY(TempGLEntry."VAT Amount"));
+                                      IF TempCcyBufVATLocal[2].GET(TempGLEntry."Currency Code") THEN BEGIN
+                                        TempCcyBufVATLocal[2]."Total Amount"+=TempCcyBufVATLocal[1]."Total Amount";
+                                        TempCcyBufVATLocal[2]."Total Amount (LCY)"+=TempCcyBufVATLocal[1]."Total Amount (LCY)";
+                                        TempCcyBufVATLocal[2].MODIFY;
+                                      END ELSE
+                                        TempCcyBufVATLocal[1].INSERT;
+                                      TempCcyBufVATLine[1]:=TempCcyBufVATLocal[1];
+                                      IF TempCcyBufVATLine[2].GET(TempGLEntry."Currency Code") THEN BEGIN
+                                        TempCcyBufVATLine[2]."Total Amount"+=TempCcyBufVATLocal[1]."Total Amount";
+                                        TempCcyBufVATLine[2]."Total Amount (LCY)"+=TempCcyBufVATLocal[1]."Total Amount (LCY)";
+                                        TempCcyBufVATLine[2].MODIFY;
+                                      END ELSE
+                                        TempCcyBufVATLine[1].INSERT;
+                                      TempGLEntry.FIND('+');
+                                      TempGLEntry.SETRANGE("Currency Code");
+                                    UNTIL TempGLEntry.NEXT=0;
+                                  END;
+                                END;
+                                 }
+
+    { 3972;3   ;Column  ;G_L_Account_No_     ;
+               SourceExpr="No." }
+
+    { 5518;3   ;DataItem;GLAccByCurrency     ;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               OnPreDataItem=BEGIN
+                               TempCurrencyLocal.RESET;
+                               TempCcyBufAmtLocal[1].RESET;
+                               TempCcyBufVATLocal[1].RESET;
+                               IF TempCurrencyLocal.ISEMPTY THEN
+                                 CurrReport.BREAK;
+                               SETRANGE(Number,1,TempCurrencyLocal.COUNT);
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  IF Number=1 THEN
+                                    TempCurrencyLocal.FIND('-')
+                                  ELSE BEGIN
+                                    TempCurrencyLocal.NEXT;
+                                    ShowAccTotal:=TRUE;
+                                  END;
+                                  TempCcyBufAmtLocal[1].GET(TempCurrencyLocal.Code);
+                                  TempCcyBufVATLocal[1].GET(TempCurrencyLocal.Code);
+                                END;
+                                 }
+
+    { 1140056;4;Column  ;TempCcyBufVATLocal_1___Total_Amount__LCY__;
+               SourceExpr=TempCcyBufVATLocal[1]."Total Amount (LCY)" }
+
+    { 1140055;4;Column  ;TempCcyBufAmtLocal_1___Total_Amount__LCY__;
+               SourceExpr=TempCcyBufAmtLocal[1]."Total Amount (LCY)" }
+
+    { 1140052;4;Column  ;G_L_Account_Name_Control1140052;
+               SourceExpr="G/L Account".Name }
+
+    { 1140053;4;Column  ;G_L_Account__No___Control1140053;
+               SourceExpr="G/L Account"."No." }
+
+    { 1140054;4;Column  ;G_L_Account__TABLECAPTION;
+               SourceExpr="G/L Account".TABLECAPTION }
+
+    { 119451023;4;Column;TempCcyBufAmtLocal_1___Total_Amount_;
+               SourceExpr=TempCcyBufAmtLocal[1]."Total Amount" }
+
+    { 119451024;4;Column;TempCcyBufVATLocal_1___Total_Amount_;
+               SourceExpr=TempCcyBufVATLocal[1]."Total Amount" }
+
+    { 119451026;4;Column;TempCurrencyLocal_Code;
+               SourceExpr=TempCurrencyLocal.Code }
+
+    { 9272;4   ;Column  ;GLAccByCurrency_Number;
+               SourceExpr=Number }
+
+    { 7167;3   ;DataItem;GLAccByCurrencyTotal;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               MaxIteration=1;
+               OnPreDataItem=BEGIN
+                               IF NOT ShowAccTotal THEN
+                                 CurrReport.BREAK;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  TempCcyBufAmtLocal[1].CALCSUMS("Total Amount (LCY)");
+                                  TempCcyBufVATLocal[1].CALCSUMS("Total Amount (LCY)");
+                                END;
+                                 }
+
+    { 119451027;4;Column;TempCcyBufVATLocal_1___Total_Amount__LCY___Control119451027;
+               SourceExpr=TempCcyBufVATLocal[1]."Total Amount (LCY)" }
+
+    { 119451028;4;Column;TempCcyBufAmtLocal_1___Total_Amount__LCY___Control119451028;
+               SourceExpr=TempCcyBufAmtLocal[1]."Total Amount (LCY)" }
+
+    { 119451030;4;Column;G_L_Account__Name   ;
+               SourceExpr="G/L Account".Name }
+
+    { 119451029;4;Column;G_L_Account___No__  ;
+               SourceExpr="G/L Account"."No." }
+
+    { 119451031;4;Column;G_L_Account__TABLECAPTION_Control119451031;
+               SourceExpr="G/L Account".TABLECAPTION }
+
+    { 8867;4   ;Column  ;GLAccByCurrencyTotal_Number;
+               SourceExpr=Number }
+
+    { 2241;2   ;DataItem;VATStmtLineByCurrency;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               OnPreDataItem=BEGIN
+                               TempCurrencyLine.RESET;
+                               TempCcyBufAmtLine[1].RESET;
+                               TempCcyBufVATLine[1].RESET;
+                               IF TempCurrencyLine.ISEMPTY THEN
+                                 CurrReport.BREAK;
+                               SETRANGE(Number,1,TempCurrencyLine.COUNT);
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  IF Number=1 THEN
+                                    TempCurrencyLine.FIND('-')
+                                  ELSE BEGIN
+                                    TempCurrencyLine.NEXT;
+                                    ShowLineTotal:=TRUE;
+                                  END;
+                                  TempCcyBufAmtLine[1].GET(TempCurrencyLine.Code);
+                                  TempCcyBufVATLine[1].GET(TempCurrencyLine.Code);
+                                END;
+                                 }
+
+    { 119451033;3;Column;VAT_Statement_Line__Description_Control119451033;
+               SourceExpr="VAT Statement Line".Description }
+
+    { 119451032;3;Column;VAT_Statement_Line___Row_No___Control119451032;
+               SourceExpr="VAT Statement Line"."Row No." }
+
+    { 119451034;3;Column;Amount1_Control1140055;
+               SourceExpr=TempCcyBufAmtLine[1]."Total Amount (LCY)" }
+
+    { 119451035;3;Column;VAT_Control1140056  ;
+               SourceExpr=TempCcyBufVATLine[1]."Total Amount (LCY)" }
+
+    { 119451036;3;Column;TempCcyBufVATLine_1___Total_Amount_;
+               SourceExpr=TempCcyBufVATLine[1]."Total Amount" }
+
+    { 119451037;3;Column;TempCurrencyLine_Code;
+               SourceExpr=TempCurrencyLine.Code }
+
+    { 119451038;3;Column;TempCcyBufAmtLine_1___Total_Amount_;
+               SourceExpr=TempCcyBufAmtLine[1]."Total Amount" }
+
+    { 2195;3   ;Column  ;VATStmtLineByCurrency_Number;
+               SourceExpr=Number }
+
+    { 3745;2   ;DataItem;VATStmtLineByCurrencyTotal;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               MaxIteration=1;
+               OnPreDataItem=BEGIN
+                               IF NOT ShowLineTotal THEN
+                                 CurrReport.BREAK;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  TempCcyBufAmtLine[1].CALCSUMS("Total Amount (LCY)");
+                                  TempCcyBufVATLine[1].CALCSUMS("Total Amount (LCY)");
+                                END;
+                                 }
+
+    { 119451039;3;Column;TempCcyBufVATLine_1___Total_Amount__LCY__;
+               SourceExpr=TempCcyBufVATLine[1]."Total Amount (LCY)" }
+
+    { 119451040;3;Column;TempCcyBufAmtLine_1___Total_Amount__LCY__;
+               SourceExpr=TempCcyBufAmtLine[1]."Total Amount (LCY)" }
+
+    { 119451044;3;Column;VAT_Statement_Line__Description_Control119451044;
+               SourceExpr="VAT Statement Line".Description }
+
+    { 119451045;3;Column;VAT_Statement_Line___Row_No___Control119451045;
+               SourceExpr="VAT Statement Line"."Row No." }
+
+    { 4273;3   ;Column  ;VATStmtLineByCurrencyTotal_Number;
+               SourceExpr=Number }
+
+    { 9746;2   ;DataItem;VATStmtLineSeparator;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               MaxIteration=1;
+               OnPreDataItem=BEGIN
+                               IF NOT ShowSeparator THEN
+                                 CurrReport.BREAK;
+                             END;
+                              }
+
+    { 4627;3   ;Column  ;VATStmtLineSeparator_Number;
+               SourceExpr=Number }
+
+  }
+  REQUESTPAGE
+  {
+    PROPERTIES
+    {
+      SaveValues=Yes;
+    }
+    CONTROLS
+    {
+      { 1900000001;0;Container;
+                  ContainerType=ContentArea }
+
+      { 1900000002;1;Group  ;
+                  CaptionML=ENU=Options }
+
+      { 1140013;2;Group     ;
+                  CaptionML=ENU=Statement Period }
+
+      { 1140011;3;Field     ;
+                  Name=StartDate;
+                  CaptionML=ENU=Starting Date;
+                  ToolTipML=ENU=Specifies the date from which the report or batch job processes information.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=StartDate }
+
+      { 1140009;3;Field     ;
+                  Name=EndDateReq;
+                  CaptionML=ENU=Ending Date;
+                  ToolTipML=ENU=Specifies the last date that the report includes data for.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=EndDateReq }
+
+      { 1140007;2;Field     ;
+                  Name=Selection;
+                  CaptionML=ENU=Include VAT Entries;
+                  ToolTipML=ENU=Specifies if you want to include VAT entries from before the specified time period in the report.;
+                  OptionCaptionML=ENU=Open,Closed,Open and Closed;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=Selection }
+
+      { 1140003;2;Field     ;
+                  Name=PeriodSelection;
+                  CaptionML=ENU=Include VAT Entries;
+                  ToolTipML=ENU=Specifies if you want to include VAT entries from before the specified time period in the report.;
+                  OptionCaptionML=ENU=Before and Within Period,Within Period;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PeriodSelection }
+
+      { 1140000;2;Field     ;
+                  Name=UseAmtsInAddCurr;
+                  CaptionML=ENU=Show Amounts in Add. Reporting Currency;
+                  ToolTipML=ENU=Specifies if you want report amounts to be shown in the additional reporting currency.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=UseAmtsInAddCurr;
+                  MultiLine=Yes }
+
+    }
+  }
+  LABELS
+  {
+  }
+  CODE
+  {
+    VAR
+      Text1140000@1140000 : TextConst 'ENU=VAT entries before and within the period';
+      Text1140001@1140001 : TextConst 'ENU="Period: "';
+      Text1140002@1140002 : TextConst 'ENU=The report includes only closed VAT entries.';
+      Text1140003@1140003 : TextConst 'ENU=The report includes all VAT entries.';
+      Text1140004@1140004 : TextConst 'ENU=All amounts are in %1';
+      VATEntry@1140005 : Record 254;
+      GLEntry@1140007 : Record 17;
+      GLSetup@1140008 : Record 98;
+      VATStmtLine2@1140009 : Record 256;
+      CurrencyExchRate@11400010 : Record 330;
+      Currency@1140011 : Record 4;
+      UseAmtsInAddCurr@1140012 : Boolean;
+      EndDate@1140013 : Date;
+      StartDate@1140014 : Date;
+      EndDateReq@1140015 : Date;
+      CurrencyFactor@1140018 : Decimal;
+      CountTotals@1140021 : Integer;
+      Number@1140022 : Integer;
+      Selection@1140023 : 'Open,Closed,Open and Closed';
+      PeriodSelection@1140024 : 'Before and Within Period,Within Period';
+      VATStmtLineFilter@1140025 : Text;
+      Header@1140026 : Text;
+      Header2@1140027 : Text[50];
+      HeaderText@1140028 : Text[50];
+      TypeNo@1140065 : Integer;
+      Identifier@1140066 : Integer;
+      "***** Plexada Variables *****"@119451025 : Integer;
+      GLentryVATEntryLink@119451026 : Record 253;
+      TempGLEntry@119451023 : TEMPORARY Record 17;
+      TempCurrencyLocal@119451022 : TEMPORARY Record 4;
+      TempCurrencyLine@119451024 : TEMPORARY Record 4;
+      TempCcyBufAmtLocal@119451021 : ARRAY [2] OF TEMPORARY Record 332;
+      TempCcyBufVATLocal@119451029 : ARRAY [2] OF TEMPORARY Record 332;
+      TempCcyBufAmtLine@119451031 : ARRAY [2] OF TEMPORARY Record 332;
+      TempCcyBufVATLine@119451032 : ARRAY [2] OF TEMPORARY Record 332;
+      ok@119451027 : Boolean;
+      ShowAccTotal@119451028 : Boolean;
+      ShowLineTotal@119451030 : Boolean;
+      ShowSeparator@119451033 : Boolean;
+      VAT_Statement_Name__NameCaptionLbl@1148809 : TextConst 'ENU=VAT Statement Name';
+      VAT_Statement_Name___Statement_Template_Name_CaptionLbl@1144795 : TextConst 'ENU=VAT Statement Template';
+      CurrReport_PAGENOCaptionLbl@1143005 : TextConst 'ENU=Page';
+      Sales_VAT_Adv__Not__Acc__ProofCaptionLbl@1142279 : TextConst 'ENU=Sales VAT Adv. Not. Acc. Proof';
+      AmountCaptionLbl@1147046 : TextConst 'ENU=Amount';
+      VATCaptionLbl@1142426 : TextConst 'ENU=VAT';
+      Account_No_CaptionLbl@1144029 : TextConst 'ENU=Account No.';
+      Account_TypeCaptionLbl@1145246 : TextConst 'ENU=Account Type';
+      VAT_Statement_Line___Account_Totaling_CaptionLbl@1149139 : TextConst 'ENU=Account Totaling';
+      Betrag__FW_CaptionLbl@8347 : TextConst 'ENU=Amount (FCY)';
+      MwSt___FW_CaptionLbl@8464 : TextConst 'ENU=VAT (FCY)';
+      WÑhrungCaptionLbl@2865 : TextConst 'ENU=Currency';
+
+    PROCEDURE ConditionalAdd@1140000(AmountToAdd@1140000 : Decimal;AddCurrAmountToAdd@1140001 : Decimal) : Decimal;
+    BEGIN
+      IF UseAmtsInAddCurr THEN
+        EXIT(AddCurrAmountToAdd)
+      ELSE
+        EXIT(AmountToAdd);
+    END;
+
+    PROCEDURE ExchangeAmtLCYtoFCY@1140001(Amount@1140000 : Decimal) : Decimal;
+    BEGIN
+      IF NOT UseAmtsInAddCurr THEN
+        EXIT(Amount)
+      ELSE
+        EXIT(
+          ROUND(
+            CurrencyExchRate.ExchangeAmtLCYToFCY(
+              WORKDATE,GLSetup."Additional Reporting Currency",Amount,CurrencyFactor),
+              Currency."Amount Rounding Precision"));
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.02             07.04.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     20.03.2011    os.jgl  SITC    redesign of R11009 - calculate proof amounts over filtered G/L entries
+                                              The calculation relies on VAT Entry to G/L Entry links, they must exist for all
+                                              VAT Entries in the filter.
+                                              show amounts in FCY, group by FCY
+                                              filter by FCY
+      OS002     08.05.2011    os.jgl  SITC    Handling of multiple VAT entries for one G/L Entry, this can happen at the payment of
+                                              invoices with payment discounts.
+      OS003     27.09.2014    os.jgl  SITC    Version for NAV2013R2
+                                              !!! Layout is still completely wrong.
+      PX004     07.04.2018    px.jgl  P4TC    Update to base NAV2018 NAVDACH11.00 (R11009)
+    }
+    END.
+  }
+  RDLDATA
+  {
+    <?xml version="1.0" encoding="utf-8"?>
+<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2016/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
+  <AutoRefresh>0</AutoRefresh>
+  <DataSources>
+    <DataSource Name="DataSource">
+      <ConnectionProperties>
+        <DataProvider>SQL</DataProvider>
+        <ConnectString />
+      </ConnectionProperties>
+      <rd:SecurityType>None</rd:SecurityType>
+      <rd:DataSourceID>0ad4a826-b0c6-4899-b736-2839bacdc118</rd:DataSourceID>
+    </DataSource>
+  </DataSources>
+  <DataSets>
+    <DataSet Name="DataSet_Result">
+      <Query>
+        <DataSourceName>DataSource</DataSourceName>
+        <CommandText />
+      </Query>
+      <Fields>
+        <Field Name="VAT_Statement_Name_Statement_Template_Name">
+          <DataField>VAT_Statement_Name_Statement_Template_Name</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Name_Name">
+          <DataField>VAT_Statement_Name_Name</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Name__Name">
+          <DataField>VAT_Statement_Name__Name</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Name___Statement_Template_Name_">
+          <DataField>VAT_Statement_Name___Statement_Template_Name_</DataField>
+        </Field>
+        <Field Name="COMPANYNAME">
+          <DataField>COMPANYNAME</DataField>
+        </Field>
+        <Field Name="USERID">
+          <DataField>USERID</DataField>
+        </Field>
+        <Field Name="Header">
+          <DataField>Header</DataField>
+        </Field>
+        <Field Name="CurrReport_PAGENO">
+          <DataField>CurrReport_PAGENO</DataField>
+        </Field>
+        <Field Name="FORMAT_TODAY_0_0______FORMAT_TIME_0_0_">
+          <DataField>FORMAT_TODAY_0_0______FORMAT_TIME_0_0_</DataField>
+        </Field>
+        <Field Name="HeaderText">
+          <DataField>HeaderText</DataField>
+        </Field>
+        <Field Name="Header2">
+          <DataField>Header2</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__TABLECAPTION__________VATStmtLineFilter">
+          <DataField>VAT_Statement_Line__TABLECAPTION__________VATStmtLineFilter</DataField>
+        </Field>
+        <Field Name="VATStmtLineFilter">
+          <DataField>VATStmtLineFilter</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Row_No__">
+          <DataField>VAT_Statement_Line__Row_No__</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line_Description">
+          <DataField>VAT_Statement_Line_Description</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line_Type">
+          <DataField>VAT_Statement_Line_Type</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Amount_Type_">
+          <DataField>VAT_Statement_Line__Amount_Type_</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__VAT_Bus__Posting_Group_">
+          <DataField>VAT_Statement_Line__VAT_Bus__Posting_Group_</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__VAT_Prod__Posting_Group_">
+          <DataField>VAT_Statement_Line__VAT_Prod__Posting_Group_</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Gen__Posting_Type_">
+          <DataField>VAT_Statement_Line__Gen__Posting_Type_</DataField>
+        </Field>
+        <Field Name="TypeNo">
+          <DataField>TypeNo</DataField>
+        </Field>
+        <Field Name="Identifier">
+          <DataField>Identifier</DataField>
+        </Field>
+        <Field Name="CountTotals">
+          <DataField>CountTotals</DataField>
+        </Field>
+        <Field Name="Number">
+          <DataField>Number</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line___Amount_Type_">
+          <DataField>VAT_Statement_Line___Amount_Type_</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line___Account_Totaling_">
+          <DataField>VAT_Statement_Line___Account_Totaling_</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Type">
+          <DataField>VAT_Statement_Line__Type</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Description">
+          <DataField>VAT_Statement_Line__Description</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line___Row_No__">
+          <DataField>VAT_Statement_Line___Row_No__</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Name__NameCaption">
+          <DataField>VAT_Statement_Name__NameCaption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Name___Statement_Template_Name_Caption">
+          <DataField>VAT_Statement_Name___Statement_Template_Name_Caption</DataField>
+        </Field>
+        <Field Name="CurrReport_PAGENOCaption">
+          <DataField>CurrReport_PAGENOCaption</DataField>
+        </Field>
+        <Field Name="Sales_VAT_Adv__Not__Acc__ProofCaption">
+          <DataField>Sales_VAT_Adv__Not__Acc__ProofCaption</DataField>
+        </Field>
+        <Field Name="AmountCaption">
+          <DataField>AmountCaption</DataField>
+        </Field>
+        <Field Name="VATCaption">
+          <DataField>VATCaption</DataField>
+        </Field>
+        <Field Name="Account_No_Caption">
+          <DataField>Account_No_Caption</DataField>
+        </Field>
+        <Field Name="G_L_Account_Name_Control1140052Caption">
+          <DataField>G_L_Account_Name_Control1140052Caption</DataField>
+        </Field>
+        <Field Name="Account_TypeCaption">
+          <DataField>Account_TypeCaption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__VAT_Prod__Posting_Group_Caption">
+          <DataField>VAT_Statement_Line__VAT_Prod__Posting_Group_Caption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__VAT_Bus__Posting_Group_Caption">
+          <DataField>VAT_Statement_Line__VAT_Bus__Posting_Group_Caption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Gen__Posting_Type_Caption">
+          <DataField>VAT_Statement_Line__Gen__Posting_Type_Caption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Amount_Type_Caption">
+          <DataField>VAT_Statement_Line__Amount_Type_Caption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line___Account_Totaling_Caption">
+          <DataField>VAT_Statement_Line___Account_Totaling_Caption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line_TypeCaption">
+          <DataField>VAT_Statement_Line_TypeCaption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line_DescriptionCaption">
+          <DataField>VAT_Statement_Line_DescriptionCaption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Row_No__Caption">
+          <DataField>VAT_Statement_Line__Row_No__Caption</DataField>
+        </Field>
+        <Field Name="Betrag__FW_Caption">
+          <DataField>Betrag__FW_Caption</DataField>
+        </Field>
+        <Field Name="MwSt___FW_Caption">
+          <DataField>MwSt___FW_Caption</DataField>
+        </Field>
+        <Field Name="WÑhrungCaption">
+          <DataField>WÑhrungCaption</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line_Statement_Template_Name">
+          <DataField>VAT_Statement_Line_Statement_Template_Name</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line_Statement_Name">
+          <DataField>VAT_Statement_Line_Statement_Name</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line_Line_No_">
+          <DataField>VAT_Statement_Line_Line_No_</DataField>
+        </Field>
+        <Field Name="G_L_Account_No_">
+          <DataField>G_L_Account_No_</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLocal_1___Total_Amount__LCY__">
+          <DataField>TempCcyBufVATLocal_1___Total_Amount__LCY__</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLocal_1___Total_Amount__LCY__Format">
+          <DataField>TempCcyBufVATLocal_1___Total_Amount__LCY__Format</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLocal_1___Total_Amount__LCY__">
+          <DataField>TempCcyBufAmtLocal_1___Total_Amount__LCY__</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLocal_1___Total_Amount__LCY__Format">
+          <DataField>TempCcyBufAmtLocal_1___Total_Amount__LCY__Format</DataField>
+        </Field>
+        <Field Name="G_L_Account_Name_Control1140052">
+          <DataField>G_L_Account_Name_Control1140052</DataField>
+        </Field>
+        <Field Name="G_L_Account__No___Control1140053">
+          <DataField>G_L_Account__No___Control1140053</DataField>
+        </Field>
+        <Field Name="G_L_Account__TABLECAPTION">
+          <DataField>G_L_Account__TABLECAPTION</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLocal_1___Total_Amount_">
+          <DataField>TempCcyBufAmtLocal_1___Total_Amount_</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLocal_1___Total_Amount_Format">
+          <DataField>TempCcyBufAmtLocal_1___Total_Amount_Format</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLocal_1___Total_Amount_">
+          <DataField>TempCcyBufVATLocal_1___Total_Amount_</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLocal_1___Total_Amount_Format">
+          <DataField>TempCcyBufVATLocal_1___Total_Amount_Format</DataField>
+        </Field>
+        <Field Name="TempCurrencyLocal_Code">
+          <DataField>TempCurrencyLocal_Code</DataField>
+        </Field>
+        <Field Name="GLAccByCurrency_Number">
+          <DataField>GLAccByCurrency_Number</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLocal_1___Total_Amount__LCY___Control119451027">
+          <DataField>TempCcyBufVATLocal_1___Total_Amount__LCY___Control119451027</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLocal_1___Total_Amount__LCY___Control119451027Format">
+          <DataField>TempCcyBufVATLocal_1___Total_Amount__LCY___Control119451027Format</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLocal_1___Total_Amount__LCY___Control119451028">
+          <DataField>TempCcyBufAmtLocal_1___Total_Amount__LCY___Control119451028</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLocal_1___Total_Amount__LCY___Control119451028Format">
+          <DataField>TempCcyBufAmtLocal_1___Total_Amount__LCY___Control119451028Format</DataField>
+        </Field>
+        <Field Name="G_L_Account__Name">
+          <DataField>G_L_Account__Name</DataField>
+        </Field>
+        <Field Name="G_L_Account___No__">
+          <DataField>G_L_Account___No__</DataField>
+        </Field>
+        <Field Name="G_L_Account__TABLECAPTION_Control119451031">
+          <DataField>G_L_Account__TABLECAPTION_Control119451031</DataField>
+        </Field>
+        <Field Name="GLAccByCurrencyTotal_Number">
+          <DataField>GLAccByCurrencyTotal_Number</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Description_Control119451033">
+          <DataField>VAT_Statement_Line__Description_Control119451033</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line___Row_No___Control119451032">
+          <DataField>VAT_Statement_Line___Row_No___Control119451032</DataField>
+        </Field>
+        <Field Name="Amount1_Control1140055">
+          <DataField>Amount1_Control1140055</DataField>
+        </Field>
+        <Field Name="Amount1_Control1140055Format">
+          <DataField>Amount1_Control1140055Format</DataField>
+        </Field>
+        <Field Name="VAT_Control1140056">
+          <DataField>VAT_Control1140056</DataField>
+        </Field>
+        <Field Name="VAT_Control1140056Format">
+          <DataField>VAT_Control1140056Format</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLine_1___Total_Amount_">
+          <DataField>TempCcyBufVATLine_1___Total_Amount_</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLine_1___Total_Amount_Format">
+          <DataField>TempCcyBufVATLine_1___Total_Amount_Format</DataField>
+        </Field>
+        <Field Name="TempCurrencyLine_Code">
+          <DataField>TempCurrencyLine_Code</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLine_1___Total_Amount_">
+          <DataField>TempCcyBufAmtLine_1___Total_Amount_</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLine_1___Total_Amount_Format">
+          <DataField>TempCcyBufAmtLine_1___Total_Amount_Format</DataField>
+        </Field>
+        <Field Name="VATStmtLineByCurrency_Number">
+          <DataField>VATStmtLineByCurrency_Number</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLine_1___Total_Amount__LCY__">
+          <DataField>TempCcyBufVATLine_1___Total_Amount__LCY__</DataField>
+        </Field>
+        <Field Name="TempCcyBufVATLine_1___Total_Amount__LCY__Format">
+          <DataField>TempCcyBufVATLine_1___Total_Amount__LCY__Format</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLine_1___Total_Amount__LCY__">
+          <DataField>TempCcyBufAmtLine_1___Total_Amount__LCY__</DataField>
+        </Field>
+        <Field Name="TempCcyBufAmtLine_1___Total_Amount__LCY__Format">
+          <DataField>TempCcyBufAmtLine_1___Total_Amount__LCY__Format</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line__Description_Control119451044">
+          <DataField>VAT_Statement_Line__Description_Control119451044</DataField>
+        </Field>
+        <Field Name="VAT_Statement_Line___Row_No___Control119451045">
+          <DataField>VAT_Statement_Line___Row_No___Control119451045</DataField>
+        </Field>
+        <Field Name="VATStmtLineByCurrencyTotal_Number">
+          <DataField>VATStmtLineByCurrencyTotal_Number</DataField>
+        </Field>
+        <Field Name="VATStmtLineSeparator_Number">
+          <DataField>VATStmtLineSeparator_Number</DataField>
+        </Field>
+      </Fields>
+      <rd:DataSetInfo>
+        <rd:DataSetName>DataSet</rd:DataSetName>
+        <rd:SchemaPath>Report.xsd</rd:SchemaPath>
+        <rd:TableName>Result</rd:TableName>
+      </rd:DataSetInfo>
+    </DataSet>
+  </DataSets>
+  <ReportSections>
+    <ReportSection>
+      <Body>
+        <ReportItems>
+          <Tablix Name="Table1">
+            <TablixBody>
+              <TablixColumns>
+                <TablixColumn>
+                  <Width>1.5cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.5cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.85cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.1cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.1cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.1cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.1cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.1cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.2cm</Width>
+                </TablixColumn>
+              </TablixColumns>
+              <TablixRows>
+                <TablixRow>
+                  <Height>0.423cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Row_No__">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line__Row_No__.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line_Description">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line_Description.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line_Type">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line_Type.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.825cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Amount_Type_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line__Amount_Type_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.825cm</PaddingLeft>
+                            <PaddingRight>0.05cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Gen__Posting_Type_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line__Gen__Posting_Type_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.05cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__VAT_Bus__Posting_Group_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line__VAT_Bus__Posting_Group_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TypeNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!TypeNo.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Color>#ffff00</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__VAT_Prod__Posting_Group_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line__VAT_Prod__Posting_Group_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox1">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>8</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.423cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line___Row_No__">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line___Row_No__.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Description">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line__Description.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Type">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line__Type.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.825cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line___Account_Totaling_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line___Account_Totaling_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.825cm</PaddingLeft>
+                            <PaddingRight>0.05cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line___Amount_Type_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Line___Amount_Type_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.05cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Identifier">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Identifier.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Color>#ffff00</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="CountTotals">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!CountTotals.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Color>#ffff00</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Number">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Number.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Color>#ffff00</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox11">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>8</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.846cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Row_No__Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line__Row_No__Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line_DescriptionCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line_DescriptionCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line_TypeCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line_TypeCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.825cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line___Account_Totaling_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line___Account_Totaling_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.825cm</PaddingLeft>
+                            <PaddingRight>0.05cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Amount_Type_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line__Amount_Type_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.05cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__Gen__Posting_Type_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line__Gen__Posting_Type_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__VAT_Bus__Posting_Group_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line__VAT_Bus__Posting_Group_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Line__VAT_Prod__Posting_Group_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VAT_Statement_Line__VAT_Prod__Posting_Group_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox12">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>8</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.423cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Account_TypeCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!Account_TypeCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Account_No_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!Account_No_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="G_L_Account_Name_Control1140052Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!G_L_Account_Name_Control1140052Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.825cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="WÑhrungCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!WÑhrungCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.825cm</PaddingLeft>
+                            <PaddingRight>0.05cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Betrag__FW_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!Betrag__FW_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.05cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="MwSt___FW_Caption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!MwSt___FW_Caption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="AmountCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!AmountCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VATCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox13">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>8</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.423cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="G_L_Account__TABLECAPTION">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!G_L_Account__TABLECAPTION.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Left</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="G_L_Account__No___Control1140053">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!G_L_Account__No___Control1140053.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Left</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="G_L_Account_Name_Control1140052">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!G_L_Account_Name_Control1140052.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.825cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TempCurrencyLocal_Code">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!TempCurrencyLocal_Code.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.825cm</PaddingLeft>
+                            <PaddingRight>0.05cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TempCcyBufAmtLocal_1___Total_Amount_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!TempCcyBufAmtLocal_1___Total_Amount_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!TempCcyBufAmtLocal_1___Total_Amount_Format.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.05cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TempCcyBufVATLocal_1___Total_Amount_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!TempCcyBufVATLocal_1___Total_Amount_.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!TempCcyBufVATLocal_1___Total_Amount_Format.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TempCcyBufAmtLocal_1___Total_Amount__LCY__">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!TempCcyBufAmtLocal_1___Total_Amount__LCY__.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!TempCcyBufAmtLocal_1___Total_Amount__LCY__Format.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TempCcyBufVATLocal_1___Total_Amount__LCY__">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!TempCcyBufVATLocal_1___Total_Amount__LCY__.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!TempCcyBufVATLocal_1___Total_Amount__LCY__Format.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Name__Name">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Name__Name.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Name___Statement_Template_Name_">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Name___Statement_Template_Name_.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="COMPANYNAME">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!COMPANYNAME.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Header">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Header.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Name__NameCaption">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Name__NameCaption.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VAT_Statement_Name___Statement_Template_Name_Caption">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VAT_Statement_Name___Statement_Template_Name_Caption.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="CurrReport_PAGENOCaption">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!CurrReport_PAGENOCaption.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Sales_VAT_Adv__Not__Acc__ProofCaption">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Sales_VAT_Adv__Not__Acc__ProofCaption.Value</Value>
+                                  <Style>
+                                    <Color>#ff0000</Color>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <Visibility>
+                            <Hidden>true</Hidden>
+                          </Visibility>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+              </TablixRows>
+            </TablixBody>
+            <TablixColumnHierarchy>
+              <TablixMembers>
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+              </TablixMembers>
+            </TablixColumnHierarchy>
+            <TablixRowHierarchy>
+              <TablixMembers>
+                <TablixMember>
+                  <Group Name="Table1_Group">
+                    <GroupExpressions>
+                      <GroupExpression>=Fields!G_L_Account_No_.Value</GroupExpression>
+                    </GroupExpressions>
+                  </Group>
+                  <TablixMembers>
+                    <TablixMember>
+                      <Group Name="Table1_Group1">
+                        <GroupExpressions>
+                          <GroupExpression>=Fields!VAT_Statement_Line_Statement_Template_Name.Value</GroupExpression>
+                          <GroupExpression>=Fields!VAT_Statement_Line_Statement_Name.Value</GroupExpression>
+                          <GroupExpression>=Fields!VAT_Statement_Line_Line_No_.Value</GroupExpression>
+                        </GroupExpressions>
+                      </Group>
+                      <TablixMembers>
+                        <TablixMember>
+                          <KeepWithGroup>After</KeepWithGroup>
+                          <KeepTogether>true</KeepTogether>
+                        </TablixMember>
+                        <TablixMember>
+                          <KeepWithGroup>After</KeepWithGroup>
+                          <KeepTogether>true</KeepTogether>
+                        </TablixMember>
+                        <TablixMember>
+                          <Group Name="Table1_Group2">
+                            <GroupExpressions>
+                              <GroupExpression>=Fields!VAT_Statement_Name_Statement_Template_Name.Value</GroupExpression>
+                              <GroupExpression>=Fields!VAT_Statement_Name_Name.Value</GroupExpression>
+                            </GroupExpressions>
+                          </Group>
+                          <TablixMembers>
+                            <TablixMember>
+                              <KeepWithGroup>After</KeepWithGroup>
+                              <KeepTogether>true</KeepTogether>
+                            </TablixMember>
+                            <TablixMember>
+                              <KeepWithGroup>After</KeepWithGroup>
+                              <KeepTogether>true</KeepTogether>
+                            </TablixMember>
+                            <TablixMember>
+                              <Group Name="Table1_Details_Group">
+                                <DataElementName>Detail</DataElementName>
+                              </Group>
+                              <TablixMembers>
+                                <TablixMember />
+                              </TablixMembers>
+                              <DataElementName>Detail_Collection</DataElementName>
+                              <DataElementOutput>Output</DataElementOutput>
+                              <KeepTogether>true</KeepTogether>
+                            </TablixMember>
+                          </TablixMembers>
+                        </TablixMember>
+                      </TablixMembers>
+                    </TablixMember>
+                  </TablixMembers>
+                </TablixMember>
+              </TablixMembers>
+            </TablixRowHierarchy>
+            <DataSetName>DataSet_Result</DataSetName>
+            <Height>2.538cm</Height>
+            <Width>16.95cm</Width>
+            <Style />
+          </Tablix>
+        </ReportItems>
+        <Height>2.538cm</Height>
+        <Style />
+      </Body>
+      <Width>22.225cm</Width>
+      <Page>
+        <PageHeader>
+          <Height>2.538cm</Height>
+          <PrintOnFirstPage>true</PrintOnFirstPage>
+          <PrintOnLastPage>true</PrintOnLastPage>
+          <ReportItems>
+            <Textbox Name="PageNumberTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Globals!PageNumber</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.423cm</Top>
+              <Left>17.4cm</Left>
+              <Height>0.423cm</Height>
+              <Width>0.45cm</Width>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="UserIdTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=User!UserID</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.846cm</Top>
+              <Left>14.6cm</Left>
+              <Height>0.423cm</Height>
+              <Width>3.25cm</Width>
+              <ZIndex>1</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="ExecutionTimeTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Globals!ExecutionTime</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                        <Format>g</Format>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Left>14.7cm</Left>
+              <Height>0.423cm</Height>
+              <Width>3.15cm</Width>
+              <ZIndex>2</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="VAT_Statement_Name__Name1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!VAT_Statement_Name__Name.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>2.115cm</Top>
+              <Left>3.15cm</Left>
+              <Height>0.423cm</Height>
+              <Width>1.5cm</Width>
+              <ZIndex>3</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="VAT_Statement_Name___Statement_Template_Name_1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!VAT_Statement_Name___Statement_Template_Name_.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>1.692cm</Top>
+              <Left>3.15cm</Left>
+              <Height>0.423cm</Height>
+              <Width>1.5cm</Width>
+              <ZIndex>4</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="COMPANYNAME1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!COMPANYNAME.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.846cm</Top>
+              <Height>0.423cm</Height>
+              <Width>7.5cm</Width>
+              <ZIndex>5</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="Header1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!Header.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.423cm</Top>
+              <Height>0.423cm</Height>
+              <Width>7.5cm</Width>
+              <ZIndex>6</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="VAT_Statement_Name__NameCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!VAT_Statement_Name__NameCaption.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>2.115cm</Top>
+              <Height>0.423cm</Height>
+              <Width>3cm</Width>
+              <ZIndex>7</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="VAT_Statement_Name___Statement_Template_Name_Caption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!VAT_Statement_Name___Statement_Template_Name_Caption.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>1.692cm</Top>
+              <Height>0.423cm</Height>
+              <Width>3cm</Width>
+              <ZIndex>8</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="CurrReport_PAGENOCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!CurrReport_PAGENOCaption.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.423cm</Top>
+              <Left>16.65cm</Left>
+              <Height>0.423cm</Height>
+              <Width>0.75cm</Width>
+              <ZIndex>9</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="Sales_VAT_Adv__Not__Acc__ProofCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=ReportItems!Sales_VAT_Adv__Not__Acc__ProofCaption.Value</Value>
+                      <Style>
+                        <FontSize>8pt</FontSize>
+                        <FontWeight>Bold</FontWeight>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Height>0.423cm</Height>
+              <Width>7.5cm</Width>
+              <ZIndex>10</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+          </ReportItems>
+          <Style />
+        </PageHeader>
+        <PageHeight>29.7cm</PageHeight>
+        <PageWidth>22.25cm</PageWidth>
+        <LeftMargin>2.1cm</LeftMargin>
+        <TopMargin>2cm</TopMargin>
+        <BottomMargin>2cm</BottomMargin>
+        <Style />
+      </Page>
+    </ReportSection>
+  </ReportSections>
+  <Code>Public Function BlankZero(ByVal Value As Decimal)
+    if Value = 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankPos(ByVal Value As Decimal)
+    if Value &gt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankZeroAndPos(ByVal Value As Decimal)
+    if Value &gt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNeg(ByVal Value As Decimal)
+    if Value &lt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNegAndZero(ByVal Value As Decimal)
+    if Value &lt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+</Code>
+  <Language>=User!Language</Language>
+  <ConsumeContainerWhitespace>true</ConsumeContainerWhitespace>
+  <rd:ReportUnitType>Cm</rd:ReportUnitType>
+  <rd:ReportID>195a33a8-887f-4fb5-a399-01b107ef9b6c</rd:ReportID>
+</Report>
+    END_OF_RDLDATA
+  }
+}
+
diff --git a/report/report_0005274202.txt b/report/report_0005274202.txt
new file mode 100644
index 0000000..971ba0f
--- /dev/null
+++ b/report/report_0005274202.txt
@@ -0,0 +1,802 @@
+OBJECT Report 5274202 Close Income Statement P4TC
+{
+  OBJECT-PROPERTIES
+  {
+    Date=03.08.18;
+    Time=12:00:00;
+    Version List=NAVW111.00.00.20348,P4TC3.02;
+  }
+  PROPERTIES
+  {
+    CaptionML=ENU=Close Income Statement;
+    ProcessingOnly=Yes;
+    OnPreReport=BEGIN
+                  IF EndDateReq = 0D THEN
+                    ERROR(Text000);
+                  ValidateEndDate(TRUE);
+                  IF DocNo = '' THEN
+                    ERROR(Text001);
+
+                  //OS008s os.jgl
+                  //no CheckDimPostingRules - they will be force posted as the entries require it.
+                  SelectedDim.GetSelectedDim(USERID,3,REPORT::"Close Income Statement P4TC",'',TempSelectedDim);
+                  //OS008e os.jgl
+
+                  GenJnlBatch.GET(GenJnlLine."Journal Template Name",GenJnlLine."Journal Batch Name");
+                  SourceCodeSetup.GET;
+                  GLSetup.GET;
+                  IF RetainedEarningsGLAcc."No." = '' THEN
+                    ERROR(Text002);
+
+                  Window.OPEN(Text008 + Text009 + Text019 + Text010 + Text011);
+
+                  ClosePerGlobalDim1 := FALSE;
+                  ClosePerGlobalDim2 := FALSE;
+
+                  IF TempSelectedDim.FIND('-') THEN
+                    REPEAT
+                      IF TempSelectedDim."Dimension Code" = GLSetup."Global Dimension 1 Code" THEN
+                        ClosePerGlobalDim1 := TRUE;
+                      IF TempSelectedDim."Dimension Code" = GLSetup."Global Dimension 2 Code" THEN
+                        ClosePerGlobalDim2 := TRUE;
+                    UNTIL TempSelectedDim.NEXT = 0;
+
+                  GenJnlLine.SETRANGE("Journal Template Name",GenJnlLine."Journal Template Name");
+                  GenJnlLine.SETRANGE("Journal Batch Name",GenJnlLine."Journal Batch Name");
+                  IF NOT GenJnlLine.FINDLAST THEN;
+                  GenJnlLine.INIT;
+                  GenJnlLine."Posting Date" := FiscYearClosingDate;
+                  GenJnlLine."Document No." := DocNo;
+                  GenJnlLine.Description := PostingDescription;
+                  GenJnlLine."Posting No. Series" := GenJnlBatch."Posting No. Series";
+                  CLEAR(GenJnlPostLine);
+                END;
+
+    OnPostReport=VAR
+                   UpdateAnalysisView@1000 : Codeunit 410;
+                 BEGIN
+                   Window.CLOSE;
+                   MESSAGE(Text017);
+                 END;
+
+  }
+  DATASET
+  {
+    { 6710;    ;DataItem;                    ;
+               DataItemTable=Table15;
+               DataItemTableView=SORTING(No.)
+                                 WHERE(Account Type=CONST(Posting),
+                                       Income/Balance=CONST(Income Statement));
+               OnPreDataItem=BEGIN
+                               NoOfAccounts := COUNT;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  ThisAccountNo := ThisAccountNo + 1;
+                                  Window.UPDATE(1,"No.");
+                                  Window.UPDATE(4,ROUND(ThisAccountNo / NoOfAccounts * 10000,1));
+                                  Window.UPDATE(2,'');
+                                  Window.UPDATE(3,0);
+                                END;
+
+               OnPostDataItem=VAR
+                                SkipEntry@119451021 : Boolean;
+                                GlobalDimVal1@1004 : Code[20];
+                                GlobalDimVal2@1005 : Code[20];
+                                NewDimensionID@1002 : Integer;
+                              BEGIN
+                                //OS001s os.jgl
+                                Window.UPDATE(1,RetainedEarningsGLAcc."No.");
+                                EntryNoAmountBuf[2].RESET;
+                                EntryNoAmountBuf[2].SETCURRENTKEY("Business Unit Code","Currency Code","Entry No.","Debit/Credit");
+                                IF EntryNoAmountBuf[2].FINDFIRST THEN BEGIN
+                                  REPEAT
+                                    EntryNoAmountBuf[2].SETRANGE("Business Unit Code",EntryNoAmountBuf[2]."Business Unit Code");
+                                    //OS007s os.jgl
+                                    IF NOT CompressRetainedEarnings THEN BEGIN
+                                      EntryNoAmountBuf[2].SETRANGE("Currency Code",EntryNoAmountBuf[2]."Currency Code");
+                                      EntryNoAmountBuf[2].SETRANGE("Entry No.",EntryNoAmountBuf[2]."Entry No.");
+                                      EntryNoAmountBuf[2].SETRANGE("Debit/Credit",EntryNoAmountBuf[2]."Debit/Credit");
+                                    END;
+                                    //OS007e os.jgl
+                                    EntryNoAmountBuf[2].CALCSUMS(Amount,Amount2,AmountFCY);
+                                    IF (EntryNoAmountBuf[2].Amount <> 0) OR (EntryNoAmountBuf[2].Amount2 <> 0) OR (EntryNoAmountBuf[2].AmountFCY <> 0) THEN BEGIN
+                                      //OS006s os.jgl
+                                      SkipEntry := FALSE;
+                                      //OS007s os.jgl
+                                      IF NOT CompressRetainedEarnings THEN BEGIN
+                                        IF EntryNoAmountBuf[2]."Currency Code" <> '' THEN BEGIN
+                                          EntryNoAmountBuf[3].RESET;
+                                          EntryNoAmountBuf[3].SETRANGE("Business Unit Code",EntryNoAmountBuf[2]."Business Unit Code");
+                                          EntryNoAmountBuf[3].SETRANGE("Currency Code",EntryNoAmountBuf[2]."Currency Code");
+                                          EntryNoAmountBuf[3].SETRANGE("Entry No.",EntryNoAmountBuf[2]."Entry No.");
+                                          EntryNoAmountBuf[3].CALCSUMS(Amount,Amount2,AmountFCY);
+                                          IF (EntryNoAmountBuf[3].Amount = 0) AND (EntryNoAmountBuf[3].Amount2 = 0) AND (EntryNoAmountBuf[3].AmountFCY = 0 ) THEN
+                                            SkipEntry := TRUE;
+                                        END;
+                                      END;
+                                      //OS007e os.jgl
+                                      IF NOT SkipEntry THEN BEGIN
+                                        GenJnlLine."Line No." := GenJnlLine."Line No." + 10000;
+                                        GenJnlLine."Account No." := RetainedEarningsGLAcc."No.";
+                                        GenJnlLine."Source Code" := SourceCodeSetup."Close Income Statement";
+                                        GenJnlLine."Reason Code" := GenJnlBatch."Reason Code";
+                                        //OS004s os.jgl
+                                        // Original code:
+                                        // GenJnlLine.SetIgnoreFixedCurrency(TRUE);
+                                        //OS004e os.jgl
+                                        //OS007s os.jgl
+                                        IF NOT CompressRetainedEarnings THEN BEGIN
+                                          GenJnlLine."Currency Code" := EntryNoAmountBuf[2]."Currency Code";
+                                          //OS002s os.jgl
+                                          GenJnlLine."Currency Factor" := 0;
+                                          //OS002e os.jgl
+                                          GenJnlLine.Amount := EntryNoAmountBuf[2].AmountFCY;
+                                          //OS004s os.jgl
+                                          GenJnlLine."Amount (LCY)" := EntryNoAmountBuf[2].Amount;
+                                        END ELSE BEGIN
+                                          GenJnlLine."Currency Code" := '';
+                                          GenJnlLine."Currency Factor" := 0;
+                                          GenJnlLine.Amount := EntryNoAmountBuf[2].Amount;
+                                          GenJnlLine."Amount (LCY)" := EntryNoAmountBuf[2].Amount;
+                                        END;
+                                        //OS007e os.jgl
+                                        IF GenJnlLine."Amount (LCY)" <> 0 THEN
+                                          GenJnlLine."Currency Factor" := GenJnlLine.Amount / GenJnlLine."Amount (LCY)";
+                                        GenJnlLine.UpdateLineBalance;
+                                        //OS004e os.jgl
+                                        GenJnlLine."Source Currency Code" := GLSetup."Additional Reporting Currency";
+                                        GenJnlLine."Source Currency Amount" := EntryNoAmountBuf[2].Amount2;
+                                        GenJnlLine."Business Unit Code" := EntryNoAmountBuf[2]."Business Unit Code";
+
+                                        TempDimBuf.DELETEALL;
+                                        DimBufMgt.RetrieveDimensions(EntryNoAmountBuf[2]."Entry No.",TempDimBuf);
+                                        NewDimensionID := DimMgt.CreateDimSetIDFromDimBuf(TempDimBuf);
+                                        GenJnlLine."Dimension Set ID" := NewDimensionID;
+                                        DimMgt.UpdateGlobalDimFromDimSetID(NewDimensionID,GlobalDimVal1,GlobalDimVal2);
+                                        GenJnlLine."Shortcut Dimension 1 Code" := '';
+                                        //OS007s os.jgl
+                                        IF NOT CompressRetainedEarnings THEN BEGIN
+                                          //OS011s os.jgl
+                                          IF ClosePerGlobalDim1 OR CloseByAllDimensions THEN
+                                          //OS011e os.jgl
+                                            GenJnlLine."Shortcut Dimension 1 Code" := GlobalDimVal1;
+                                        END;
+                                        //OS007e os.jgl
+                                        GenJnlLine."Shortcut Dimension 2 Code" := '';
+                                        //OS007s os.jgl
+                                        IF NOT CompressRetainedEarnings THEN BEGIN
+                                          //OS011s os.jgl
+                                          IF ClosePerGlobalDim2 OR CloseByAllDimensions THEN
+                                          //OS011e os.jgl
+                                            GenJnlLine."Shortcut Dimension 2 Code" := GlobalDimVal2;
+                                        END;
+                                        //OS007e os.jgl
+                                        HandleGenJnlLine;
+                                      END;
+                                      //OS006e os.jgl
+                                    END;
+
+                                    EntryNoAmountBuf[2].FIND('+');
+                                    EntryNoAmountBuf[2].SETRANGE("Business Unit Code");
+                                    //OS007s os.jgl
+                                    IF NOT CompressRetainedEarnings THEN BEGIN
+                                      EntryNoAmountBuf[2].SETRANGE("Currency Code");
+                                      EntryNoAmountBuf[2].SETRANGE("Entry No.");
+                                      EntryNoAmountBuf[2].SETRANGE("Debit/Credit");
+                                    END;
+                                    //OS007e os.jgl
+                                  UNTIL EntryNoAmountBuf[2].NEXT=0;
+                                END;
+                                //OS001e os.jgl
+                              END;
+                               }
+
+    { 7069;1   ;DataItem;                    ;
+               DataItemTable=Table17;
+               DataItemTableView=SORTING(G/L Account No.,Posting Date);
+               OnPreDataItem=BEGIN
+                               Window.UPDATE(2,Text013);
+                               Window.UPDATE(3,0);
+
+                               SETRANGE("Posting Date",FiscalYearStartDate,FiscYearClosingDate);
+
+                               MaxEntry := COUNT;
+
+                               EntryCount := 0;
+
+                               LastWindowUpdateDateTime := CURRENTDATETIME;
+                             END;
+
+               OnAfterGetRecord=VAR
+                                  TempDimBuf2@1001 : TEMPORARY Record 360;
+                                  EntryNo@1002 : Integer;
+                                BEGIN
+                                  EntryCount := EntryCount + 1;
+                                  IF CURRENTDATETIME - LastWindowUpdateDateTime > 1000 THEN BEGIN
+                                    LastWindowUpdateDateTime := CURRENTDATETIME;
+                                    Window.UPDATE(3,ROUND(EntryCount / MaxEntry * 10000,1));
+                                  END;
+
+                                  //OS001s os.jgl
+                                  TempDimBuf.DELETEALL;
+                                  GetGLEntryDimensions("Entry No.",TempDimBuf,"Dimension Set ID");
+
+                                  //OS008s os.jgl
+                                  //OS011s os.jgl
+                                  IF CloseByAllDimensions THEN BEGIN
+                                    EntryNo := DimBufMgt.GetDimensionId(TempDimBuf);
+                                  END ELSE BEGIN
+                                    // use only the selected Dimensions
+                                    TempDimBuf2.DELETEALL;
+                                    IF TempSelectedDim.FIND('-') THEN
+                                      REPEAT
+                                        IF TempDimBuf.GET(DATABASE::"G/L Entry","Entry No.",TempSelectedDim."Dimension Code")
+                                        THEN BEGIN
+                                          TempDimBuf2."Table ID" := TempDimBuf."Table ID";
+                                          TempDimBuf2."Dimension Code" := TempDimBuf."Dimension Code";
+                                          TempDimBuf2."Dimension Value Code" := TempDimBuf."Dimension Value Code";
+                                          TempDimBuf2.INSERT;
+                                        END;
+                                      UNTIL TempSelectedDim.NEXT = 0;
+
+                                    EntryNo := DimBufMgt.GetDimensionId(TempDimBuf2);
+                                  END;
+                                  //OS011e os.jgl
+                                  //OS008e os.jgl
+
+                                  EntryNoAmountBuf[1].RESET;
+                                  EntryNoAmountBuf[1]."G/L Account No." := "G/L Account No.";
+                                  IF ClosePerBusUnit AND FIELDACTIVE("Business Unit Code") THEN
+                                    EntryNoAmountBuf[1]."Business Unit Code" := "Business Unit Code"
+                                  ELSE
+                                    EntryNoAmountBuf[1]."Business Unit Code" := '';
+                                  EntryNoAmountBuf[1]."Currency Code" := "Currency Code";
+                                  EntryNoAmountBuf[1]."Entry No." := EntryNo;
+                                  // debit/credit decision cascade: FCY first, LCY next (adjustments), ACY last (other adjustments), if all zero then both
+                                  IF "Currency Code"<>'' THEN BEGIN
+                                    //OS012s os.jgl
+                                    // extended debit/credit handling:
+                                    //   If it's a closing entry, exchange debit and credit
+                                    //   If it's a correction entry, exchange debit and credit, too
+                                    // ************************************************** Plexada ***********************************
+                                    // Original Code:
+                                    // IF "Posting Date" <> CLOSINGDATE("Posting Date") THEN BEGIN
+                                    //   IF "Debit Amount (FCY)"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                    //   ELSE IF "Credit Amount (FCY)"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                    //   ELSE IF "Debit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                    //   ELSE IF "Credit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                    //   ELSE IF "Add.-Currency Debit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                    //   ELSE IF "Add.-Currency Credit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                    //   ELSE
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Both;
+                                    // END ELSE BEGIN
+                                    //   IF "Debit Amount (FCY)"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                    //   ELSE IF "Credit Amount (FCY)"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                    //   ELSE IF "Debit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                    //   ELSE IF "Credit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                    //   ELSE IF "Add.-Currency Debit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                    //   ELSE IF "Add.-Currency Credit Amount"<>0 THEN
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                    //   ELSE
+                                    //     EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Both;
+                                    // END;
+                                    // ************************************************** Plexada ***********************************
+                                    IF "Posting Date" <> CLOSINGDATE("Posting Date") THEN BEGIN
+                                      IF "Amount (FCY)" > 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                      ELSE IF "Amount (FCY)" < 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                      ELSE IF Amount > 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                      ELSE IF Amount < 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                      ELSE IF "Additional-Currency Amount" > 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                      ELSE IF "Additional-Currency Amount" < 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                      ELSE
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Both;
+                                    END ELSE BEGIN
+                                      IF "Amount (FCY)" > 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                      ELSE IF "Amount (FCY)" < 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                      ELSE IF Amount > 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                      ELSE IF Amount < 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                      ELSE IF "Additional-Currency Amount" > 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Credit
+                                      ELSE IF "Additional-Currency Amount" < 0 THEN
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Debit
+                                      ELSE
+                                        EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Both;
+                                    END;
+                                    //OS012e os.jgl
+                                  END ELSE
+                                    EntryNoAmountBuf[1]."Debit/Credit":=EntryNoAmountBuf[1]."Debit/Credit"::Both;
+                                  IF EntryNoAmountBuf[1].FIND THEN BEGIN
+                                    EntryNoAmountBuf[1].Amount := EntryNoAmountBuf[1].Amount + Amount;
+                                    EntryNoAmountBuf[1].Amount2 := EntryNoAmountBuf[1].Amount2 + "Additional-Currency Amount";
+                                    EntryNoAmountBuf[1].AmountFCY := EntryNoAmountBuf[1].AmountFCY + "Amount (FCY)";
+                                    EntryNoAmountBuf[1].MODIFY;
+                                  END ELSE BEGIN
+                                    EntryNoAmountBuf[1].Amount := Amount;
+                                    EntryNoAmountBuf[1].Amount2 := "Additional-Currency Amount";
+                                    EntryNoAmountBuf[1].AmountFCY := "Amount (FCY)";
+                                    EntryNoAmountBuf[1].INSERT;
+                                  END;
+                                  //OS001e os.jgl
+                                END;
+
+               OnPostDataItem=VAR
+                                SkipEntry@119451021 : Boolean;
+                                GlobalDimVal1@1004 : Code[20];
+                                GlobalDimVal2@1005 : Code[20];
+                                NewDimensionID@1002 : Integer;
+                              BEGIN
+                                //OS001s os.jgl
+                                EntryNoAmountBuf[1].RESET;
+                                EntryNoAmountBuf[1].SETRANGE("G/L Account No.","G/L Account"."No.");
+                                MaxEntry := EntryNoAmountBuf[1].COUNT;
+                                EntryCount := 0;
+                                Window.UPDATE(2,Text012);
+                                Window.UPDATE(3,0);
+
+                                IF EntryNoAmountBuf[1].FIND('-') THEN BEGIN
+                                  REPEAT
+                                    EntryCount := EntryCount + 1;
+                                    IF CURRENTDATETIME - LastWindowUpdateDateTime > 1000 THEN BEGIN
+                                      LastWindowUpdateDateTime := CURRENTDATETIME;
+                                      Window.UPDATE(3,ROUND(EntryCount / MaxEntry * 10000,1));
+                                    END;
+
+                                    IF (EntryNoAmountBuf[1].Amount <> 0) OR (EntryNoAmountBuf[1].Amount2 <> 0) OR (EntryNoAmountBuf[1].AmountFCY <> 0) THEN BEGIN
+                                      //OS006s os.jgl
+                                      SkipEntry := FALSE;
+                                      IF EntryNoAmountBuf[1]."Currency Code" <> '' THEN BEGIN
+                                        EntryNoAmountBuf[3].RESET;
+                                        EntryNoAmountBuf[3].SETRANGE("Business Unit Code",EntryNoAmountBuf[1]."Business Unit Code");
+                                        EntryNoAmountBuf[3].SETRANGE("Currency Code",EntryNoAmountBuf[1]."Currency Code");
+                                        EntryNoAmountBuf[3].SETRANGE("G/L Account No.",EntryNoAmountBuf[1]."G/L Account No.");
+                                        EntryNoAmountBuf[3].SETRANGE("Entry No.",EntryNoAmountBuf[1]."Entry No.");
+                                        EntryNoAmountBuf[3].CALCSUMS(Amount,Amount2,AmountFCY);
+                                        IF (EntryNoAmountBuf[3].Amount = 0) AND (EntryNoAmountBuf[3].Amount2 = 0) AND (EntryNoAmountBuf[3].AmountFCY = 0 ) THEN
+                                          SkipEntry := TRUE;
+                                      END;
+                                      IF NOT SkipEntry THEN BEGIN
+                                        GenJnlLine."Line No." := GenJnlLine."Line No." + 10000;
+                                        GenJnlLine."Account No." := "G/L Account No.";
+                                        GenJnlLine."Source Code" := SourceCodeSetup."Close Income Statement";
+                                        GenJnlLine."Reason Code" := GenJnlBatch."Reason Code";
+                                        //OS004s os.jgl
+                                        // Original code:
+                                        // GenJnlLine.SetIgnoreFixedCurrency(TRUE);
+                                        //OS004e os.jgl
+                                        GenJnlLine."Currency Code" := EntryNoAmountBuf[1]."Currency Code";
+                                        //OS002s os.jgl
+                                        GenJnlLine."Currency Factor" := 0;
+                                        //OS002e os.jgl
+                                        GenJnlLine.Amount := -EntryNoAmountBuf[1].AmountFCY;
+                                        //OS004s os.jgl
+                                        GenJnlLine."Amount (LCY)" := -EntryNoAmountBuf[1].Amount;
+                                        IF GenJnlLine."Amount (LCY)" <> 0 THEN
+                                          GenJnlLine."Currency Factor" := GenJnlLine.Amount / GenJnlLine."Amount (LCY)";
+                                        GenJnlLine.UpdateLineBalance;
+                                        //OS004e os.jgl
+                                        GenJnlLine."Source Currency Code" := GLSetup."Additional Reporting Currency";
+                                        GenJnlLine."Source Currency Amount" := -EntryNoAmountBuf[1].Amount2;
+                                        GenJnlLine."Business Unit Code" := EntryNoAmountBuf[1]."Business Unit Code";
+
+                                        TempDimBuf.DELETEALL;
+                                        DimBufMgt.RetrieveDimensions(EntryNoAmountBuf[1]."Entry No.",TempDimBuf);
+                                        NewDimensionID := DimMgt.CreateDimSetIDFromDimBuf(TempDimBuf);
+                                        GenJnlLine."Dimension Set ID" := NewDimensionID;
+                                        DimMgt.UpdateGlobalDimFromDimSetID(NewDimensionID,GlobalDimVal1,GlobalDimVal2);
+                                        GenJnlLine."Shortcut Dimension 1 Code" := '';
+                                        //OS011s os.jgl
+                                        IF ClosePerGlobalDim1 OR CloseByAllDimensions THEN
+                                        //OS011e os.jgl
+                                          GenJnlLine."Shortcut Dimension 1 Code" := GlobalDimVal1;
+                                        GenJnlLine."Shortcut Dimension 2 Code" := '';
+                                        //OS011s os.jgl
+                                        IF ClosePerGlobalDim2 OR CloseByAllDimensions THEN
+                                        //OS011e os.jgl
+                                          GenJnlLine."Shortcut Dimension 2 Code" := GlobalDimVal2;
+
+                                        HandleGenJnlLine;
+                                      END;
+                                      //OS006e os.jgl
+                                    END;
+                                  UNTIL EntryNoAmountBuf[1].NEXT = 0;
+                                END;
+                                //OS001e os.jgl
+                              END;
+
+               DataItemLink=G/L Account No.=FIELD(No.) }
+
+  }
+  REQUESTPAGE
+  {
+    PROPERTIES
+    {
+      SaveValues=Yes;
+      OnOpenPage=VAR
+                   BusUnit@119451061 : Record 220;
+                   GLAccount@1001 : Record 15;
+                   GLAccountCategory@1000 : Record 570;
+                 BEGIN
+                   IF PostingDescription = '' THEN
+                     PostingDescription :=
+                       COPYSTR(ObjTransl.TranslateObject(ObjTransl."Object Type"::Report,REPORT::"Close Income Statement P4TC"),1,30);
+                   EndDateReq := 0D;
+                   AccountingPeriod.SETRANGE("New Fiscal Year",TRUE);
+                   AccountingPeriod.SETRANGE("Date Locked",TRUE);
+                   IF AccountingPeriod.FINDLAST THEN BEGIN
+                     EndDateReq := AccountingPeriod."Starting Date" - 1;
+                     IF NOT ValidateEndDate(FALSE) THEN
+                       EndDateReq := 0D;
+                   END ELSE
+                     IF EndDateReq = 0D THEN
+                       ERROR(NoFiscalYearsErr);
+                   ValidateJnl;
+                   ColumnDim := DimSelectionBuf.GetDimSelectionText(3,REPORT::"Close Income Statement P4TC",'');
+                   IF RetainedEarningsGLAcc."No." = '' THEN BEGIN
+                     GLAccountCategory.SETRANGE("Account Category",GLAccountCategory."Account Category"::Equity);
+                     GLAccountCategory.SETRANGE(
+                       "Additional Report Definition",GLAccountCategory."Additional Report Definition"::"Retained Earnings");
+                     IF GLAccountCategory.FINDFIRST THEN BEGIN
+                       GLAccount.SETRANGE("Account Subcategory Entry No.",GLAccountCategory."Entry No.");
+                       IF GLAccount.FINDFIRST THEN
+                         RetainedEarningsGLAcc."No." := GLAccount."No.";
+                     END;
+                   END;
+                 END;
+
+    }
+    CONTROLS
+    {
+      { 1900000001;0;Container;
+                  ContainerType=ContentArea }
+
+      { 1900000002;1;Group  ;
+                  CaptionML=ENU=Options }
+
+      { 1   ;2   ;Field     ;
+                  Name=FiscalYearEndingDate;
+                  CaptionML=ENU=Fiscal Year Ending Date;
+                  ToolTipML=ENU=Specifies the last date in the closed fiscal year. This date is used to determine the closing date.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=EndDateReq;
+                  OnValidate=BEGIN
+                               ValidateEndDate(TRUE);
+                             END;
+                              }
+
+      { 2   ;2   ;Field     ;
+                  Name=GenJournalTemplate;
+                  CaptionML=ENU=Gen. Journal Template;
+                  ToolTipML=ENU=Specifies the general journal template that is used by the batch job.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=GenJnlLine."Journal Template Name";
+                  TableRelation="Gen. Journal Template" WHERE (Type=CONST(System));
+                  OnValidate=BEGIN
+                               GenJnlLine."Journal Batch Name" := '';
+                               DocNo := '';
+                               //OS001s jgl
+                               IF GenJnlTemplate.GET(GenJnlLine."Journal Template Name") THEN
+                                 GenJnlTemplate.TESTFIELD(Type,GenJnlTemplate.Type::System);
+                               //OS001e jg
+                             END;
+                              }
+
+      { 3   ;2   ;Field     ;
+                  Name=GenJournalBatch;
+                  Lookup=Yes;
+                  CaptionML=ENU=Gen. Journal Batch;
+                  ToolTipML=ENU=Specifies the general journal batch that is used by the batch job.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=GenJnlLine."Journal Batch Name";
+                  OnValidate=BEGIN
+                               IF GenJnlLine."Journal Batch Name" <> '' THEN BEGIN
+                                 GenJnlLine.TESTFIELD("Journal Template Name");
+                                 GenJnlBatch.GET(GenJnlLine."Journal Template Name",GenJnlLine."Journal Batch Name");
+                               END;
+                               ValidateJnl;
+                             END;
+
+                  OnLookup=BEGIN
+                             GenJnlLine.TESTFIELD("Journal Template Name");
+                             GenJnlTemplate.GET(GenJnlLine."Journal Template Name");
+                             GenJnlBatch.FILTERGROUP(2);
+                             GenJnlBatch.SETRANGE("Journal Template Name",GenJnlLine."Journal Template Name");
+                             GenJnlBatch.FILTERGROUP(0);
+                             GenJnlBatch."Journal Template Name" := GenJnlLine."Journal Template Name";
+                             GenJnlBatch.Name := GenJnlLine."Journal Batch Name";
+                             IF PAGE.RUNMODAL(0,GenJnlBatch) = ACTION::LookupOK THEN BEGIN
+                               Text := GenJnlBatch.Name;
+                               EXIT(TRUE);
+                             END;
+                           END;
+                            }
+
+      { 8   ;2   ;Field     ;
+                  Name=DocumentNo;
+                  CaptionML=ENU=Document No.;
+                  ToolTipML=ENU=Specifies the number of the document that is processed by the report or batch job.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=DocNo }
+
+      { 11  ;2   ;Field     ;
+                  Name=RetainedEarningsAcc;
+                  CaptionML=ENU=Retained Earnings Acc.;
+                  ToolTipML=ENU=Specifies the retained earnings account that the batch job posts to. This account should be the same as the account that is used by the Close Income Statement batch job.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=RetainedEarningsGLAcc."No.";
+                  TableRelation="G/L Account" WHERE (Account Type=CONST(Posting),
+                                                     Account Category=FILTER(' '|Equity),
+                                                     Income/Balance=CONST(Balance Sheet));
+                  OnValidate=BEGIN
+                               IF RetainedEarningsGLAcc."No." <> '' THEN BEGIN
+                                 RetainedEarningsGLAcc.FIND;
+                                 RetainedEarningsGLAcc.CheckGLAcc;
+                               END;
+                             END;
+                              }
+
+      { 119451021;2;Field   ;
+                  CaptionML=ENU=Only one line for retained earnings;
+                  SourceExpr=CompressRetainedEarnings }
+
+      { 4   ;2   ;Field     ;
+                  Name=PostingDescription;
+                  CaptionML=ENU=Posting Description;
+                  ToolTipML=ENU=Specifies the description that accompanies the posting.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PostingDescription }
+
+      { 119451061;2;Group   ;
+                  CaptionML=ENU=Close by;
+                  GroupType=Group }
+
+      { 119451023;3;Field   ;
+                  CaptionML=ENU=Business Unit Code;
+                  ToolTipML=ENU=Specifies the code for the business unit, in a company group structure.;
+                  ApplicationArea=#Advanced;
+                  SourceExpr=ClosePerBusUnit }
+
+      { 119451022;3;Field   ;
+                  CaptionML=ENU=all posted Dimenions;
+                  SourceExpr=CloseByAllDimensions }
+
+      { 119451062;3;Field   ;
+                  Name=CloseBySelectedDimLbl;
+                  CaptionML=ENU=Dimensions;
+                  ToolTipML=ENU=Specifies dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
+                  ApplicationArea=#Suite;
+                  SourceExpr=ColumnDim;
+                  OnAssistEdit=BEGIN
+                                 //OS008s os.jgl
+                                 DimSelectionBuf.SetDimSelectionMultiple(3,REPORT::"Close Income Statement P4TC",ColumnDim);
+                                 //OS008e os.jgl
+                               END;
+                                }
+
+      { 15  ;2   ;Field     ;
+                  Name=InventoryPeriodClosed;
+                  CaptionML=ENU=Inventory Period Closed;
+                  ToolTipML=ENU=Specifies that the inventory period has been closed.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=IsInvtPeriodClosed }
+
+    }
+  }
+  LABELS
+  {
+  }
+  CODE
+  {
+    VAR
+      AccountingPeriod@1012 : Record 50;
+      SourceCodeSetup@1013 : Record 242;
+      GenJnlTemplate@1014 : Record 80;
+      GenJnlBatch@1015 : Record 232;
+      GenJnlLine@1016 : Record 81;
+      RetainedEarningsGLAcc@1020 : Record 15;
+      GLSetup@1021 : Record 98;
+      DimSelectionBuf@1022 : Record 368;
+      SelectedDim@1023 : Record 369;
+      TempSelectedDim@1024 : TEMPORARY Record 369;
+      EntryNoAmountBuf@1025 : ARRAY [3] OF TEMPORARY Record 386;
+      TempDimBuf@119451021 : TEMPORARY Record 360;
+      NoSeriesMgt@1026 : Codeunit 396;
+      GenJnlPostLine@1027 : Codeunit 12;
+      DimMgt@1028 : Codeunit 408;
+      DimBufMgt@1029 : Codeunit 411;
+      Window@1031 : Dialog;
+      FiscalYearStartDate@1032 : Date;
+      FiscYearClosingDate@1033 : Date;
+      EndDateReq@1034 : Date;
+      DocNo@1035 : Code[20];
+      PostingDescription@1036 : Text[50];
+      ClosePerBusUnit@1037 : Boolean;
+      ClosePerGlobalDim1@1038 : Boolean;
+      ClosePerGlobalDim2@1039 : Boolean;
+      ColumnDim@1043 : Text[250];
+      ObjTransl@1004 : Record 377;
+      NoOfAccounts@1050 : Integer;
+      ThisAccountNo@1049 : Integer;
+      Text000@1053 : TextConst 'ENU=Enter the ending date for the fiscal year.';
+      Text001@1052 : TextConst 'ENU=Enter a Document No.';
+      Text002@1051 : TextConst 'ENU=Enter Retained Earnings Account No.';
+      Text008@1045 : TextConst 'ENU=Creating general journal lines...\\';
+      Text009@1030 : TextConst 'ENU=Account No.         #1##################\';
+      Text010@1019 : TextConst 'ENU=Now performing      #2##################\';
+      Text011@1011 : TextConst 'ENU="                    @3@@@@@@@@@@@@@@@@@@\"';
+      Text019@1010 : TextConst 'ENU="                    @4@@@@@@@@@@@@@@@@@@\"';
+      Text012@1058 : TextConst 'ENU=Creating Gen. Journal lines';
+      Text013@1008 : TextConst 'ENU=Calculating Amounts';
+      Text014@1007 : TextConst 'ENU=The fiscal year must be closed before the income statement can be closed.';
+      Text015@1006 : TextConst 'ENU=The fiscal year does not exist.';
+      Text017@1005 : TextConst 'ENU=The journal lines have successfully been created.';
+      Text020@1001 : TextConst 'ENU=The following G/L Accounts have mandatory dimension codes that have not been selected:';
+      Text021@1000 : TextConst 'ENU=\\In order to post to these accounts you must also select these dimensions:';
+      MaxEntry@1002 : Integer;
+      EntryCount@1057 : Integer;
+      LastWindowUpdateDateTime@1044 : DateTime;
+      NoFiscalYearsErr@1009 : TextConst 'ENU=No closed fiscal year exists.';
+      CompressRetainedEarnings@119451022 : Boolean;
+      CloseByAllDimensions@119451023 : Boolean;
+
+    LOCAL PROCEDURE ValidateEndDate@1(RealMode@1000 : Boolean) : Boolean;
+    VAR
+      OK@1001 : Boolean;
+    BEGIN
+      IF EndDateReq = 0D THEN
+        EXIT;
+
+      OK := AccountingPeriod.GET(EndDateReq + 1);
+      IF OK THEN
+        OK := AccountingPeriod."New Fiscal Year";
+      IF OK THEN BEGIN
+        IF NOT AccountingPeriod."Date Locked" THEN BEGIN
+          IF NOT RealMode THEN
+            EXIT;
+          ERROR(Text014);
+        END;
+        FiscYearClosingDate := CLOSINGDATE(EndDateReq);
+        AccountingPeriod.SETRANGE("New Fiscal Year",TRUE);
+        OK := AccountingPeriod.FIND('<');
+        FiscalYearStartDate := AccountingPeriod."Starting Date";
+      END;
+      IF NOT OK THEN BEGIN
+        IF NOT RealMode THEN
+          EXIT;
+        ERROR(Text015);
+      END;
+      EXIT(TRUE);
+    END;
+
+    LOCAL PROCEDURE ValidateJnl@2();
+    BEGIN
+      DocNo := '';
+      IF GenJnlBatch.GET(GenJnlLine."Journal Template Name",GenJnlLine."Journal Batch Name") THEN
+        IF GenJnlBatch."No. Series" <> '' THEN
+          DocNo := NoSeriesMgt.TryGetNextNo(GenJnlBatch."No. Series",EndDateReq);
+    END;
+
+    LOCAL PROCEDURE HandleGenJnlLine@4();
+    BEGIN
+      //OS001s os.jgl
+      GenJnlLine."Force Post" := TRUE;
+      //OS004s os.jgl
+      GenJnlLine."System-Created Entry" := TRUE;
+      //OS004e os.jgl
+      //Handle all postings via system journal batch
+      GenJnlLine.INSERT;
+      //OS001e os.jgl
+    END;
+
+    LOCAL PROCEDURE GetGLEntryDimensions@7(EntryNo@1000 : Integer;VAR DimBuf@1001 : Record 360;DimensionSetID@1002 : Integer);
+    VAR
+      DimSetEntry@1004 : Record 480;
+    BEGIN
+      DimSetEntry.SETRANGE("Dimension Set ID",DimensionSetID);
+      IF DimSetEntry.FINDSET THEN
+        REPEAT
+          DimBuf."Table ID" := DATABASE::"G/L Entry";
+          DimBuf."Entry No." := EntryNo;
+          DimBuf."Dimension Code" := DimSetEntry."Dimension Code";
+          DimBuf."Dimension Value Code" := DimSetEntry."Dimension Value Code";
+          DimBuf.INSERT;
+        UNTIL DimSetEntry.NEXT = 0;
+    END;
+
+    LOCAL PROCEDURE IsInvtPeriodClosed@3() : Boolean;
+    VAR
+      AccPeriod@1001 : Record 50;
+      InvtPeriod@1000 : Record 5814;
+    BEGIN
+      IF EndDateReq = 0D THEN
+        EXIT;
+      AccPeriod.GET(EndDateReq + 1);
+      AccPeriod.NEXT(-1);
+      EXIT(InvtPeriod.IsInvtPeriodClosed(AccPeriod."Starting Date"));
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.02             03.08.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     19.02.2011    os.jgl  SITC    Safe way for closing
+                                              !!! This is a major change in behaviour. Close Income Statement posts the result by
+                                              EntryNoAmountBuf, the accumulation is always by all fields (Business Unit, all Dimensions).
+                                              The reason for this is a "clean" closing under all circumstances. If you report the data
+                                              filtered, the Income Statement (and the Balance Statement) will always match as the
+                                              resulting Profit/Loss can be filtered, too.
+                                              Close by Currency Code, too. Closing by Currency requires one other thing:
+                                              You have to distinguish in debit and credit amounts toget reasonable exchange rates
+                                              (weighted average) and avoid "malformed" entries. To achieve this it's
+                                              easier to scan every single entry and accumulate in EntryNoAmountBuf than to
+                                              have lots of keys and do a "group by" with calcsums. It reduces the number of
+                                              keys required, and it avoids a possible source of malfunction.
+      OS002    15.03.2011     os.jgl  SITC    Bugfix: initialize the currency factor for every GenJnlLine
+      OS004    23.08.2011     os.jgl  SITC    Handling of unusual Amount combinations improved:
+                                              Amount <> 0, Amount (LCY) = 0 - can happen, Exchange Rate is set to 0.
+                                              Amount = 0, Amount (LCY) <> 0 - happens to all currency gain/loss accounts, Exchange Rate is
+                                                also set to 0.
+                                              All Journal lines are system-created entries now.
+      OS005    24.08.2011     os.jgl  SITC    Extended handling of debit/credit amounts:
+                                              If the entry is on a closing date and has FCY, mirror the debit/credit handling. This
+                                              ensures that previous closings are correctly added from the debit/credit perspective.
+      OS006    06.09.2011     os.jgl  SITC    Additional safety measure: if there is an FCY amount which has the same Amount on the
+                                              Debit/Credit for all Amount types (LCY/ACY/FCY), then ignore both.
+      OS007    27.11.2011     os.jgl  SITC    Additional option: Post the retained earnings as one line per business unit.
+                                              This will break the desired granularity fÅr reporting, the use of this option is not
+                                              recommended.
+      OS008    05.01.2012     os.jgl  SITC    Additional option: Close the Income Statement Accounts by chosen dimensions.
+                                              minor bug fixes
+      OS009    20.05.2012     os.jgl  SITC    Minor bugfixes: respect FIELDACTIVE for Global Dimensions 1 and 2
+                                              Fix for the request page
+      OS010    15.08.2012     os.jgl  SITC    Show the "Close by Business Unit" option. Preset the value according to the presence of
+                                              business units.
+      OS011    04.03.2013     os.jgl  SITC    DEV-31: Reintegrate an old feature: Close by all dimension combinations posted.
+      OS012    30.04.2013     os.jgl  SITC    BUG-11: Change the debit/credit handling to amount, to consider correction entries in the
+                                                right way. Correction entries have -debit, -credit amounts. These can lead to unwanted
+                                                effects when added on the debit, credit side.
+      PX013    06.04.2018     px.jgl  P4TC    Update to base NAV2018 NAVW111.00 (R94)
+      PX014    03.08.2018     px.jgl  P4TC    Update to base NAV2018 NAVW111.00.00.20348 (R94)
+    }
+    END.
+  }
+  RDLDATA
+  {
+  }
+}
+
diff --git a/report/report_0005274203.txt b/report/report_0005274203.txt
new file mode 100644
index 0000000..f5e8946
--- /dev/null
+++ b/report/report_0005274203.txt
@@ -0,0 +1,8447 @@
+OBJECT Report 5274203 Adjust Exchange Rates P4TC
+{
+  OBJECT-PROPERTIES
+  {
+    Date=03.08.18;
+    Time=12:00:00;
+    Version List=NAVW111.00.00.20348,NAVDACH11.00,P4TC3.02;
+  }
+  PROPERTIES
+  {
+    Permissions=TableData 17=rm,
+                TableData 21=rimd,
+                TableData 25=rimd,
+                TableData 86=rimd,
+                TableData 254=rimd,
+                TableData 379=rimd,
+                TableData 380=rimd;
+    CaptionML=ENU=Adjust Exchange Rates;
+    OnPreReport=BEGIN
+                  IF EndDateReq = 0D THEN
+                    EndDate := DMY2DATE(31,12,9999)
+                  ELSE
+                    EndDate := EndDateReq;
+
+                  //OS002s os.jgl
+                  AdjCustVendBank :=
+                    AdjustCustomer OR AdjustVendor OR AdjustBank OR AdjGLAccFCY;
+                  //OS002e os.jgl
+
+                  IF PostSettlement THEN
+                    IF NOT CONFIRM(Text1140000,FALSE) THEN
+                      ERROR(Text005);
+
+                  IF PostSettlement AND (PostingDocNo = '') THEN
+                    ERROR(Text000,GenJnlLine.FIELDCAPTION("Document No."));
+                  IF NOT AdjCustVendBank AND AdjGLAcc THEN
+                    IF NOT CONFIRM(Text001 + Text004,FALSE) THEN
+                      ERROR(Text005);
+
+                  SourceCodeSetup.GET;
+
+                  IF ExchRateAdjReg.FINDLAST THEN
+                    ExchRateAdjReg.INIT;
+
+                  GLSetup.GET;
+
+                  IF AdjGLAcc THEN BEGIN
+                    GLSetup.TESTFIELD("Additional Reporting Currency");
+
+                    Currency3.GET(GLSetup."Additional Reporting Currency");
+                    "G/L Account".GET(Currency3.GetRealizedGLGainsAccount);
+                    "G/L Account".TESTFIELD("ACY Exchange Rate Adjustment","G/L Account"."ACY Exchange Rate Adjustment"::"No Adjustment");
+
+                    "G/L Account".GET(Currency3.GetRealizedGLLossesAccount);
+                    "G/L Account".TESTFIELD("ACY Exchange Rate Adjustment","G/L Account"."ACY Exchange Rate Adjustment"::"No Adjustment");
+
+                    WITH VATPostingSetup2 DO
+                      IF FIND('-') THEN
+                        REPEAT
+                          IF "VAT Calculation Type" <> "VAT Calculation Type"::"Sales Tax" THEN BEGIN
+                            CheckExchRateAdjustment(
+                              "Purchase VAT Account",TABLECAPTION,FIELDCAPTION("Purchase VAT Account"));
+                            CheckExchRateAdjustment(
+                              "Reverse Chrg. VAT Acc.",TABLECAPTION,FIELDCAPTION("Reverse Chrg. VAT Acc."));
+                            CheckExchRateAdjustment(
+                              "Purch. VAT Unreal. Account",TABLECAPTION,FIELDCAPTION("Purch. VAT Unreal. Account"));
+                            CheckExchRateAdjustment(
+                              "Reverse Chrg. VAT Unreal. Acc.",TABLECAPTION,FIELDCAPTION("Reverse Chrg. VAT Unreal. Acc."));
+                            CheckExchRateAdjustment(
+                              "Sales VAT Account",TABLECAPTION,FIELDCAPTION("Sales VAT Account"));
+                            CheckExchRateAdjustment(
+                              "Sales VAT Unreal. Account",TABLECAPTION,FIELDCAPTION("Sales VAT Unreal. Account"));
+                          END;
+                        UNTIL NEXT = 0;
+
+                    WITH TaxJurisdiction2 DO
+                      IF FIND('-') THEN
+                        REPEAT
+                          CheckExchRateAdjustment(
+                            "Tax Account (Purchases)",TABLECAPTION,FIELDCAPTION("Tax Account (Purchases)"));
+                          CheckExchRateAdjustment(
+                            "Reverse Charge (Purchases)",TABLECAPTION,FIELDCAPTION("Reverse Charge (Purchases)"));
+                          CheckExchRateAdjustment(
+                            "Unreal. Tax Acc. (Purchases)",TABLECAPTION,FIELDCAPTION("Unreal. Tax Acc. (Purchases)"));
+                          CheckExchRateAdjustment(
+                            "Unreal. Rev. Charge (Purch.)",TABLECAPTION,FIELDCAPTION("Unreal. Rev. Charge (Purch.)"));
+                          CheckExchRateAdjustment(
+                            "Tax Account (Sales)",TABLECAPTION,FIELDCAPTION("Tax Account (Sales)"));
+                          CheckExchRateAdjustment(
+                            "Unreal. Tax Acc. (Sales)",TABLECAPTION,FIELDCAPTION("Unreal. Tax Acc. (Sales)"));
+                        UNTIL NEXT = 0;
+
+                    AddCurrCurrencyFactor :=
+                      CurrExchRate2.ExchangeRateAdjmt(PostingDate,GLSetup."Additional Reporting Currency");
+                  END;
+
+                  //MBK16s px.jgl
+                  SelectedDim.GetSelectedDim(USERID,3,REPORT::"Adjust Exchange Rates P4TC",'',TempSelectedDim);
+                  IF AdjustByAllDimensions THEN BEGIN
+                    ColumnDim := AllDimCaptionLbl;
+                  END ELSE BEGIN
+                    ColumnDim := DimCaptionLbl + ColumnDim;
+                  END;
+                  //MBK16e px.jgl
+                END;
+
+    OnPostReport=BEGIN
+                   UpdateAnalysisView.UpdateAll(0,TRUE);
+                 END;
+
+  }
+  DATASET
+  {
+    { 5444;    ;DataItem;                    ;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number)
+                                 WHERE(Number=CONST(1)) }
+
+    { 1140005;1;Column  ;CompanyName         ;
+               SourceExpr=COMPANYPROPERTY.DISPLAYNAME }
+
+    { 1140000;1;Column  ;IntegerNumber       ;
+               SourceExpr=Integer.Number }
+
+    { 1140003;1;Column  ;PageCaption         ;
+               SourceExpr=PageCaptionLbl }
+
+    { 1140006;1;Column  ;AdjustExchRatesCaption;
+               SourceExpr=AdjustExchRatesCaptionLbl }
+
+    { 119451051;1;Column;BalanceAfterAdjustCaption;
+               SourceExpr=BalanceAfterAdjustCaptionLbl }
+
+    { 119451044;1;Column;AdjBaseLCYCaption   ;
+               SourceExpr=AdjBaseLCYCaptionLbl }
+
+    { 119451052;1;Column;BalanceAtDateCaption;
+               SourceExpr=BalanceAtDateLbl }
+
+    { 4146;1   ;DataItem;                    ;
+               DataItemTable=Table4;
+               DataItemTableView=SORTING(Code);
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=VAR
+                               "***** Plexada Variables *****"@1000000008 : Integer;
+                               CustPostGroupL@1000000007 : Record 92;
+                               VendPostGroupL@1000000006 : Record 93;
+                               JobPostGroupL@1000000005 : Record 208;
+                               BankPostGroupL@1000000004 : Record 277;
+                               TaxJurisdictionL@1000000003 : Record 320;
+                               VATPostSetupL@1000000002 : Record 325;
+                               FAPostGroupL@1000000001 : Record 5606;
+                               ItemPostSetupL@1000000000 : Record 5813;
+                             BEGIN
+                               CheckPostingDate;
+                               IF NOT AdjCustVendBank THEN
+                                 CurrReport.BREAK;
+
+                               Window.OPEN(
+                                 Text006 +
+                                 //OS002s os.jgl
+                                 TextGLAccFCY +
+                                 //OS002e os.jgl
+                                 Text007 +
+                                 Text008 +
+                                 Text009 +
+                                 Text010);
+
+                               CustNoTotal := Customer.COUNT;
+                               VendNoTotal := Vendor.COUNT;
+                               //PX014s px.jgl
+                               "Bank Account".FILTERGROUP(11);
+                               "Bank Account".SETRANGE("FCY Exchange Rate Adjustment",TRUE);
+                               "Bank Account".FILTERGROUP(0);
+                               BankAccNoTotal := "Bank Account".COUNT;
+                               "Bank Account".RESET;
+                               GLAccFCY.FILTERGROUP(11);
+                               GLAccFCY.SETRANGE("FCY Exchange Rate Adjustment",TRUE);
+                               GLAccFCY.FILTERGROUP(0);
+                               GLAccNoFCYTotal := GLAccFCY.COUNT;
+                               GLAccFCY.RESET;
+                               //PX014e px.jgl
+
+                               //checks on all posting setups to make sure we don't catch an account which has system-created entries (like,
+                               //"Acccounts payable" for instance). The "direct" flag would be one hint, but unfortunally not enough. Only balance sheet accounts
+                               //are affected, though
+                               IF AdjGLAccFCY THEN BEGIN
+                                 //Customer Posting Group
+                                 WITH CustPostGroupL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Receivables Account",TABLECAPTION,FIELDCAPTION("Receivables Account"));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                                 //Vendor Posting Group
+                                 WITH VendPostGroupL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Payables Account",TABLECAPTION,FIELDCAPTION("Payables Account"));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                                 //Job Posting Group
+                                 WITH JobPostGroupL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "WIP Costs Account",TABLECAPTION,FIELDCAPTION("WIP Costs Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "WIP Accrued Costs Account",TABLECAPTION,FIELDCAPTION("WIP Accrued Costs Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "WIP Accrued Sales Account",TABLECAPTION,FIELDCAPTION("WIP Accrued Sales Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "WIP Invoiced Sales Account",TABLECAPTION,FIELDCAPTION("WIP Invoiced Sales Account"));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                                 //Bank Posting Group
+                                 WITH BankPostGroupL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "G/L Bank Account No.",TABLECAPTION,FIELDCAPTION("G/L Bank Account No."));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                                 //VAT Posting Setup
+                                 WITH VATPostSetupL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Sales VAT Account",TABLECAPTION,FIELDCAPTION("Sales VAT Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Sales VAT Unreal. Account",TABLECAPTION,FIELDCAPTION("Sales VAT Unreal. Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Purchase VAT Account",TABLECAPTION,FIELDCAPTION("Purchase VAT Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Purch. VAT Unreal. Account",TABLECAPTION,FIELDCAPTION("Purch. VAT Unreal. Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Reverse Chrg. VAT Acc.",TABLECAPTION,FIELDCAPTION("Reverse Chrg. VAT Acc."));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Reverse Chrg. VAT Unreal. Acc.",TABLECAPTION,FIELDCAPTION("Reverse Chrg. VAT Unreal. Acc."));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                                 WITH TaxJurisdictionL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Tax Account (Purchases)",TABLECAPTION,FIELDCAPTION("Tax Account (Purchases)"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Reverse Charge (Purchases)",TABLECAPTION,FIELDCAPTION("Reverse Charge (Purchases)"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Unreal. Tax Acc. (Purchases)",TABLECAPTION,FIELDCAPTION("Unreal. Tax Acc. (Purchases)"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Unreal. Rev. Charge (Purch.)",TABLECAPTION,FIELDCAPTION("Unreal. Rev. Charge (Purch.)"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Tax Account (Sales)",TABLECAPTION,FIELDCAPTION("Tax Account (Sales)"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Unreal. Tax Acc. (Sales)",TABLECAPTION,FIELDCAPTION("Unreal. Tax Acc. (Sales)"));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                                 //FA Posting Group
+                                 WITH FAPostGroupL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Acquisition Cost Account",TABLECAPTION,FIELDCAPTION("Acquisition Cost Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Accum. Depreciation Account",TABLECAPTION,FIELDCAPTION("Accum. Depreciation Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Acq. Cost Acc. on Disposal",TABLECAPTION,FIELDCAPTION("Acq. Cost Acc. on Disposal"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Accum. Depr. Acc. on Disposal",TABLECAPTION,FIELDCAPTION("Accum. Depr. Acc. on Disposal"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Book Val. Acc. on Disp. (Gain)",TABLECAPTION,FIELDCAPTION("Book Val. Acc. on Disp. (Gain)"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Book Val. Acc. on Disp. (Loss)",TABLECAPTION,FIELDCAPTION("Book Val. Acc. on Disp. (Loss)"));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                                 //Item Posting Setup
+                                 WITH ItemPostSetupL DO BEGIN
+                                   IF FIND('-') THEN BEGIN
+                                     REPEAT
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Inventory Account",TABLECAPTION,FIELDCAPTION("Inventory Account"));
+                                       CheckGLFCYExchRateAdjustment(
+                                         "Inventory Account (Interim)",TABLECAPTION,FIELDCAPTION("Inventory Account (Interim)"));
+                                     UNTIL NEXT=0;
+                                   END;
+                                 END;
+                               END;
+                               //OS002e os.jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  "Last Date Adjusted" := PostingDate;
+                                  IF PostSettlement THEN
+                                    MODIFY;
+
+                                  "Currency Factor" :=
+                                    CurrExchRate.ExchangeRateAdjmt(PostingDate,Code);
+
+                                  Currency2 := Currency;
+                                  Currency2.INSERT;
+                                  FindCurrency(PostingDate,Code);
+                                END;
+
+               OnPostDataItem=BEGIN
+                                IF (Code = '') AND AdjCustVendBank THEN
+                                  ERROR(Text011);
+                              END;
+
+               ReqFilterFields=Code }
+
+    { 1   ;2   ;Column  ;Code_Currency       ;
+               IncludeCaption=Yes;
+               SourceExpr=Currency.Code }
+
+    { 119451022;2;Column;BankAccountsCaption ;
+               SourceExpr=BankAccountsCaptionLbl }
+
+    { 4558;2   ;DataItem;                    ;
+               DataItemTable=Table270;
+               DataItemTableView=SORTING(Bank Acc. Posting Group)
+                                 WHERE(FCY Exchange Rate Adjustment=FILTER(Yes));
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               IF NOT AdjustBank THEN
+                                 CurrReport.BREAK;
+                               SETRANGE("Date Filter",StartDate,EndDate);
+                               //OS001s os.jgl
+                               TempEntryNoAmountBuf.RESET;
+                               //OS001e os.jgl
+                               TempEntryNoAmountBuf.DELETEALL;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  BankAccNo := BankAccNo + 1;
+                                  Window.UPDATE(1,ROUND(BankAccNo / BankAccNoTotal * 10000,1));
+                                END;
+
+               OnPostDataItem=BEGIN
+                                //OS004s os.jgl
+                                AdjExchRateBuffer.RESET;
+                                IF AdjExchRateBuffer.FIND('-') THEN BEGIN
+                                  REPEAT
+                                    InsertExchRateAdjmtReg(3,AdjExchRateBuffer."Posting Group",AdjExchRateBuffer."Currency Code");
+                                  UNTIL AdjExchRateBuffer.NEXT=0;
+                                END;
+                                AdjExchRateBuffer.DELETEALL;
+                                //OS004e os.jgl
+                              END;
+
+               DataItemLink=Currency Filter=FIELD(Code) }
+
+    { 119451050;3;Column;No_BankAcc          ;
+               IncludeCaption=Yes;
+               SourceExpr="No." }
+
+    { 119451049;3;Column;CurrCode_BankAcc    ;
+               SourceExpr="Currency Code" }
+
+    { 119451024;3;DataItem;                  ;
+               DataItemTable=Table271;
+               DataItemTableView=SORTING(Bank Account No.,Currency Code,Dimension Set ID,Posting Date);
+               OnPreDataItem=BEGIN
+                               //MBK16s px.jgl
+                               SETRANGE("Currency Code",Currency.Code);
+                               //balance is needed
+                               SETRANGE("Posting Date",0D,EndDate);
+                               EntryNoAmountBuf2.RESET;
+                               EntryNoAmountBuf2.DELETEALL;
+                               //MBK16e px.jgl
+                             END;
+
+               OnAfterGetRecord=VAR
+                                  EntryNo@119451021 : Integer;
+                                BEGIN
+                                  //MBK16s px.jgl
+                                  TempDimBuf.RESET;
+                                  TempDimBuf.DELETEALL;
+                                  TempDimBuf2.RESET;
+                                  TempDimBuf2.DELETEALL;
+                                  //MBK17s px.jgl
+                                  SETRANGE("Dimension Set ID","Dimension Set ID");
+                                  CALCSUMS(Amount,"Amount (LCY)");
+                                  //MBK17e px.jgl
+                                  GetBLEntryDimensions("Bank Account Ledger Entry",TempDimBuf);
+                                  IF AdjustByAllDimensions THEN BEGIN
+                                    EntryNo := DimBufMgt.GetDimensionId(TempDimBuf);
+                                  END ELSE BEGIN
+                                    // use only the selected Dimensions
+                                    TempDimBuf2.DELETEALL;
+                                    IF TempSelectedDim.FIND('-') THEN
+                                      REPEAT
+                                        IF TempDimBuf.GET(DATABASE::"Bank Account Ledger Entry","Bank Account Ledger Entry"."Entry No.",TempSelectedDim."Dimension Code")
+                                        THEN BEGIN
+                                          TempDimBuf2."Table ID" := TempDimBuf."Table ID";
+                                          TempDimBuf2."Dimension Code" := TempDimBuf."Dimension Code";
+                                          TempDimBuf2."Dimension Value Code" := TempDimBuf."Dimension Value Code";
+                                          TempDimBuf2.INSERT;
+                                        END;
+                                      UNTIL TempSelectedDim.NEXT = 0;
+                                    EntryNo := DimBufMgt.GetDimensionId(TempDimBuf2);
+                                  END;
+
+                                  EntryNoAmountBuf2."G/L Account No." := "Bank Account No.";
+                                  EntryNoAmountBuf2."Business Unit Code" := '';
+                                  EntryNoAmountBuf2."Currency Code" := "Currency Code";
+                                  EntryNoAmountBuf2."Entry No." := EntryNo;
+                                  EntryNoAmountBuf2."Debit/Credit":=EntryNoAmountBuf2."Debit/Credit"::Both;
+                                  IF EntryNoAmountBuf2.FIND THEN BEGIN
+                                    EntryNoAmountBuf2.Amount := EntryNoAmountBuf2.Amount + "Amount (LCY)";
+                                    EntryNoAmountBuf2.AmountFCY := EntryNoAmountBuf2.AmountFCY + Amount;
+                                    EntryNoAmountBuf2.MODIFY;
+                                  END ELSE BEGIN
+                                    EntryNoAmountBuf2.Amount := "Amount (LCY)";
+                                    EntryNoAmountBuf2.AmountFCY := Amount;
+                                    EntryNoAmountBuf2.INSERT;
+                                  END;
+                                  //MBK16e px.jgl
+                                  //MBK17s px.jgl
+                                  FIND('+');
+                                  SETRANGE("Dimension Set ID");
+                                  //MBK17e px.jgl
+                                END;
+
+               DataItemLink=Bank Account No.=FIELD(No.) }
+
+    { 119451025;3;DataItem;BankBalanceByDimComb;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               OnPreDataItem=BEGIN
+                               //MBK16s px.jgl
+                               EntryNoAmountBuf2.RESET;
+                               IF EntryNoAmountBuf2.ISEMPTY THEN BEGIN
+                                 CurrReport.BREAK;
+                               END ELSE BEGIN
+                                 SETRANGE(Number,1,EntryNoAmountBuf2.COUNT);
+                               END;
+                               //MBK16e px.jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  //MBK16s px.jgl
+                                  IF Number = 1 THEN BEGIN
+                                    EntryNoAmountBuf2.FIND('-');
+                                  END ELSE BEGIN
+                                    EntryNoAmountBuf2.NEXT;
+                                  END;
+
+                                  TempDimSetEntry.RESET;
+                                  TempDimSetEntry.DELETEALL;
+                                  TempDimBuf.RESET;
+                                  TempDimBuf.DELETEALL;
+
+                                  AdjBase := EntryNoAmountBuf2.AmountFCY;
+                                  AdjBaseLCY := EntryNoAmountBuf2.Amount;
+                                  AdjAmount :=
+                                    ROUND(
+                                      CurrExchRate.ExchangeAmtFCYToLCYAdjmt(
+                                        PostingDate,Currency.Code,EntryNoAmountBuf2.AmountFCY,Currency."Currency Factor")) -
+                                    EntryNoAmountBuf2.Amount;
+
+                                  IF AdjAmount <> 0 THEN BEGIN
+                                    GenJnlLine.VALIDATE("Posting Date",PostingDate);
+                                    GenJnlLine."Document No." := PostingDocNo;
+                                    GenJnlLine."Account Type" := GenJnlLine."Account Type"::"Bank Account";
+                                    GenJnlLine.VALIDATE("Account No.","Bank Account"."No.");
+                                    DimBufMgt.RetrieveDimensions(EntryNoAmountBuf2."Entry No.",TempDimBuf);
+                                    DimValString := CreateDimValString(TempSelectedDim,TempDimBuf,AdjustByAllDimensions);
+                                    //MBK18s px.jgl
+                                    GenJnlLine.Description := DELCHR(PADSTR(STRSUBSTNO(PostingDescription,Currency.Code,AdjBase,DimValString),MAXSTRLEN(GenJnlLine.Description)),'<>');
+                                    //MBK18e px.jgl
+                                    GenJnlLine.VALIDATE(Amount,0);
+                                    GenJnlLine."Currency Code" := Currency.Code;
+                                    GenJnlLine."Amount (LCY)" := AdjAmount;
+                                    GenJnlLine."Source Currency Code" := Currency.Code;
+                                    IF Currency.Code = GLSetup."Additional Reporting Currency" THEN
+                                      GenJnlLine."Source Currency Amount" := 0;
+                                    GenJnlLine."Source Code" := SourceCodeSetup."Exchange Rate Adjmt.";
+                                    GenJnlLine."System-Created Entry" := TRUE;
+                                    IF PostSettlement THEN BEGIN
+                                      DimMgt.CopyDimBufToDimSetEntry(TempDimBuf,TempDimSetEntry);
+                                      PostGenJnlLine(GenJnlLine,TempDimSetEntry);
+                                      WITH TempEntryNoAmountBuf DO BEGIN
+                                        INIT;
+                                        "Business Unit Code" := '';
+                                        "Entry No." := GetDimCombID(TempDimBuf);
+                                        IF NOT FIND THEN
+                                          INSERT;
+                                        Amount := Amount + AdjAmount;
+                                        Amount2 := Amount2 + AdjBase;
+                                        MODIFY;
+                                      END;
+                                    END;
+                                    TotalAdjAmount := TotalAdjAmount + AdjAmount;
+                                    Window.UPDATE(4,TotalAdjAmount);
+                                  END ELSE
+                                    CurrReport.SKIP;
+
+                                  // collect all amounts belonging to this posting group
+                                  // currency code can be empty in bank account now - take currency.code (the value filtered to) instead
+                                  AdjExchRateBufferUpdate(
+                                    Currency.Code,"Bank Account"."Bank Acc. Posting Group",
+                                    AdjBase,AdjBaseLCY,AdjAmount,0,0,0,PostingDate,'');
+                                  //MBK16e px.jgl
+                                END;
+
+               OnPostDataItem=VAR
+                                No@119451021 : ARRAY [10] OF Code[20];
+                                TableID@119451022 : ARRAY [10] OF Integer;
+                              BEGIN
+                                //MBK16s px.jgl
+                                IF TempEntryNoAmountBuf.FIND('-') THEN
+                                  REPEAT
+                                    IF TempEntryNoAmountBuf.Amount <> 0 THEN BEGIN
+                                      TempDimSetEntry.RESET;
+                                      TempDimSetEntry.DELETEALL;
+                                      TempDimBuf.RESET;
+                                      TempDimBuf.DELETEALL;
+                                      //the obvious approach: take the dimension combinations that are posted on the bank account
+                                      //DimBufMgt.RetrieveDimensions(TempEntryNoAmountBuf."Entry No.",TempDimBuf);
+                                      //DimMgt.CopyDimBufToDimSetEntry(TempDimBuf,TempDimSetEntry);
+                                      IF TempEntryNoAmountBuf.Amount > 0 THEN BEGIN
+                                        Currency.TESTFIELD("Realized Gains Acc.");
+                                        //the specified approach: take the dimensions of the gain/loss g/l account
+                                        TableID[1] := DATABASE::"G/L Account";
+                                        No[1] := Currency."Realized Gains Acc.";
+                                        DimMgt.GetDefaultDimID(TableID,No,SourceCodeSetup."Exchange Rate Adjmt.",GenJnlLine."Shortcut Dimension 1 Code",
+                                          GenJnlLine."Shortcut Dimension 2 Code",0,0);
+                                        DimMgt.GetDimSetEntryDefaultDim(TempDimSetEntry);
+                                        // currency code can be empty in bank account now - take currency.code (the value filtered to) instead
+                                        //MBK18s px.jgl
+                                        CopyDimSetEntryToDimBuf(TempDimSetEntry,TempDimBuf);
+                                        DimValString := CreateDimValString(TempSelectedDim,TempDimBuf,TRUE);
+                                        PostAdjmt(
+                                          Currency.GetRealizedGainsAccount,-TempEntryNoAmountBuf.Amount,TempEntryNoAmountBuf.Amount2,
+                                          Currency.Code,TempDimSetEntry,PostingDate,'',DimValString);
+                                        //MBK18e px.jgl
+                                      END ELSE BEGIN
+                                        Currency.TESTFIELD("Realized Losses Acc.");
+                                        //the specified approach: take the dimensions of the gain/loss g/l account
+                                        TableID[1] := DATABASE::"G/L Account";
+                                        No[1] := Currency."Realized Losses Acc.";
+                                        DimMgt.GetDefaultDimID(TableID,No,SourceCodeSetup."Exchange Rate Adjmt.",GenJnlLine."Shortcut Dimension 1 Code",
+                                          GenJnlLine."Shortcut Dimension 2 Code",0,0);
+                                        DimMgt.GetDimSetEntryDefaultDim(TempDimSetEntry);
+                                        // currency code can be empty in bank account now - take currency.code (the value filtered to) instead
+                                        //MBK18s px.jgl
+                                        CopyDimSetEntryToDimBuf(TempDimSetEntry,TempDimBuf);
+                                        DimValString := CreateDimValString(TempSelectedDim,TempDimBuf,TRUE);
+                                        PostAdjmt(
+                                          Currency.GetRealizedLossesAccount,-TempEntryNoAmountBuf.Amount,TempEntryNoAmountBuf.Amount2,
+                                          Currency.Code,TempDimSetEntry,PostingDate,'',DimValString);
+                                        //MBK18e px.jgl
+                                      END;
+                                    END;
+                                  UNTIL TempEntryNoAmountBuf.NEXT = 0;
+                                TempEntryNoAmountBuf.DELETEALL;
+                                //MBK16e px.jgl
+                              END;
+                               }
+
+    { 119451032;4;Column;BalanceatDate_BankAcc;
+               SourceExpr=EntryNoAmountBuf2.AmountFCY }
+
+    { 119451031;4;Column;AdjBaseLCY          ;
+               SourceExpr=AdjBaseLCY }
+
+    { 119451030;4;Column;AdjAmount           ;
+               SourceExpr=AdjAmount }
+
+    { 119451029;4;Column;AdjBaseLCYAdjAmt    ;
+               SourceExpr=AdjBaseLCY + AdjAmount }
+
+    { 119451028;4;Column;RelationalCurrCode  ;
+               SourceExpr=CurrExchRate3."Relational Currency Code" }
+
+    { 119451027;4;Column;AdjustmentExchRateAmt;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Adjustment Exch. Rate Amount" }
+
+    { 119451026;4;Column;RelationalAdjmtExchRateAmt;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Relational Adjmt Exch Rate Amt" }
+
+    { 119451047;4;Column;ColumnDim_Bank      ;
+               SourceExpr=ColumnDim }
+
+    { 119451045;4;Column;DimValString_Bank   ;
+               SourceExpr=DimValString }
+
+    { 119451021;1;DataItem;GLCurrency        ;
+               DataItemTable=Table4;
+               DataItemTableView=SORTING(Code);
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               //OS011s os.jgl
+                               COPYFILTERS(Currency);
+                               //OS011e os.jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  //OS011s os.jgl
+                                  "Currency Factor" :=
+                                    CurrExchRate.ExchangeRateAdjmt(PostingDate,Code);
+
+                                  Currency2.GET(Code);
+                                  FindCurrency(PostingDate,Code);
+                                  //OS011e os.jgl
+                                END;
+                                 }
+
+    { 1000000011;2;Column;Code_GLCurrency    ;
+               IncludeCaption=Yes;
+               SourceExpr=GLCurrency.Code }
+
+    { 119451043;2;Column;GLAccFCYCaption     ;
+               SourceExpr=GLAccFCYLbl }
+
+    { 1000000000;2;DataItem;GLAccFCY         ;
+               DataItemTable=Table15;
+               DataItemTableView=SORTING(No.)
+                                 WHERE(FCY Exchange Rate Adjustment=FILTER(Yes));
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               //OS002s os.jgl
+                               IF NOT AdjGLAccFCY THEN
+                                 CurrReport.BREAK;
+                               SETRANGE("Date Filter",StartDate,EndDate);
+                               TempEntryNoAmountBuf.RESET;
+                               TempEntryNoAmountBuf.DELETEALL;
+                               //OS002e os.jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  //OS002s os.jgl
+                                  GLAccNoFCY:= GLAccNoFCY + 1;
+                                  //OS011s os.jgl
+                                  Window.UPDATE(5,ROUND(GLAccNoFCY / GLAccNoFCYTotal * 10000,1));
+                                  //OS011e os.jgl
+                                END;
+
+               OnPostDataItem=BEGIN
+                                //OS004s os.jgl
+                                AdjExchRateBuffer.RESET;
+                                IF AdjExchRateBuffer.FIND('-') THEN BEGIN
+                                  REPEAT
+                                    InsertExchRateAdjmtReg(0,AdjExchRateBuffer."Posting Group",AdjExchRateBuffer."Currency Code");
+                                  UNTIL AdjExchRateBuffer.NEXT=0;
+                                END;
+                                AdjExchRateBuffer.DELETEALL;
+                                //OS004e os.jgl
+                              END;
+
+               DataItemLink=Currency Filter=FIELD(Code) }
+
+    { 119451034;3;Column;No_GLAccFCY         ;
+               IncludeCaption=Yes;
+               SourceExpr="No." }
+
+    { 119451033;3;Column;CurrencyCode_GLAccFCY;
+               SourceExpr="Currency Code" }
+
+    { 119451023;3;DataItem;                  ;
+               DataItemTable=Table17;
+               DataItemTableView=SORTING(G/L Account No.,Currency Code,Dimension Set ID,Posting Date);
+               OnPreDataItem=BEGIN
+                               //MBK16s px.jgl
+                               SETRANGE("Currency Code",GLCurrency.Code);
+                               //balance is needed
+                               SETRANGE("Posting Date",0D,EndDate);
+                               EntryNoAmountBuf2.RESET;
+                               EntryNoAmountBuf2.DELETEALL;
+                               //MBK16e px.jgl
+                             END;
+
+               OnAfterGetRecord=VAR
+                                  EntryNo@119451021 : Integer;
+                                BEGIN
+                                  //MBK16s px.jgl
+                                  TempDimBuf.RESET;
+                                  TempDimBuf.DELETEALL;
+                                  TempDimBuf2.RESET;
+                                  TempDimBuf2.DELETEALL;
+                                  //MBK17s px.jgl
+                                  SETRANGE("Dimension Set ID","Dimension Set ID");
+                                  CALCSUMS("Amount (FCY)",Amount);
+                                  //MBK17e px.jgl
+                                  GetGLEntryDimensions("G/L Entry",TempDimBuf);
+                                  IF AdjustByAllDimensions THEN BEGIN
+                                    EntryNo := DimBufMgt.GetDimensionId(TempDimBuf);
+                                  END ELSE BEGIN
+                                    // use only the selected Dimensions
+                                    TempDimBuf2.DELETEALL;
+                                    IF TempSelectedDim.FIND('-') THEN
+                                      REPEAT
+                                        IF TempDimBuf.GET(DATABASE::"G/L Entry","Entry No.",TempSelectedDim."Dimension Code")
+                                        THEN BEGIN
+                                          TempDimBuf2."Table ID" := TempDimBuf."Table ID";
+                                          TempDimBuf2."Dimension Code" := TempDimBuf."Dimension Code";
+                                          TempDimBuf2."Dimension Value Code" := TempDimBuf."Dimension Value Code";
+                                          TempDimBuf2.INSERT;
+                                        END;
+                                      UNTIL TempSelectedDim.NEXT = 0;
+                                    EntryNo := DimBufMgt.GetDimensionId(TempDimBuf2);
+                                  END;
+
+                                  EntryNoAmountBuf2."G/L Account No." := "G/L Account No.";
+                                  EntryNoAmountBuf2."Business Unit Code" := '';
+                                  EntryNoAmountBuf2."Currency Code" := "Currency Code";
+                                  EntryNoAmountBuf2."Entry No." := EntryNo;
+                                  EntryNoAmountBuf2."Debit/Credit":=EntryNoAmountBuf2."Debit/Credit"::Both;
+                                  IF EntryNoAmountBuf2.FIND THEN BEGIN
+                                    EntryNoAmountBuf2.Amount := EntryNoAmountBuf2.Amount + Amount;
+                                    EntryNoAmountBuf2.Amount2 := EntryNoAmountBuf2.Amount2 + "Additional-Currency Amount";
+                                    EntryNoAmountBuf2.AmountFCY := EntryNoAmountBuf2.AmountFCY + "Amount (FCY)";
+                                    EntryNoAmountBuf2.MODIFY;
+                                  END ELSE BEGIN
+                                    EntryNoAmountBuf2.Amount := Amount;
+                                    EntryNoAmountBuf2.Amount2 := "Additional-Currency Amount";
+                                    EntryNoAmountBuf2.AmountFCY := "Amount (FCY)";
+                                    EntryNoAmountBuf2.INSERT;
+                                  END;
+                                  //MBK16e px.jgl
+                                  //PX019s px.jgl
+                                  IF PostSettlement THEN
+                                    MODIFYALL("Adjusted Currency Factor",GLCurrency."Currency Factor");
+                                  //PX019e px.jgl
+                                  //MBK17s px.jgl
+                                  FIND('+');
+                                  SETRANGE("Dimension Set ID");
+                                  //MBK17e px.jgl
+                                END;
+
+               DataItemLink=G/L Account No.=FIELD(No.) }
+
+    { 119451035;3;DataItem;GLBalanceByDimComb;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               OnPreDataItem=BEGIN
+                               //MBK16s px.jgl
+                               EntryNoAmountBuf2.RESET;
+                               IF EntryNoAmountBuf2.ISEMPTY THEN BEGIN
+                                 CurrReport.BREAK;
+                               END ELSE BEGIN
+                                 SETRANGE(Number,1,EntryNoAmountBuf2.COUNT);
+                               END;
+                               //MBK16e px.jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  //MBK16s px.jgl
+                                  IF Number = 1 THEN BEGIN
+                                    EntryNoAmountBuf2.FIND('-');
+                                  END ELSE BEGIN
+                                    EntryNoAmountBuf2.NEXT;
+                                  END;
+
+                                  TempDimSetEntry.RESET;
+                                  TempDimSetEntry.DELETEALL;
+                                  TempDimBuf.RESET;
+                                  TempDimBuf.DELETEALL;
+
+                                  AdjBase := EntryNoAmountBuf2.AmountFCY;
+                                  AdjBaseLCY := EntryNoAmountBuf2.Amount;
+                                  AdjAmount :=
+                                    ROUND(
+                                      CurrExchRate.ExchangeAmtFCYToLCYAdjmt(
+                                        PostingDate,GLCurrency.Code,EntryNoAmountBuf2.AmountFCY,GLCurrency."Currency Factor")) -
+                                    EntryNoAmountBuf2.Amount;
+
+                                  IF AdjAmount <> 0 THEN BEGIN
+                                    GenJnlLine.INIT;
+                                    GenJnlLine.VALIDATE("Posting Date",PostingDate);
+                                    GenJnlLine."Document No." := PostingDocNo;
+                                    GenJnlLine."Account Type" := GenJnlLine."Account Type"::"G/L Account";
+                                    GenJnlLine."Account No." := GLAccFCY."No.";
+                                    DimBufMgt.RetrieveDimensions(EntryNoAmountBuf2."Entry No.",TempDimBuf);
+                                    DimValString := CreateDimValString(TempSelectedDim,TempDimBuf,AdjustByAllDimensions);
+                                    //MBK18s px.jgl
+                                    GenJnlLine.Description := DELCHR(PADSTR(STRSUBSTNO(PostingDescription,GLCurrency.Code,AdjBase,DimValString),MAXSTRLEN(GenJnlLine.Description)),'<>');
+                                    //MBK18e px.jgl
+                                    GenJnlLine."Amount (LCY)" := AdjAmount;
+                                    GenJnlLine."Currency Code" := GLCurrency.Code;
+                                    GenJnlLine."Source Currency Code" := GLCurrency.Code;
+                                    IF GLCurrency.Code = GLSetup."Additional Reporting Currency" THEN
+                                      GenJnlLine."Source Currency Amount" := 0;
+                                    GenJnlLine."Source Code" := SourceCodeSetup."Exchange Rate Adjmt.";
+                                    GenJnlLine."System-Created Entry" := TRUE;
+                                    IF PostSettlement THEN BEGIN
+                                      DimMgt.CopyDimBufToDimSetEntry(TempDimBuf,TempDimSetEntry);
+                                      PostGenJnlLine(GenJnlLine,TempDimSetEntry);
+                                      WITH TempEntryNoAmountBuf DO BEGIN
+                                        INIT;
+                                        "Business Unit Code" := '';
+                                        "Entry No." := GetDimCombID(TempDimBuf);
+                                        IF NOT FIND THEN
+                                          INSERT;
+                                        Amount := Amount + AdjAmount;
+                                        Amount2 := Amount2 + AdjBase;
+                                        MODIFY;
+                                      END;
+                                    END;
+                                    TotalAdjAmount := TotalAdjAmount + AdjAmount;
+                                    Window.UPDATE(4,TotalAdjAmount);
+                                  END ELSE
+                                    CurrReport.SKIP;
+
+                                  // currency code can be empty in g/l account now - take currency.code (the value filtered to) instead
+                                  AdjExchRateBufferUpdate(
+                                    GLCurrency.Code,GLAccFCY."No.",
+                                    AdjBase,AdjBaseLCY,AdjAmount,0,0,0,PostingDate,'');
+                                  //MBK16e px.jgl
+                                END;
+
+               OnPostDataItem=VAR
+                                No@119451022 : ARRAY [10] OF Code[20];
+                                TableID@119451021 : ARRAY [10] OF Integer;
+                              BEGIN
+                                //MBK16s px.jgl
+                                IF TempEntryNoAmountBuf.FIND('-') THEN
+                                  REPEAT
+                                    IF TempEntryNoAmountBuf.Amount <> 0 THEN BEGIN
+                                      TempDimSetEntry.RESET;
+                                      TempDimSetEntry.DELETEALL;
+                                      TempDimBuf.RESET;
+                                      TempDimBuf.DELETEALL;
+                                      //the obvious approach: take the dimension combinations that are posted on the bank account
+                                      //DimBufMgt.RetrieveDimensions(TempEntryNoAmountBuf."Entry No.",TempDimBuf);
+                                      //DimMgt.CopyDimBufToDimSetEntry(TempDimBuf,TempDimSetEntry);
+                                      IF TempEntryNoAmountBuf.Amount > 0 THEN BEGIN
+                                        GLCurrency.TESTFIELD("Realized Gains Acc.");
+                                        //the specified approach: take the dimensions of the gain/loss g/l account
+                                        TableID[1] := DATABASE::"G/L Account";
+                                        No[1] := GLCurrency."Realized Gains Acc.";
+                                        DimMgt.GetDefaultDimID(TableID,No,SourceCodeSetup."Exchange Rate Adjmt.",GenJnlLine."Shortcut Dimension 1 Code",
+                                          GenJnlLine."Shortcut Dimension 2 Code",0,0);
+                                        DimMgt.GetDimSetEntryDefaultDim(TempDimSetEntry);
+                                        // currency code can be empty in bank account now - take currency.code (the value filtered to) instead
+                                        //MBK18s px.jgl
+                                        CopyDimSetEntryToDimBuf(TempDimSetEntry,TempDimBuf);
+                                        DimValString := CreateDimValString(TempSelectedDim,TempDimBuf,TRUE);
+                                        PostAdjmt(
+                                          GLCurrency.GetRealizedGainsAccount,-TempEntryNoAmountBuf.Amount,TempEntryNoAmountBuf.Amount2,
+                                          GLCurrency.Code,TempDimSetEntry,PostingDate,'',DimValString);
+                                        //MBK18e px.jgl
+                                      END ELSE BEGIN
+                                        GLCurrency.TESTFIELD("Realized Losses Acc.");
+                                        //the specified approach: take the dimensions of the gain/loss g/l account
+                                        TableID[1] := DATABASE::"G/L Account";
+                                        No[1] := GLCurrency."Realized Losses Acc.";
+                                        DimMgt.GetDefaultDimID(TableID,No,SourceCodeSetup."Exchange Rate Adjmt.",GenJnlLine."Shortcut Dimension 1 Code",
+                                          GenJnlLine."Shortcut Dimension 2 Code",0,0);
+                                        DimMgt.GetDimSetEntryDefaultDim(TempDimSetEntry);
+                                        // currency code can be empty in bank account now - take currency.code (the value filtered to) instead
+                                        //MBK18s px.jgl
+                                        CopyDimSetEntryToDimBuf(TempDimSetEntry,TempDimBuf);
+                                        DimValString := CreateDimValString(TempSelectedDim,TempDimBuf,TRUE);
+                                        PostAdjmt(
+                                          GLCurrency.GetRealizedLossesAccount,-TempEntryNoAmountBuf.Amount,TempEntryNoAmountBuf.Amount2,
+                                          GLCurrency.Code,TempDimSetEntry,PostingDate,'',DimValString);
+                                        //MBK18e px.jgl
+                                      END;
+                                    END;
+                                  UNTIL TempEntryNoAmountBuf.NEXT = 0;
+                                TempEntryNoAmountBuf.DELETEALL;
+                                //MBK16e px.jgl
+                              END;
+                               }
+
+    { 119451042;4;Column;BalanceatDateFCY_GLAccFCY;
+               SourceExpr=EntryNoAmountBuf2.AmountFCY }
+
+    { 119451041;4;Column;AdjBaseLCY_GLAccFCY ;
+               SourceExpr=AdjBaseLCY }
+
+    { 119451040;4;Column;AdjAmount_GLAccFCY  ;
+               SourceExpr=AdjAmount }
+
+    { 119451039;4;Column;AdjBaseLCYAdjAmt_GLAccFCY;
+               SourceExpr=AdjBaseLCY + AdjAmount }
+
+    { 119451038;4;Column;RelationalCurrCode_GLAccFCY;
+               SourceExpr=CurrExchRate3."Relational Currency Code" }
+
+    { 119451037;4;Column;AdjustmentExchRateAmt_GLAccFCY;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Adjustment Exch. Rate Amount" }
+
+    { 119451036;4;Column;RelationalAdjmtExchRateAmt_GLAccFCY;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Relational Adjmt Exch Rate Amt" }
+
+    { 119451048;4;Column;ColumnDim_GLAccFCY  ;
+               SourceExpr=ColumnDim }
+
+    { 119451046;4;Column;DimValString_GLAccFCY;
+               SourceExpr=DimValString }
+
+    { 6836;1   ;DataItem;                    ;
+               DataItemTable=Table18;
+               DataItemTableView=SORTING(No.);
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               IF NOT AdjCustVendBank THEN
+                                 CurrReport.BREAK;
+
+                               IF NOT AdjustCustomer THEN
+                                 CurrReport.BREAK;
+
+                               DtldCustLedgEntry.LOCKTABLE;
+                               CustLedgerEntry.LOCKTABLE;
+
+                               CustNo := 0;
+
+                               IF DtldCustLedgEntry.FIND('+') THEN
+                                 NewEntryNo := DtldCustLedgEntry."Entry No." + 1
+                               ELSE
+                                 NewEntryNo := 1;
+
+                               CLEAR(DimMgt);
+                               //OS001s os.jgl
+                               CLEAR(DimBufMgt);
+                               TempEntryNoAmountBuf.RESET;
+                               //OS001e os.jgl
+                               TempEntryNoAmountBuf.DELETEALL;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  CustNo := CustNo + 1;
+                                  Window.UPDATE(2,ROUND(CustNo / CustNoTotal * 10000,1));
+
+                                  TempCustLedgerEntry.DELETEALL;
+
+                                  Currency.COPYFILTER(Code,CustLedgerEntry."Currency Code");
+                                  CustLedgerEntry.FILTERGROUP(2);
+                                  CustLedgerEntry.SETFILTER("Currency Code",'<>%1','');
+                                  CustLedgerEntry.FILTERGROUP(0);
+
+                                  DtldCustLedgEntry.RESET;
+                                  DtldCustLedgEntry.SETCURRENTKEY("Customer No.","Posting Date","Entry Type");
+                                  DtldCustLedgEntry.SETRANGE("Customer No.","No.");
+                                  DtldCustLedgEntry.SETRANGE("Posting Date",CALCDATE('<+1D>',EndDate),DMY2DATE(31,12,9999));
+                                  IF DtldCustLedgEntry.FIND('-') THEN
+                                    REPEAT
+                                      CustLedgerEntry."Entry No." := DtldCustLedgEntry."Cust. Ledger Entry No.";
+                                      IF CustLedgerEntry.FIND('=') THEN
+                                        IF (CustLedgerEntry."Posting Date" >= StartDate) AND
+                                          (CustLedgerEntry."Posting Date" <= EndDate)
+                                        THEN BEGIN
+                                          TempCustLedgerEntry."Entry No." := CustLedgerEntry."Entry No.";
+                                          IF TempCustLedgerEntry.INSERT THEN;
+                                        END;
+                                    UNTIL DtldCustLedgEntry.NEXT = 0;
+
+                                  CustLedgerEntry.SETCURRENTKEY("Customer No.",Open);
+                                  CustLedgerEntry.SETRANGE("Customer No.","No.");
+                                  CustLedgerEntry.SETRANGE(Open,TRUE);
+                                  CustLedgerEntry.SETRANGE("Posting Date",0D,EndDate);
+                                  IF CustLedgerEntry.FIND('-') THEN
+                                    REPEAT
+                                      TempCustLedgerEntry."Entry No." := CustLedgerEntry."Entry No.";
+                                      IF TempCustLedgerEntry.INSERT THEN;
+                                    UNTIL CustLedgerEntry.NEXT = 0;
+                                  CustLedgerEntry.RESET;
+                                END;
+
+               OnPostDataItem=BEGIN
+                                IF CustNo <> 0 THEN
+                                  HandlePostAdjmt(1); // Customer
+                              END;
+                               }
+
+    { 1140040;2;Column  ;No_Cust             ;
+               SourceExpr="No." }
+
+    { 1140036;2;Column  ;CustomerLedgerEntriesCaption;
+               SourceExpr=CustomerLedgerEntriesCaptionLbl }
+
+    { 1140041;2;Column  ;CustomerNoCaption   ;
+               SourceExpr=CustomerNoCaptionLbl }
+
+    { 3687;2   ;DataItem;CustomerLedgerEntryLoop;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               OnPreDataItem=VAR
+                               DtldCustLedgEntry@1000 : Record 379;
+                             BEGIN
+                               IF NOT TempCustLedgerEntry.FIND('-') THEN
+                                 CurrReport.BREAK;
+                               FirstEntry := TRUE;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  TempDtldCustLedgEntrySums.DELETEALL;
+
+                                  IF FirstEntry THEN BEGIN
+                                    TempCustLedgerEntry.FIND('-');
+                                    FirstEntry := FALSE
+                                  END ELSE
+                                    IF TempCustLedgerEntry.NEXT = 0 THEN
+                                      CurrReport.BREAK;
+                                  CustLedgerEntry.GET(TempCustLedgerEntry."Entry No.");
+                                  CustLedgerEntry.SETRANGE("Date Filter",StartDate,EndDate);
+                                  CustLedgerEntry.CALCFIELDS(Amount,"Remaining Amount","Original Amt. (LCY)","Remaining Amt. (LCY)");
+                                  AdjustCustomerLedgerEntry(CustLedgerEntry,PostingDate,FALSE);
+                                  AdjAmount2 := AdjAmount;
+                                END;
+                                 }
+
+    { 1140042;3;Column  ;AdjAmt              ;
+               SourceExpr=AdjAmount2 }
+
+    { 1140043;3;Column  ;RemainingAmtLCY_CustLedgEntry;
+               SourceExpr=CustLedgerEntry."Remaining Amt. (LCY)" }
+
+    { 1140044;3;Column  ;OriginalAmtLCY_CustLedgEntry;
+               SourceExpr=CustLedgerEntry."Original Amt. (LCY)" }
+
+    { 1140045;3;Column  ;RemainingAmt_CustLedgEntry;
+               SourceExpr=CustLedgerEntry."Remaining Amount" }
+
+    { 1140046;3;Column  ;Amt_CustLedgEntry   ;
+               SourceExpr=CustLedgerEntry.Amount }
+
+    { 1140047;3;Column  ;CurrCode_CustLedgEntry;
+               SourceExpr=CustLedgerEntry."Currency Code" }
+
+    { 1140048;3;Column  ;DocNo_CustLedgEntry ;
+               SourceExpr=CustLedgerEntry."Document No." }
+
+    { 1140049;3;Column  ;PostingDate_CustLedgEntry;
+               SourceExpr=FORMAT(CustLedgerEntry."Posting Date") }
+
+    { 1140050;3;Column  ;DocType_CustLedgEntry;
+               SourceExpr=CustLedgerEntry."Document Type" }
+
+    { 1140051;3;Column  ;EntryNo_CustLedgEntry;
+               SourceExpr=CustLedgerEntry."Entry No." }
+
+    { 1140052;3;Column  ;CurrencyCode        ;
+               SourceExpr=CurrExchRate3."Relational Currency Code" }
+
+    { 1140053;3;Column  ;ExchRateAmt         ;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Adjustment Exch. Rate Amount" }
+
+    { 1140054;3;Column  ;AdjmtExchRateAmt    ;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Relational Adjmt Exch Rate Amt" }
+
+    { 1140087;3;Column  ;DueDate_CustLedgEntry;
+               SourceExpr=FORMAT(CustLedgerEntry."Due Date") }
+
+    { 6942;3   ;DataItem;                    ;
+               DataItemTable=Table379;
+               DataItemTableView=SORTING(Cust. Ledger Entry No.,Posting Date);
+               OnPreDataItem=BEGIN
+                               SETCURRENTKEY("Cust. Ledger Entry No.");
+                               SETRANGE("Cust. Ledger Entry No.",CustLedgerEntry."Entry No.");
+                               SETFILTER("Posting Date",'%1..',CALCDATE('<+1D>',PostingDate));
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  AdjustCustomerLedgerEntry(CustLedgerEntry,"Posting Date",TRUE);
+                                END;
+                                 }
+
+    { 3182;1   ;DataItem;                    ;
+               DataItemTable=Table23;
+               DataItemTableView=SORTING(No.);
+               PrintOnlyIfDetail=Yes;
+               OnPreDataItem=BEGIN
+                               IF NOT AdjCustVendBank THEN
+                                 CurrReport.BREAK;
+
+                               IF NOT AdjustVendor THEN
+                                 CurrReport.BREAK;
+
+                               DtldVendLedgEntry.LOCKTABLE;
+                               VendorLedgerEntry.LOCKTABLE;
+
+                               VendNo := 0;
+                               IF DtldVendLedgEntry.FIND('+') THEN
+                                 NewEntryNo := DtldVendLedgEntry."Entry No." + 1
+                               ELSE
+                                 NewEntryNo := 1;
+
+                               CLEAR(DimMgt);
+                               //OS001s os.jgl
+                               CLEAR(DimBufMgt);
+                               TempEntryNoAmountBuf.RESET;
+                               //OS001e os.jgl
+                               TempEntryNoAmountBuf.DELETEALL;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  VendNo := VendNo + 1;
+                                  Window.UPDATE(3,ROUND(VendNo / VendNoTotal * 10000,1));
+
+                                  TempVendorLedgerEntry.DELETEALL;
+
+                                  Currency.COPYFILTER(Code,VendorLedgerEntry."Currency Code");
+                                  VendorLedgerEntry.FILTERGROUP(2);
+                                  VendorLedgerEntry.SETFILTER("Currency Code",'<>%1','');
+                                  VendorLedgerEntry.FILTERGROUP(0);
+
+                                  DtldVendLedgEntry.RESET;
+                                  DtldVendLedgEntry.SETCURRENTKEY("Vendor No.","Posting Date","Entry Type");
+                                  DtldVendLedgEntry.SETRANGE("Vendor No.","No.");
+                                  DtldVendLedgEntry.SETRANGE("Posting Date",CALCDATE('<+1D>',EndDate),DMY2DATE(31,12,9999));
+                                  IF DtldVendLedgEntry.FIND('-') THEN
+                                    REPEAT
+                                      VendorLedgerEntry."Entry No." := DtldVendLedgEntry."Vendor Ledger Entry No.";
+                                      IF VendorLedgerEntry.FIND('=') THEN
+                                        IF (VendorLedgerEntry."Posting Date" >= StartDate) AND
+                                          (VendorLedgerEntry."Posting Date" <= EndDate)
+                                        THEN BEGIN
+                                          TempVendorLedgerEntry."Entry No." := VendorLedgerEntry."Entry No.";
+                                          IF TempVendorLedgerEntry.INSERT THEN;
+                                        END;
+                                    UNTIL DtldVendLedgEntry.NEXT = 0;
+
+                                  VendorLedgerEntry.SETCURRENTKEY("Vendor No.",Open);
+                                  VendorLedgerEntry.SETRANGE("Vendor No.","No.");
+                                  VendorLedgerEntry.SETRANGE(Open,TRUE);
+                                  VendorLedgerEntry.SETRANGE("Posting Date",0D,EndDate);
+                                  IF VendorLedgerEntry.FIND('-') THEN
+                                    REPEAT
+                                      TempVendorLedgerEntry."Entry No." := VendorLedgerEntry."Entry No.";
+                                      IF TempVendorLedgerEntry.INSERT THEN;
+                                    UNTIL VendorLedgerEntry.NEXT = 0;
+                                  VendorLedgerEntry.RESET;
+                                END;
+
+               OnPostDataItem=BEGIN
+                                IF VendNo <> 0 THEN
+                                  HandlePostAdjmt(2); // Vendor
+                              END;
+                               }
+
+    { 1140069;2;Column  ;No_Vend             ;
+               SourceExpr="No." }
+
+    { 1140065;2;Column  ;VendorLedgerEntriesCaption;
+               SourceExpr=VendorLedgerEntriesCaptionLbl }
+
+    { 1140070;2;Column  ;VendorNoCaption     ;
+               SourceExpr=VendorNoCaptionLbl }
+
+    { 1221;2   ;DataItem;VendorLedgerEntryLoop;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               OnPreDataItem=BEGIN
+                               IF NOT TempVendorLedgerEntry.FIND('-') THEN
+                                 CurrReport.BREAK;
+                               FirstEntry := TRUE;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  TempDtldVendLedgEntrySums.DELETEALL;
+
+                                  IF FirstEntry THEN BEGIN
+                                    TempVendorLedgerEntry.FIND('-');
+                                    FirstEntry := FALSE
+                                  END ELSE
+                                    IF TempVendorLedgerEntry.NEXT = 0 THEN
+                                      CurrReport.BREAK;
+                                  VendorLedgerEntry.GET(TempVendorLedgerEntry."Entry No.");
+                                  VendorLedgerEntry.SETRANGE("Date Filter",StartDate,EndDate);
+                                  VendorLedgerEntry.CALCFIELDS(Amount,"Remaining Amount","Original Amt. (LCY)","Remaining Amt. (LCY)");
+                                  AdjustVendorLedgerEntry(VendorLedgerEntry,PostingDate,FALSE);
+                                  AdjAmount2 := AdjAmount;
+                                END;
+                                 }
+
+    { 1140071;3;Column  ;VendLedgEntryAdjAmt ;
+               SourceExpr=AdjAmount2 }
+
+    { 1140072;3;Column  ;RemainingAmtLCY_VendLedgEntry;
+               SourceExpr=VendorLedgerEntry."Remaining Amt. (LCY)" }
+
+    { 1140073;3;Column  ;OriginalAmtLCY_VendLedgEntry;
+               SourceExpr=VendorLedgerEntry."Original Amt. (LCY)" }
+
+    { 1140074;3;Column  ;RemainingAmt_VendLedgEntry;
+               SourceExpr=VendorLedgerEntry."Remaining Amount" }
+
+    { 1140075;3;Column  ;Amt_VendLedgEntry   ;
+               SourceExpr=VendorLedgerEntry.Amount }
+
+    { 1140076;3;Column  ;CurrCode_VendLedgEntry;
+               SourceExpr=VendorLedgerEntry."Currency Code" }
+
+    { 1140077;3;Column  ;DocNo_VendLedgEntry ;
+               SourceExpr=VendorLedgerEntry."Document No." }
+
+    { 1140078;3;Column  ;DocumentType_VendLedgEntry;
+               SourceExpr=VendorLedgerEntry."Document Type" }
+
+    { 1140079;3;Column  ;PostingDate_VendLedgEntry;
+               SourceExpr=FORMAT(VendorLedgerEntry."Posting Date") }
+
+    { 1140080;3;Column  ;EntryNo_VendLedgEntry;
+               SourceExpr=VendorLedgerEntry."Entry No." }
+
+    { 1140081;3;Column  ;VendLedgEntryCurrCode;
+               SourceExpr=CurrExchRate3."Relational Currency Code" }
+
+    { 1140082;3;Column  ;VendLedgEntryExchRateAmt;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Adjustment Exch. Rate Amount" }
+
+    { 1140083;3;Column  ;AdjustmenttExchRateAmt;
+               DecimalPlaces=6:6;
+               SourceExpr=CurrExchRate3."Relational Adjmt Exch Rate Amt" }
+
+    { 1140089;3;Column  ;DueDate_VendLedgEntry;
+               SourceExpr=FORMAT(VendorLedgerEntry."Due Date") }
+
+    { 2149;3   ;DataItem;                    ;
+               DataItemTable=Table380;
+               DataItemTableView=SORTING(Vendor Ledger Entry No.,Posting Date);
+               OnPreDataItem=BEGIN
+                               SETCURRENTKEY("Vendor Ledger Entry No.");
+                               SETRANGE("Vendor Ledger Entry No.",VendorLedgerEntry."Entry No.");
+                               SETFILTER("Posting Date",'%1..',CALCDATE('<+1D>',PostingDate));
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  AdjustVendorLedgerEntry(VendorLedgerEntry,"Posting Date",TRUE);
+                                END;
+                                 }
+
+    { 1756;1   ;DataItem;                    ;
+               DataItemTable=Table325;
+               DataItemTableView=SORTING(VAT Bus. Posting Group,VAT Prod. Posting Group);
+               OnPreDataItem=BEGIN
+                               IF NOT AdjGLAcc OR
+                                  (GLSetup."VAT Exchange Rate Adjustment" = GLSetup."VAT Exchange Rate Adjustment"::"No Adjustment")
+                               THEN
+                                 CurrReport.BREAK;
+
+                               Window.OPEN(
+                                 Text012 +
+                                 Text013);
+
+                               VATEntryNoTotal := VATEntry.COUNT;
+                               IF NOT
+                                 VATEntry.SETCURRENTKEY(
+                                   Type,Closed,"VAT Bus. Posting Group","VAT Prod. Posting Group","Posting Date")
+                               THEN
+                                 VATEntry.SETCURRENTKEY(
+                                   Type,Closed,"Tax Jurisdiction Code","Use Tax","Posting Date");
+                               VATEntry.SETRANGE(Closed,FALSE);
+                               VATEntry.SETRANGE("Posting Date",StartDate,EndDate);
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  VATEntryNo := VATEntryNo + 1;
+                                  Window.UPDATE(1,ROUND(VATEntryNo / VATEntryNoTotal * 10000,1));
+
+                                  VATEntry.SETRANGE("VAT Bus. Posting Group","VAT Bus. Posting Group");
+                                  VATEntry.SETRANGE("VAT Prod. Posting Group","VAT Prod. Posting Group");
+
+                                  IF "VAT Calculation Type" <> "VAT Calculation Type"::"Sales Tax" THEN BEGIN
+                                    AdjustVATEntries(VATEntry.Type::Purchase,FALSE);
+                                    IF (VATEntry2.Amount <> 0) OR (VATEntry2."Additional-Currency Amount" <> 0) THEN BEGIN
+                                      AdjustVATAccount(
+                                        GetPurchAccount(FALSE),
+                                        VATEntry2.Amount,VATEntry2."Additional-Currency Amount",
+                                        VATEntryTotalBase.Amount,VATEntryTotalBase."Additional-Currency Amount");
+                                      IF "VAT Calculation Type" = "VAT Calculation Type"::"Reverse Charge VAT" THEN
+                                        AdjustVATAccount(
+                                          GetRevChargeAccount(FALSE),
+                                          -VATEntry2.Amount,-VATEntry2."Additional-Currency Amount",
+                                          -VATEntryTotalBase.Amount,-VATEntryTotalBase."Additional-Currency Amount");
+                                    END;
+                                    IF (VATEntry2."Remaining Unrealized Amount" <> 0) OR
+                                       (VATEntry2."Add.-Curr. Rem. Unreal. Amount" <> 0)
+                                    THEN BEGIN
+                                      TESTFIELD("Unrealized VAT Type");
+                                      AdjustVATAccount(
+                                        GetPurchAccount(TRUE),
+                                        VATEntry2."Remaining Unrealized Amount",
+                                        VATEntry2."Add.-Curr. Rem. Unreal. Amount",
+                                        VATEntryTotalBase."Remaining Unrealized Amount",
+                                        VATEntryTotalBase."Add.-Curr. Rem. Unreal. Amount");
+                                      IF "VAT Calculation Type" = "VAT Calculation Type"::"Reverse Charge VAT" THEN
+                                        AdjustVATAccount(
+                                          GetRevChargeAccount(TRUE),
+                                          -VATEntry2."Remaining Unrealized Amount",
+                                          -VATEntry2."Add.-Curr. Rem. Unreal. Amount",
+                                          -VATEntryTotalBase."Remaining Unrealized Amount",
+                                          -VATEntryTotalBase."Add.-Curr. Rem. Unreal. Amount");
+                                    END;
+
+                                    AdjustVATEntries(VATEntry.Type::Sale,FALSE);
+                                    IF (VATEntry2.Amount <> 0) OR (VATEntry2."Additional-Currency Amount" <> 0) THEN
+                                      AdjustVATAccount(
+                                        GetSalesAccount(FALSE),
+                                        VATEntry2.Amount,VATEntry2."Additional-Currency Amount",
+                                        VATEntryTotalBase.Amount,VATEntryTotalBase."Additional-Currency Amount");
+                                    IF (VATEntry2."Remaining Unrealized Amount" <> 0) OR
+                                       (VATEntry2."Add.-Curr. Rem. Unreal. Amount" <> 0)
+                                    THEN BEGIN
+                                      TESTFIELD("Unrealized VAT Type");
+                                      AdjustVATAccount(
+                                        GetSalesAccount(TRUE),
+                                        VATEntry2."Remaining Unrealized Amount",
+                                        VATEntry2."Add.-Curr. Rem. Unreal. Amount",
+                                        VATEntryTotalBase."Remaining Unrealized Amount",
+                                        VATEntryTotalBase."Add.-Curr. Rem. Unreal. Amount");
+                                    END;
+                                  END ELSE BEGIN
+                                    IF TaxJurisdiction.FIND('-') THEN
+                                      REPEAT
+                                        VATEntry.SETRANGE("Tax Jurisdiction Code",TaxJurisdiction.Code);
+                                        AdjustVATEntries(VATEntry.Type::Purchase,FALSE);
+                                        AdjustPurchTax(FALSE);
+                                        AdjustVATEntries(VATEntry.Type::Purchase,TRUE);
+                                        AdjustPurchTax(TRUE);
+                                        AdjustVATEntries(VATEntry.Type::Sale,FALSE);
+                                        AdjustSalesTax;
+                                      UNTIL TaxJurisdiction.NEXT = 0;
+                                    VATEntry.SETRANGE("Tax Jurisdiction Code");
+                                  END;
+                                  CLEAR(VATEntryTotalBase);
+                                END;
+                                 }
+
+    { 6710;1   ;DataItem;                    ;
+               DataItemTable=Table15;
+               DataItemTableView=SORTING(No.)
+                                 WHERE(ACY Exchange Rate Adjustment=FILTER(Adjust Amount..Adjust Additional-Currency Amount));
+               OnPreDataItem=BEGIN
+                               IF NOT AdjGLAcc THEN
+                                 CurrReport.BREAK;
+
+                               Window.OPEN(
+                                 Text014 +
+                                 Text015);
+
+                               GLAccNoTotal := COUNT;
+                               SETRANGE("Date Filter",StartDate,EndDate);
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  GLAccNo := GLAccNo + 1;
+                                  Window.UPDATE(1,ROUND(GLAccNo / GLAccNoTotal * 10000,1));
+                                  IF "ACY Exchange Rate Adjustment" = "ACY Exchange Rate Adjustment"::"No Adjustment" THEN
+                                    CurrReport.SKIP;
+
+                                  TempDimSetEntry.RESET;
+                                  TempDimSetEntry.DELETEALL;
+                                  CALCFIELDS("Net Change","Additional-Currency Net Change");
+                                  CASE "ACY Exchange Rate Adjustment" OF
+                                    "ACY Exchange Rate Adjustment"::"Adjust Amount":
+                                      PostGLAccAdjmt(
+                                        "No.","ACY Exchange Rate Adjustment"::"Adjust Amount",
+                                        ROUND(
+                                          CurrExchRate2.ExchangeAmtFCYToLCYAdjmt(
+                                            PostingDate,GLSetup."Additional Reporting Currency",
+                                            "Additional-Currency Net Change",AddCurrCurrencyFactor) -
+                                          "Net Change"),
+                                        "Net Change",
+                                        "Additional-Currency Net Change");
+                                    "ACY Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
+                                      PostGLAccAdjmt(
+                                        "No.","ACY Exchange Rate Adjustment"::"Adjust Additional-Currency Amount",
+                                        ROUND(
+                                          CurrExchRate2.ExchangeAmtLCYToFCY(
+                                            PostingDate,GLSetup."Additional Reporting Currency",
+                                            "Net Change",AddCurrCurrencyFactor) -
+                                          "Additional-Currency Net Change",
+                                          Currency3."Amount Rounding Precision"),
+                                        "Net Change",
+                                        "Additional-Currency Net Change");
+                                  END;
+                                END;
+
+               OnPostDataItem=BEGIN
+                                IF AdjGLAcc THEN BEGIN
+                                  GenJnlLine."Document No." := PostingDocNo;
+                                  GenJnlLine."Account Type" := GenJnlLine."Account Type"::"G/L Account";
+                                  GenJnlLine."Posting Date" := PostingDate;
+                                  GenJnlLine."Source Code" := SourceCodeSetup."Exchange Rate Adjmt.";
+
+                                  IF GLAmtTotal <> 0 THEN BEGIN
+                                    IF GLAmtTotal < 0 THEN
+                                      GenJnlLine."Account No." := Currency3.GetRealizedGLLossesAccount
+                                    ELSE
+                                      GenJnlLine."Account No." := Currency3.GetRealizedGLGainsAccount;
+                                    GenJnlLine.Description :=
+                                      STRSUBSTNO(
+                                        PostingDescription,
+                                        GLSetup."Additional Reporting Currency",
+                                        GLAddCurrNetChangeTotal);
+                                    GenJnlLine."Additional-Currency Posting" := GenJnlLine."Additional-Currency Posting"::"Amount Only";
+                                    GenJnlLine."Currency Code" := '';
+                                    GenJnlLine.Amount := -GLAmtTotal;
+                                    GenJnlLine."Amount (LCY)" := -GLAmtTotal;
+                                    IF PostSettlement THEN BEGIN
+                                      GetJnlLineDefDim(GenJnlLine,TempDimSetEntry);
+                                      PostGenJnlLine(GenJnlLine,TempDimSetEntry);
+                                    END;
+                                  END;
+                                  IF GLAddCurrAmtTotal <> 0 THEN BEGIN
+                                    IF GLAddCurrAmtTotal < 0 THEN
+                                      GenJnlLine."Account No." := Currency3.GetRealizedGLLossesAccount
+                                    ELSE
+                                      GenJnlLine."Account No." := Currency3.GetRealizedGLGainsAccount;
+                                    GenJnlLine.Description :=
+                                      STRSUBSTNO(
+                                        PostingDescription,'',
+                                        GLNetChangeTotal);
+                                    GenJnlLine."Additional-Currency Posting" := GenJnlLine."Additional-Currency Posting"::"Additional-Currency Amount Only";
+                                    GenJnlLine."Currency Code" := GLSetup."Additional Reporting Currency";
+                                    GenJnlLine.Amount := -GLAddCurrAmtTotal;
+                                    GenJnlLine."Amount (LCY)" := 0;
+                                    IF PostSettlement THEN BEGIN
+                                      GetJnlLineDefDim(GenJnlLine,TempDimSetEntry);
+                                      PostGenJnlLine(GenJnlLine,TempDimSetEntry);
+                                    END;
+                                  END;
+
+                                  WITH ExchRateAdjReg DO BEGIN
+                                    "No." := "No." + 1;
+                                    "Creation Date" := PostingDate;
+                                    "Account Type" := "Account Type"::"G/L Account";
+                                    "Posting Group" := '';
+                                    "Currency Code" := GLSetup."Additional Reporting Currency";
+                                    "Currency Factor" := CurrExchRate2."Adjustment Exch. Rate Amount";
+                                    "Adjusted Base" := 0;
+                                    "Adjusted Base (LCY)" := GLNetChangeBase;
+                                    "Adjusted Amt. (LCY)" := GLAmtTotal;
+                                    "Adjusted Base (Add.-Curr.)" := GLAddCurrNetChangeBase;
+                                    "Adjusted Amt. (Add.-Curr.)" := GLAddCurrAmtTotal;
+                                    IF PostSettlement THEN
+                                      INSERT;
+                                  END;
+                                END;
+                              END;
+                               }
+
+  }
+  REQUESTPAGE
+  {
+    PROPERTIES
+    {
+      SaveValues=Yes;
+      OnInit=BEGIN
+               ValPerEndEnable := TRUE;
+               DueDateLimitEnable := TRUE;
+             END;
+
+      OnOpenPage=BEGIN
+                   IF PostingDescription = '' THEN
+                     PostingDescription := Text016;
+                   IF NOT (AdjCustVendBank OR AdjGLAcc) THEN
+                     AdjCustVendBank := TRUE;
+                   //MBK16s os.jgl
+                   ColumnDim := DimSelectionBuf.GetDimSelectionText(3,REPORT::"Adjust Exchange Rates P4TC",'');
+                   //MBK16e os.jgl
+                 END;
+
+    }
+    CONTROLS
+    {
+      { 1140003;0;Container ;
+                  ContainerType=ContentArea }
+
+      { 1140001;1;Group     ;
+                  CaptionML=ENU=Options }
+
+      { 21  ;2   ;Group     ;
+                  CaptionML=ENU=Adjustment Period }
+
+      { 1   ;3   ;Field     ;
+                  Name=StartingDate;
+                  CaptionML=ENU=Starting Date;
+                  ToolTipML=ENU=Specifies the beginning of the period for which entries are adjusted. This field is usually left blank, but you can enter a date.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=StartDate }
+
+      { 2   ;3   ;Field     ;
+                  Name=EndingDate;
+                  CaptionML=ENU=Ending Date;
+                  ToolTipML=ENU=Specifies the last date for which entries are adjusted. This date is usually the same as the posting date in the Posting Date field.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=EndDateReq;
+                  OnValidate=BEGIN
+                               PostingDate := EndDateReq;
+                             END;
+                              }
+
+      { 3   ;2   ;Field     ;
+                  Name=PostingDescription;
+                  CaptionML=ENU=Posting Description;
+                  ToolTipML=ENU=Specifies text for the general ledger entries that are created by the batch job. The default text is Exchange Rate Adjmt. of %1 %2, in which %1 is replaced by the currency code and %2 is replaced by the currency amount that is adjusted. For example, Exchange Rate Adjmt. of DEM 38,000.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PostingDescription }
+
+      { 4   ;2   ;Field     ;
+                  Name=PostingDate;
+                  CaptionML=ENU=Posting Date;
+                  ToolTipML=ENU=Specifies the date on which the general ledger entries are posted. This date is usually the same as the ending date in the Ending Date field.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PostingDate;
+                  OnValidate=BEGIN
+                               CheckPostingDate;
+                             END;
+                              }
+
+      { 5   ;2   ;Field     ;
+                  Name=DocumentNo;
+                  CaptionML=ENU=Document No.;
+                  ToolTipML=ENU=Specifies the document number that will appear on the general ledger entries that are created by the batch job.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PostingDocNo }
+
+      { 1140000;2;Field     ;
+                  CaptionML=ENU=Adjust Customers;
+                  ToolTipML=ENU=Specifies if you want to adjust customers for currency fluctuations.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=AdjustCustomer }
+
+      { 1140002;2;Field     ;
+                  CaptionML=ENU=Adjust Vendors;
+                  ToolTipML=ENU=Specifies if you want to adjust vendors for currency fluctuations.;
+                  SourceExpr=AdjustVendor }
+
+      { 119451021;2;Group   ;
+                  CaptionML=ENU=Bank and G/L Accounts;
+                  GroupType=Group }
+
+      { 1140004;3;Field     ;
+                  Name=AdjustBankAccounts;
+                  CaptionML=ENU=Adjust Bank Accounts;
+                  ToolTipML=ENU=Specifies if you want to adjust bank accounts for currency fluctuations.;
+                  SourceExpr=AdjustBank }
+
+      { 1000000000;3;Field  ;
+                  CaptionML=ENU=Adjust G/L Accounts;
+                  ToolTipML=ENU=Specifies if you want to adjust general ledger accounts for currency fluctuations.;
+                  SourceExpr=AdjGLAccFCY }
+
+      { 119451022;3;Group   ;
+                  CaptionML=ENU=Adjust by;
+                  GroupType=Group }
+
+      { 119451024;4;Field   ;
+                  CaptionML=ENU=all posted Dimenions;
+                  SourceExpr=AdjustByAllDimensions }
+
+      { 119451023;4;Field   ;
+                  Name=AdjustBySelectedDimLbl;
+                  CaptionML=ENU=Dimensions;
+                  SourceExpr=ColumnDim;
+                  OnAssistEdit=BEGIN
+                                 //MBK16s os.jgl
+                                 DimSelectionBuf.SetDimSelectionMultiple(3,REPORT::"Adjust Exchange Rates P4TC",ColumnDim);
+                                 //MBK16e os.jgl
+                               END;
+                                }
+
+      { 9   ;2   ;Field     ;
+                  Name=AdjGLAcc;
+                  CaptionML=ENU=Adjust G/L Accounts for Add.-Reporting Currency;
+                  ToolTipML=ENU=Specifies if you want to post in an additional reporting currency and adjust general ledger accounts for currency fluctuations between LCY and the additional reporting currency.;
+                  ApplicationArea=#Suite;
+                  SourceExpr=AdjGLAcc;
+                  MultiLine=Yes }
+
+      { 1140006;2;Field     ;
+                  Name=Post;
+                  CaptionML=ENU=Post;
+                  ToolTipML=ENU=Specifies if you want to calculate and post the adjustments when you preview the report.;
+                  SourceExpr=PostSettlement }
+
+    }
+  }
+  LABELS
+  {
+    { 1140007;RelAdjmtExchRateAmtCaption;
+                                CaptionML=ENU=Relational Adjmt Exch. Rate Amt }
+    { 1140008;AdjustmentExchRateAmtCaption;
+                                CaptionML=ENU=Adjustment Exch. Rate Amount }
+    { 1140009;RelationalCurrencyCodeCaption;
+                                CaptionML=ENU=Relational Currency Code }
+    { 1140011;AdjAmountCaption ;CaptionML=ENU=Adjustment Amount }
+    { 1140027;RemainingAmtLCYCaption;
+                                CaptionML=ENU=Remaining Amt. (LCY) }
+    { 1140028;OriginalAmtLCYCaption;
+                                CaptionML=ENU=Original Amt. (LCY) }
+    { 1140029;RemainingAmountCaption;
+                                CaptionML=ENU=Remaining Amount }
+    { 1140030;AmountCaption    ;CaptionML=ENU=Amount }
+    { 1140031;CurrencyCodeCaption;
+                                CaptionML=ENU=Currency Code }
+    { 1140032;DocumentNoCaption;CaptionML=ENU=Document No. }
+    { 1140033;DocumentTypeCaption;
+                                CaptionML=ENU=Document Type }
+    { 1140034;PostingDateCaption;
+                                CaptionML=ENU=Posting Date }
+    { 1140035;EntryNoCaption   ;CaptionML=ENU=Entry No. }
+    { 1140088;DueDateCaption   ;CaptionML=ENU=Due Date }
+  }
+  CODE
+  {
+    VAR
+      Text000@1000 : TextConst 'ENU=%1 must be entered.';
+      Text001@1001 : TextConst 'ENU="Do you want to adjust general ledger entries for currency fluctuations without adjusting customer, vendor and bank ledger entries? This may result in incorrect currency adjustments to payables, receivables and bank accounts.\\ "';
+      Text004@1004 : TextConst 'ENU=Do you wish to continue?';
+      Text005@1005 : TextConst 'ENU=The adjustment of exchange rates has been canceled.';
+      Text006@1006 : TextConst 'ENU=Adjusting exchange rates...\\';
+      Text007@1007 : TextConst 'ENU=Bank Account    @1@@@@@@@@@@@@@\\';
+      Text008@1008 : TextConst 'ENU=Customer        @2@@@@@@@@@@@@@\';
+      Text009@1009 : TextConst 'ENU=Vendor          @3@@@@@@@@@@@@@\';
+      Text010@1010 : TextConst 'ENU=Adjustment      #4#############';
+      Text011@1011 : TextConst 'ENU=No currencies have been found.';
+      Text012@1012 : TextConst 'ENU=Adjusting VAT Entries...\\';
+      Text013@1013 : TextConst 'ENU=VAT Entry    @1@@@@@@@@@@@@@';
+      Text014@1014 : TextConst 'ENU=Adjusting general ledger...\\';
+      Text015@1015 : TextConst 'ENU=G/L Account    @1@@@@@@@@@@@@@';
+      Text016@1016 : TextConst '@@@="%1 = Currency Code, %2= Adjust Amount, %3= Dimension Value";ENU=Ex.Rate Adj. of %1 %2, DimVal %3';
+      Text017@1017 : TextConst 'ENU="%1 on %2 %3 must be %4. When this %2 is used in %5, the exchange rate adjustment is defined in the %6 field in the %7. %2 %3 is used in the %8 field in the %5. "';
+      Text1140000@1140000 : TextConst 'ENU=Do you want to calculate and post the adjustment?';
+      DtldCustLedgEntry@1019 : Record 379;
+      TempDtldCustLedgEntry@1003 : TEMPORARY Record 379;
+      TempDtldCustLedgEntrySums@1096 : TEMPORARY Record 379;
+      DtldVendLedgEntry@1020 : Record 380;
+      TempDtldVendLedgEntry@1018 : TEMPORARY Record 380;
+      TempDtldVendLedgEntrySums@1098 : TEMPORARY Record 380;
+      ExchRateAdjReg@1021 : Record 86;
+      CustPostingGr@1022 : Record 92;
+      VendPostingGr@1023 : Record 93;
+      GenJnlLine@1024 : Record 81;
+      SourceCodeSetup@1025 : Record 242;
+      AdjExchRateBuffer@1026 : TEMPORARY Record 331;
+      AdjExchRateBuffer2@1027 : TEMPORARY Record 331;
+      Currency2@1028 : TEMPORARY Record 4;
+      Currency3@1029 : Record 4;
+      CurrExchRate@1030 : Record 330;
+      CurrExchRate2@1031 : Record 330;
+      CurrExchRate3@1140001 : Record 330;
+      GLSetup@1032 : Record 98;
+      VATEntry@1033 : Record 254;
+      VATEntry2@1034 : Record 254;
+      VATEntryTotalBase@1035 : Record 254;
+      TaxJurisdiction@1036 : Record 320;
+      VATPostingSetup2@1037 : Record 325;
+      TaxJurisdiction2@1038 : Record 320;
+      TempDimBuf@1049 : TEMPORARY Record 360;
+      TempDimSetEntry@1050 : TEMPORARY Record 480;
+      TempEntryNoAmountBuf@1079 : TEMPORARY Record 386;
+      CustLedgerEntry@1083 : Record 21;
+      TempCustLedgerEntry@1082 : TEMPORARY Record 21;
+      VendorLedgerEntry@1081 : Record 25;
+      TempVendorLedgerEntry@1085 : TEMPORARY Record 25;
+      GenJnlPostLine@1039 : Codeunit 12;
+      UpdateAnalysisView@1002 : Codeunit 410;
+      DimMgt@1077 : Codeunit 408;
+      DimBufMgt@1078 : Codeunit 411;
+      Window@1040 : Dialog;
+      TotalAdjBase@1087 : Decimal;
+      TotalAdjBaseLCY@1086 : Decimal;
+      TotalAdjAmount@1041 : Decimal;
+      GainsAmount@1042 : Decimal;
+      LossesAmount@1043 : Decimal;
+      PostingDate@1044 : Date;
+      PostingDescription@1045 : Text[50];
+      AdjBase@1046 : Decimal;
+      AdjBaseLCY@1047 : Decimal;
+      AdjAmount@1048 : Decimal;
+      CustNo@1051 : Decimal;
+      CustNoTotal@1052 : Decimal;
+      VendNo@1053 : Decimal;
+      VendNoTotal@1054 : Decimal;
+      BankAccNo@1055 : Decimal;
+      BankAccNoTotal@1056 : Decimal;
+      GLAccNo@1057 : Decimal;
+      GLAccNoTotal@1058 : Decimal;
+      GLAccNoFCY@119451037 : Decimal;
+      GLAccNoFCYTotal@119451036 : Decimal;
+      GLAmtTotal@1059 : Decimal;
+      GLAddCurrAmtTotal@1060 : Decimal;
+      GLNetChangeTotal@1061 : Decimal;
+      GLAddCurrNetChangeTotal@1062 : Decimal;
+      GLNetChangeBase@1063 : Decimal;
+      GLAddCurrNetChangeBase@1064 : Decimal;
+      PostingDocNo@1065 : Code[20];
+      StartDate@1066 : Date;
+      EndDate@1067 : Date;
+      EndDateReq@1068 : Date;
+      Date2@1140002 : Date;
+      Correction@1069 : Boolean;
+      OK@1070 : Boolean;
+      AdjCustVendBank@1071 : Boolean;
+      AdjGLAcc@1072 : Boolean;
+      AddCurrCurrencyFactor@1073 : Decimal;
+      VATEntryNoTotal@1074 : Decimal;
+      VATEntryNo@1075 : Decimal;
+      NewEntryNo@1076 : Integer;
+      Text018@1080 : TextConst 'ENU=This posting date cannot be entered because it does not occur within the adjustment period. Reenter the posting date.';
+      FirstEntry@1084 : Boolean;
+      MaxAdjExchRateBufIndex@1089 : Integer;
+      AdjustCustomer@1140003 : Boolean;
+      AdjustVendor@1140004 : Boolean;
+      AdjustBank@1140005 : Boolean;
+      PostSettlement@1140006 : Boolean;
+      DueDateLimitEnable@19053037 : Boolean INDATASET;
+      ValPerEndEnable@19042451 : Boolean INDATASET;
+      PageCaptionLbl@1140143 : TextConst 'ENU=Page';
+      AdjustExchRatesCaptionLbl@1142245 : TextConst 'ENU=Adjust Exchange Rates';
+      BalanceAfterAdjustCaptionLbl@1148416 : TextConst 'ENU=Balance (LCY) after Adjustment';
+      AdjBaseLCYCaptionLbl@1145647 : TextConst 'ENU=Balance at Date (LCY)';
+      BankAccountsCaptionLbl@1145481 : TextConst 'ENU=Bank Accounts';
+      CustomerLedgerEntriesCaptionLbl@1149362 : TextConst 'ENU=Customer Ledger Entries';
+      CustomerNoCaptionLbl@1148782 : TextConst 'ENU=Customer No.';
+      VendorLedgerEntriesCaptionLbl@1140502 : TextConst 'ENU=Vendor Ledger Entries';
+      VendorNoCaptionLbl@1148090 : TextConst 'ENU=Vendor No.';
+      AdjAmount2@1140025 : Decimal;
+      AdjGLAccFCY@119451032 : Boolean;
+      TextGLAccFCY@119451034 : TextConst 'ENU=G/L Account     @5@@@@@@@@@@@@@\\';
+      TextGLFCYCheck@119451033 : TextConst 'ENU="%1 on %2 %3 must be %4. When this %2 is used in %5, the exchange rate adjustment cannot be donw on its own for %2 %3. %2 %3 is used in the %8 field in the %5. "';
+      GLAccFCYLbl@119451035 : TextConst 'ENU=G/L Accounts';
+      AdjustByAllDimensions@119451021 : Boolean;
+      ColumnDim@119451022 : Text;
+      DimSelectionBuf@119451023 : Record 368;
+      SelectedDim@119451025 : Record 369;
+      TempSelectedDim@119451024 : TEMPORARY Record 369;
+      TempDimBuf2@119451026 : TEMPORARY Record 360;
+      EntryNoAmountBuf2@119451027 : Record 386;
+      DimValString@119451028 : Text[50];
+      BalanceAtDateLbl@119451029 : TextConst 'ENU=Balance at Date';
+      DimCaptionLbl@119451030 : TextConst 'ENU="Dimensions: "';
+      AllDimCaptionLbl@119451031 : TextConst 'ENU=All Dimensions';
+
+    LOCAL PROCEDURE PostAdjmt@1(GLAccNo@1000 : Code[20];PostingAmount@1001 : Decimal;AdjBase2@1002 : Decimal;CurrencyCode2@1003 : Code[10];VAR DimSetEntry@1004 : Record 480;PostingDate2@1005 : Date;ICCode@1006 : Code[20];DimValString@1007 : Text[50]) TransactionNo : Integer;
+    BEGIN
+      WITH GenJnlLine DO BEGIN
+        IF PostingAmount <> 0 THEN BEGIN
+          INIT;
+          VALIDATE("Posting Date",PostingDate2);
+          "Document No." := PostingDocNo;
+          "Account Type" := "Account Type"::"G/L Account";
+          //PX020s px.jgl
+          "Account No." := GLAccNo;
+          //MBK18s px.jgl
+          Description := DELCHR(PADSTR(STRSUBSTNO(PostingDescription,CurrencyCode2,AdjBase2,DimValString),MAXSTRLEN(Description)),'<>');
+          //MBK18e px.jgl
+          GenJnlLine.VALIDATE(Amount,0);
+          GenJnlLine."Currency Code" := CurrencyCode2;
+          GenJnlLine."Amount (LCY)" := PostingAmount;
+          //PX020e px.jgl
+          "Source Currency Code" := CurrencyCode2;
+          "IC Partner Code" := ICCode;
+          IF CurrencyCode2 = GLSetup."Additional Reporting Currency" THEN
+            "Source Currency Amount" := 0;
+          "Source Code" := SourceCodeSetup."Exchange Rate Adjmt.";
+          "System-Created Entry" := TRUE;
+          IF PostSettlement THEN
+            TransactionNo := PostGenJnlLine(GenJnlLine,DimSetEntry);
+        END;
+      END;
+    END;
+
+    LOCAL PROCEDURE InsertExchRateAdjmtReg@2(AdjustAccType@1000 : Integer;PostingGrCode@1001 : Code[20];CurrencyCode@1002 : Code[10]);
+    BEGIN
+      IF Currency2.Code <> CurrencyCode THEN
+        Currency2.GET(CurrencyCode);
+
+      WITH ExchRateAdjReg DO BEGIN
+        "No." := "No." + 1;
+        "Creation Date" := PostingDate;
+        "Account Type" := AdjustAccType;
+        "Posting Group" := PostingGrCode;
+        "Currency Code" := Currency2.Code;
+        "Currency Factor" := Currency2."Currency Factor";
+        "Adjusted Base" := AdjExchRateBuffer.AdjBase;
+        "Adjusted Base (LCY)" := AdjExchRateBuffer.AdjBaseLCY;
+        "Adjusted Amt. (LCY)" := AdjExchRateBuffer.AdjAmount;
+        IF PostSettlement THEN
+          INSERT;
+      END;
+    END;
+
+    [External]
+    PROCEDURE InitializeRequest@3(NewStartDate@1000 : Date;NewEndDate@1001 : Date;NewPostingDescription@1002 : Text[50];NewPostingDate@1003 : Date);
+    BEGIN
+      StartDate := NewStartDate;
+      EndDate := NewEndDate;
+      PostingDescription := NewPostingDescription;
+      PostingDate := NewPostingDate;
+      IF EndDate = 0D THEN
+        EndDateReq := DMY2DATE(31,12,9999)
+      ELSE
+        EndDateReq := EndDate;
+    END;
+
+    [External]
+    PROCEDURE InitializeRequest2@25(NewStartDate@1000 : Date;NewEndDate@1001 : Date;NewPostingDescription@1002 : Text[50];NewPostingDate@1003 : Date;NewPostingDocNo@1004 : Code[20];NewAdjCustVendBank@1005 : Boolean;NewAdjGLAcc@1006 : Boolean);
+    BEGIN
+      InitializeRequest(NewStartDate,NewEndDate,NewPostingDescription,NewPostingDate);
+      PostingDocNo := NewPostingDocNo;
+      AdjCustVendBank := NewAdjCustVendBank;
+      AdjGLAcc := NewAdjGLAcc;
+    END;
+
+    LOCAL PROCEDURE AdjExchRateBufferUpdate@15(CurrencyCode2@1000 : Code[10];PostingGroup2@1001 : Code[20];AdjBase2@1002 : Decimal;AdjBaseLCY2@1003 : Decimal;AdjAmount2@1004 : Decimal;GainsAmount2@1005 : Decimal;LossesAmount2@1006 : Decimal;DimEntryNo@1007 : Integer;Postingdate2@1008 : Date;ICCode@1009 : Code[20]) : Integer;
+    BEGIN
+      AdjExchRateBuffer.INIT;
+      OK := AdjExchRateBuffer.GET(CurrencyCode2,PostingGroup2,DimEntryNo,Postingdate2,ICCode);
+
+      AdjExchRateBuffer.AdjBase := AdjExchRateBuffer.AdjBase + AdjBase2;
+      AdjExchRateBuffer.AdjBaseLCY := AdjExchRateBuffer.AdjBaseLCY + AdjBaseLCY2;
+      AdjExchRateBuffer.AdjAmount := AdjExchRateBuffer.AdjAmount + AdjAmount2;
+      AdjExchRateBuffer.TotalGainsAmount := AdjExchRateBuffer.TotalGainsAmount + GainsAmount2;
+      AdjExchRateBuffer.TotalLossesAmount := AdjExchRateBuffer.TotalLossesAmount + LossesAmount2;
+
+      IF NOT OK THEN BEGIN
+        AdjExchRateBuffer."Currency Code" := CurrencyCode2;
+        AdjExchRateBuffer."Posting Group" := PostingGroup2;
+        AdjExchRateBuffer."Dimension Entry No." := DimEntryNo;
+        AdjExchRateBuffer."Posting Date" := Postingdate2;
+        AdjExchRateBuffer."IC Partner Code" := ICCode;
+        MaxAdjExchRateBufIndex += 1;
+        AdjExchRateBuffer.Index := MaxAdjExchRateBufIndex;
+        AdjExchRateBuffer.INSERT;
+      END ELSE
+        AdjExchRateBuffer.MODIFY;
+
+      EXIT(AdjExchRateBuffer.Index);
+    END;
+
+    LOCAL PROCEDURE HandlePostAdjmt@7(AdjustAccType@1000 : Integer);
+    VAR
+      GLEntry@1001 : Record 17;
+      TempDtldCVLedgEntryBuf@1002 : TEMPORARY Record 383;
+    BEGIN
+      IF AdjExchRateBuffer.FIND('-') THEN BEGIN
+        // Summarize per currency and dimension combination
+        REPEAT
+          AdjExchRateBuffer2.INIT;
+          OK :=
+            AdjExchRateBuffer2.GET(
+              AdjExchRateBuffer."Currency Code",
+              '',
+              AdjExchRateBuffer."Dimension Entry No.",
+              AdjExchRateBuffer."Posting Date",
+              AdjExchRateBuffer."IC Partner Code");
+          AdjExchRateBuffer2.AdjBase := AdjExchRateBuffer2.AdjBase + AdjExchRateBuffer.AdjBase;
+          AdjExchRateBuffer2.TotalGainsAmount := AdjExchRateBuffer2.TotalGainsAmount + AdjExchRateBuffer.TotalGainsAmount;
+          AdjExchRateBuffer2.TotalLossesAmount := AdjExchRateBuffer2.TotalLossesAmount + AdjExchRateBuffer.TotalLossesAmount;
+          IF NOT OK THEN BEGIN
+            AdjExchRateBuffer2."Currency Code" := AdjExchRateBuffer."Currency Code";
+            AdjExchRateBuffer2."Dimension Entry No." := AdjExchRateBuffer."Dimension Entry No.";
+            AdjExchRateBuffer2."Posting Date" := AdjExchRateBuffer."Posting Date";
+            AdjExchRateBuffer2."IC Partner Code" := AdjExchRateBuffer."IC Partner Code";
+            AdjExchRateBuffer2.INSERT;
+          END ELSE
+            AdjExchRateBuffer2.MODIFY;
+        UNTIL AdjExchRateBuffer.NEXT = 0;
+
+        // Post per posting group and per currency
+        IF AdjExchRateBuffer2.FIND('-') THEN
+          REPEAT
+            WITH AdjExchRateBuffer DO BEGIN
+              SETRANGE("Currency Code",AdjExchRateBuffer2."Currency Code");
+              SETRANGE("Dimension Entry No.",AdjExchRateBuffer2."Dimension Entry No.");
+              SETRANGE("Posting Date",AdjExchRateBuffer2."Posting Date");
+              SETRANGE("IC Partner Code",AdjExchRateBuffer2."IC Partner Code");
+              TempDimBuf.RESET;
+              TempDimBuf.DELETEALL;
+              TempDimSetEntry.RESET;
+              TempDimSetEntry.DELETEALL;
+              FIND('-');
+              DimBufMgt.GetDimensions("Dimension Entry No.",TempDimBuf);
+              DimMgt.CopyDimBufToDimSetEntry(TempDimBuf,TempDimSetEntry);
+              //MBK18s px.jgl
+              DimValString := CreateDimValString(TempSelectedDim,TempDimBuf,TRUE);
+              //MBK18e px.jgl
+              REPEAT
+                TempDtldCVLedgEntryBuf.INIT;
+                TempDtldCVLedgEntryBuf."Entry No." := Index;
+                IF AdjAmount <> 0 THEN
+                  CASE AdjustAccType OF
+                    1: // Customer
+                      BEGIN
+                        CustPostingGr.GET("Posting Group");
+                        //MBK18s px.jgl
+                        TempDtldCVLedgEntryBuf."Transaction No." :=
+                          PostAdjmt(
+                            CustPostingGr.GetReceivablesAccount,AdjAmount,AdjBase,"Currency Code",TempDimSetEntry,
+                            AdjExchRateBuffer2."Posting Date","IC Partner Code",DimValString);
+                        //MBK18e px.jgl
+                        IF TempDtldCVLedgEntryBuf.INSERT THEN;
+                        InsertExchRateAdjmtReg(1,"Posting Group","Currency Code");
+                      END;
+                    2: // Vendor
+                      BEGIN
+                        VendPostingGr.GET("Posting Group");
+                        //MBK18s px.jgl
+                        TempDtldCVLedgEntryBuf."Transaction No." :=
+                          PostAdjmt(
+                            VendPostingGr.GetPayablesAccount,AdjAmount,AdjBase,"Currency Code",TempDimSetEntry,
+                            AdjExchRateBuffer2."Posting Date","IC Partner Code",DimValString);
+                        //MBK18e px.jgl
+                        IF TempDtldCVLedgEntryBuf.INSERT THEN;
+                        InsertExchRateAdjmtReg(2,"Posting Group","Currency Code");
+                      END;
+                  END;
+              UNTIL AdjExchRateBuffer.NEXT = 0;
+            END;
+
+            WITH AdjExchRateBuffer2 DO BEGIN
+              Currency2.GET("Currency Code");
+              IF TotalGainsAmount <> 0 THEN BEGIN
+                //MBK18s px.jgl
+                PostAdjmt(
+                  Currency2.GetUnrealizedGainsAccount,-TotalGainsAmount,AdjBase,"Currency Code",TempDimSetEntry,
+                  AdjExchRateBuffer2."Posting Date","IC Partner Code",DimValString);
+                //MBK18e px.jgl
+              END;
+              IF TotalLossesAmount <> 0 THEN BEGIN
+                Currency2.TESTFIELD("Unrealized Losses Acc.");
+                //MBK18s px.jgl
+                PostAdjmt(
+                  Currency2.GetUnrealizedLossesAccount,-TotalLossesAmount,AdjBase,"Currency Code",TempDimSetEntry,
+                  AdjExchRateBuffer2."Posting Date","IC Partner Code",DimValString);
+                //MBK18e px.jgl
+              END;
+            END;
+          UNTIL AdjExchRateBuffer2.NEXT = 0;
+
+        IF PostSettlement THEN BEGIN
+          GLEntry.FIND('+');
+          CASE AdjustAccType OF
+            1: // Customer
+              IF TempDtldCustLedgEntry.FIND('-') THEN
+                REPEAT
+                  IF TempDtldCVLedgEntryBuf.GET(TempDtldCustLedgEntry."Transaction No.") THEN
+                    TempDtldCustLedgEntry."Transaction No." := TempDtldCVLedgEntryBuf."Transaction No."
+                  ELSE
+                    TempDtldCustLedgEntry."Transaction No." := GLEntry."Transaction No.";
+                  DtldCustLedgEntry := TempDtldCustLedgEntry;
+                  DtldCustLedgEntry.INSERT(TRUE);
+                UNTIL TempDtldCustLedgEntry.NEXT = 0;
+            2: // Vendor
+              IF TempDtldVendLedgEntry.FIND('-') THEN
+                REPEAT
+                  IF TempDtldCVLedgEntryBuf.GET(TempDtldVendLedgEntry."Transaction No.") THEN
+                    TempDtldVendLedgEntry."Transaction No." := TempDtldCVLedgEntryBuf."Transaction No."
+                  ELSE
+                    TempDtldVendLedgEntry."Transaction No." := GLEntry."Transaction No.";
+                  DtldVendLedgEntry := TempDtldVendLedgEntry;
+                  DtldVendLedgEntry.INSERT(TRUE);
+                UNTIL TempDtldVendLedgEntry.NEXT = 0;
+          END;
+        END;
+
+        AdjExchRateBuffer.RESET;
+        AdjExchRateBuffer.DELETEALL;
+        AdjExchRateBuffer2.RESET;
+        AdjExchRateBuffer2.DELETEALL;
+        TempDtldCustLedgEntry.RESET;
+        TempDtldCustLedgEntry.DELETEALL;
+        TempDtldVendLedgEntry.RESET;
+        TempDtldVendLedgEntry.DELETEALL;
+      END;
+    END;
+
+    [Internal]
+    LOCAL PROCEDURE AdjustVATEntries@12(VATType@1000 : Integer;UseTax@1001 : Boolean);
+    BEGIN
+      CLEAR(VATEntry2);
+      WITH VATEntry DO BEGIN
+        SETRANGE(Type,VATType);
+        SETRANGE("Use Tax",UseTax);
+        IF FIND('-') THEN
+          REPEAT
+            Accumulate(VATEntry2.Base,Base);
+            Accumulate(VATEntry2.Amount,Amount);
+            Accumulate(VATEntry2."Unrealized Amount","Unrealized Amount");
+            Accumulate(VATEntry2."Unrealized Base","Unrealized Base");
+            Accumulate(VATEntry2."Remaining Unrealized Amount","Remaining Unrealized Amount");
+            Accumulate(VATEntry2."Remaining Unrealized Base","Remaining Unrealized Base");
+            Accumulate(VATEntry2."Additional-Currency Amount","Additional-Currency Amount");
+            Accumulate(VATEntry2."Additional-Currency Base","Additional-Currency Base");
+            Accumulate(VATEntry2."Add.-Currency Unrealized Amt.","Add.-Currency Unrealized Amt.");
+            Accumulate(VATEntry2."Add.-Currency Unrealized Base","Add.-Currency Unrealized Base");
+            Accumulate(VATEntry2."Add.-Curr. Rem. Unreal. Amount","Add.-Curr. Rem. Unreal. Amount");
+            Accumulate(VATEntry2."Add.-Curr. Rem. Unreal. Base","Add.-Curr. Rem. Unreal. Base");
+
+            Accumulate(VATEntryTotalBase.Base,Base);
+            Accumulate(VATEntryTotalBase.Amount,Amount);
+            Accumulate(VATEntryTotalBase."Unrealized Amount","Unrealized Amount");
+            Accumulate(VATEntryTotalBase."Unrealized Base","Unrealized Base");
+            Accumulate(VATEntryTotalBase."Remaining Unrealized Amount","Remaining Unrealized Amount");
+            Accumulate(VATEntryTotalBase."Remaining Unrealized Base","Remaining Unrealized Base");
+            Accumulate(VATEntryTotalBase."Additional-Currency Amount","Additional-Currency Amount");
+            Accumulate(VATEntryTotalBase."Additional-Currency Base","Additional-Currency Base");
+            Accumulate(VATEntryTotalBase."Add.-Currency Unrealized Amt.","Add.-Currency Unrealized Amt.");
+            Accumulate(VATEntryTotalBase."Add.-Currency Unrealized Base","Add.-Currency Unrealized Base");
+            Accumulate(
+              VATEntryTotalBase."Add.-Curr. Rem. Unreal. Amount","Add.-Curr. Rem. Unreal. Amount");
+            Accumulate(VATEntryTotalBase."Add.-Curr. Rem. Unreal. Base","Add.-Curr. Rem. Unreal. Base");
+
+            AdjustVATAmount(Base,"Additional-Currency Base");
+            AdjustVATAmount(Amount,"Additional-Currency Amount");
+            AdjustVATAmount("Unrealized Amount","Add.-Currency Unrealized Amt.");
+            AdjustVATAmount("Unrealized Base","Add.-Currency Unrealized Base");
+            AdjustVATAmount("Remaining Unrealized Amount","Add.-Curr. Rem. Unreal. Amount");
+            AdjustVATAmount("Remaining Unrealized Base","Add.-Curr. Rem. Unreal. Base");
+            IF PostSettlement THEN
+              MODIFY;
+
+            Accumulate(VATEntry2.Base,-Base);
+            Accumulate(VATEntry2.Amount,-Amount);
+            Accumulate(VATEntry2."Unrealized Amount",-"Unrealized Amount");
+            Accumulate(VATEntry2."Unrealized Base",-"Unrealized Base");
+            Accumulate(VATEntry2."Remaining Unrealized Amount",-"Remaining Unrealized Amount");
+            Accumulate(VATEntry2."Remaining Unrealized Base",-"Remaining Unrealized Base");
+            Accumulate(VATEntry2."Additional-Currency Amount",-"Additional-Currency Amount");
+            Accumulate(VATEntry2."Additional-Currency Base",-"Additional-Currency Base");
+            Accumulate(VATEntry2."Add.-Currency Unrealized Amt.",-"Add.-Currency Unrealized Amt.");
+            Accumulate(VATEntry2."Add.-Currency Unrealized Base",-"Add.-Currency Unrealized Base");
+            Accumulate(VATEntry2."Add.-Curr. Rem. Unreal. Amount",-"Add.-Curr. Rem. Unreal. Amount");
+            Accumulate(VATEntry2."Add.-Curr. Rem. Unreal. Base",-"Add.-Curr. Rem. Unreal. Base");
+          UNTIL NEXT = 0;
+      END;
+    END;
+
+    [Internal]
+    LOCAL PROCEDURE AdjustVATAmount@4(VAR AmountLCY@1000 : Decimal;VAR AmountAddCurr@1001 : Decimal);
+    BEGIN
+      CASE GLSetup."VAT Exchange Rate Adjustment" OF
+        GLSetup."VAT Exchange Rate Adjustment"::"Adjust Amount":
+          AmountLCY :=
+            ROUND(
+              CurrExchRate2.ExchangeAmtFCYToLCYAdjmt(
+                PostingDate,GLSetup."Additional Reporting Currency",
+                AmountAddCurr,AddCurrCurrencyFactor));
+        GLSetup."VAT Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
+          AmountAddCurr :=
+            ROUND(
+              CurrExchRate2.ExchangeAmtLCYToFCY(
+                PostingDate,GLSetup."Additional Reporting Currency",
+                AmountLCY,AddCurrCurrencyFactor));
+      END;
+    END;
+
+    LOCAL PROCEDURE AdjustVATAccount@13(AccNo@1000 : Code[20];AmountLCY@1001 : Decimal;AmountAddCurr@1002 : Decimal;BaseLCY@1003 : Decimal;BaseAddCurr@1004 : Decimal);
+    BEGIN
+      "G/L Account".GET(AccNo);
+      "G/L Account".SETRANGE("Date Filter",StartDate,EndDate);
+      CASE GLSetup."VAT Exchange Rate Adjustment" OF
+        GLSetup."VAT Exchange Rate Adjustment"::"Adjust Amount":
+          PostGLAccAdjmt(
+            AccNo,GLSetup."VAT Exchange Rate Adjustment"::"Adjust Amount",
+            -AmountLCY,BaseLCY,BaseAddCurr);
+        GLSetup."VAT Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
+          PostGLAccAdjmt(
+            AccNo,GLSetup."VAT Exchange Rate Adjustment"::"Adjust Additional-Currency Amount",
+            -AmountAddCurr,BaseLCY,BaseAddCurr);
+      END;
+    END;
+
+    LOCAL PROCEDURE AdjustPurchTax@5(UseTax@1000 : Boolean);
+    BEGIN
+      IF (VATEntry2.Amount <> 0) OR (VATEntry2."Additional-Currency Amount" <> 0) THEN BEGIN
+        TaxJurisdiction.TESTFIELD("Tax Account (Purchases)");
+        AdjustVATAccount(
+          TaxJurisdiction."Tax Account (Purchases)",
+          VATEntry2.Amount,VATEntry2."Additional-Currency Amount",
+          VATEntryTotalBase.Amount,VATEntryTotalBase."Additional-Currency Amount");
+        IF UseTax THEN BEGIN
+          TaxJurisdiction.TESTFIELD("Reverse Charge (Purchases)");
+          AdjustVATAccount(
+            TaxJurisdiction."Reverse Charge (Purchases)",
+            -VATEntry2.Amount,-VATEntry2."Additional-Currency Amount",
+            -VATEntryTotalBase.Amount,-VATEntryTotalBase."Additional-Currency Amount");
+        END;
+      END;
+      IF (VATEntry2."Remaining Unrealized Amount" <> 0) OR
+         (VATEntry2."Add.-Curr. Rem. Unreal. Amount" <> 0)
+      THEN BEGIN
+        TaxJurisdiction.TESTFIELD("Unrealized VAT Type");
+        TaxJurisdiction.TESTFIELD("Unreal. Tax Acc. (Purchases)");
+        AdjustVATAccount(
+          TaxJurisdiction."Unreal. Tax Acc. (Purchases)",
+          VATEntry2."Remaining Unrealized Amount",VATEntry2."Add.-Curr. Rem. Unreal. Amount",
+          VATEntryTotalBase."Remaining Unrealized Amount",VATEntry2."Add.-Curr. Rem. Unreal. Amount");
+
+        IF UseTax THEN BEGIN
+          TaxJurisdiction.TESTFIELD("Unreal. Rev. Charge (Purch.)");
+          AdjustVATAccount(
+            TaxJurisdiction."Unreal. Rev. Charge (Purch.)",
+            -VATEntry2."Remaining Unrealized Amount",
+            -VATEntry2."Add.-Curr. Rem. Unreal. Amount",
+            -VATEntryTotalBase."Remaining Unrealized Amount",
+            -VATEntryTotalBase."Add.-Curr. Rem. Unreal. Amount");
+        END;
+      END;
+    END;
+
+    LOCAL PROCEDURE AdjustSalesTax@10();
+    BEGIN
+      TaxJurisdiction.TESTFIELD("Tax Account (Sales)");
+      AdjustVATAccount(
+        TaxJurisdiction."Tax Account (Sales)",
+        VATEntry2.Amount,VATEntry2."Additional-Currency Amount",
+        VATEntryTotalBase.Amount,VATEntryTotalBase."Additional-Currency Amount");
+      IF (VATEntry2."Remaining Unrealized Amount" <> 0) OR
+         (VATEntry2."Add.-Curr. Rem. Unreal. Amount" <> 0)
+      THEN BEGIN
+        TaxJurisdiction.TESTFIELD("Unrealized VAT Type");
+        TaxJurisdiction.TESTFIELD("Unreal. Tax Acc. (Sales)");
+        AdjustVATAccount(
+          TaxJurisdiction."Unreal. Tax Acc. (Sales)",
+          VATEntry2."Remaining Unrealized Amount",
+          VATEntry2."Add.-Curr. Rem. Unreal. Amount",
+          VATEntryTotalBase."Remaining Unrealized Amount",
+          VATEntryTotalBase."Add.-Curr. Rem. Unreal. Amount");
+      END;
+    END;
+
+    LOCAL PROCEDURE Accumulate@9(VAR TotalAmount@1000 : Decimal;AmountToAdd@1001 : Decimal);
+    BEGIN
+      TotalAmount := TotalAmount + AmountToAdd;
+    END;
+
+    LOCAL PROCEDURE PostGLAccAdjmt@23(GLAccNo@1000 : Code[20];ExchRateAdjmt@1001 : Integer;Amount@1002 : Decimal;NetChange@1003 : Decimal;AddCurrNetChange@1004 : Decimal);
+    BEGIN
+      GenJnlLine.INIT;
+      CASE ExchRateAdjmt OF
+        "G/L Account"."ACY Exchange Rate Adjustment"::"Adjust Amount":
+          BEGIN
+            GenJnlLine."Additional-Currency Posting" := GenJnlLine."Additional-Currency Posting"::"Amount Only";
+            GenJnlLine."Currency Code" := '';
+            GenJnlLine.Amount := Amount;
+            GenJnlLine."Amount (LCY)" := GenJnlLine.Amount;
+            GLAmtTotal := GLAmtTotal + GenJnlLine.Amount;
+            GLAddCurrNetChangeTotal := GLAddCurrNetChangeTotal + AddCurrNetChange;
+            GLNetChangeBase := GLNetChangeBase + NetChange;
+          END;
+        "G/L Account"."ACY Exchange Rate Adjustment"::"Adjust Additional-Currency Amount":
+          BEGIN
+            GenJnlLine."Additional-Currency Posting" := GenJnlLine."Additional-Currency Posting"::"Additional-Currency Amount Only";
+            GenJnlLine."Currency Code" := GLSetup."Additional Reporting Currency";
+            GenJnlLine.Amount := Amount;
+            GenJnlLine."Amount (LCY)" := 0;
+            GLAddCurrAmtTotal := GLAddCurrAmtTotal + GenJnlLine.Amount;
+            GLNetChangeTotal := GLNetChangeTotal + NetChange;
+            GLAddCurrNetChangeBase := GLAddCurrNetChangeBase + AddCurrNetChange;
+          END;
+      END;
+      IF GenJnlLine.Amount <> 0 THEN BEGIN
+        GenJnlLine."Document No." := PostingDocNo;
+        GenJnlLine."Account Type" := GenJnlLine."Account Type"::"G/L Account";
+        GenJnlLine."Account No." := GLAccNo;
+        GenJnlLine."Posting Date" := PostingDate;
+        CASE GenJnlLine."Additional-Currency Posting" OF
+          GenJnlLine."Additional-Currency Posting"::"Amount Only":
+            GenJnlLine.Description :=
+              STRSUBSTNO(
+                PostingDescription,
+                GLSetup."Additional Reporting Currency",
+                AddCurrNetChange);
+          GenJnlLine."Additional-Currency Posting"::"Additional-Currency Amount Only":
+            GenJnlLine.Description :=
+              STRSUBSTNO(
+                PostingDescription,
+                '',
+                NetChange);
+        END;
+        GenJnlLine."System-Created Entry" := TRUE;
+        GenJnlLine."Source Code" := SourceCodeSetup."Exchange Rate Adjmt.";
+        IF PostSettlement THEN BEGIN
+          GetJnlLineDefDim(GenJnlLine,TempDimSetEntry);
+          PostGenJnlLine(GenJnlLine,TempDimSetEntry);
+        END;
+      END;
+    END;
+
+    LOCAL PROCEDURE CheckExchRateAdjustment@6(AccNo@1000 : Code[20];SetupTableName@1001 : Text[100];SetupFieldName@1002 : Text[100]);
+    VAR
+      GLAcc@1003 : Record 15;
+      GLSetup@1004 : Record 98;
+    BEGIN
+      IF AccNo = '' THEN
+        EXIT;
+      GLAcc.GET(AccNo);
+      IF GLAcc."ACY Exchange Rate Adjustment" <> GLAcc."ACY Exchange Rate Adjustment"::"No Adjustment" THEN BEGIN
+        GLAcc."ACY Exchange Rate Adjustment" := GLAcc."ACY Exchange Rate Adjustment"::"No Adjustment";
+        ERROR(
+          Text017,
+          GLAcc.FIELDCAPTION("ACY Exchange Rate Adjustment"),GLAcc.TABLECAPTION,
+          GLAcc."No.",GLAcc."ACY Exchange Rate Adjustment",
+          SetupTableName,GLSetup.FIELDCAPTION("VAT Exchange Rate Adjustment"),
+          GLSetup.TABLECAPTION,SetupFieldName);
+      END;
+    END;
+
+    LOCAL PROCEDURE HandleCustDebitCredit@17(Amount@1000 : Decimal;AmountLCY@1001 : Decimal;Correction@1002 : Boolean;AdjAmount@1003 : Decimal);
+    BEGIN
+      IF ((Amount > 0) OR (AmountLCY > 0)) AND (NOT Correction) OR
+         ((Amount < 0) OR (AmountLCY < 0)) AND Correction
+      THEN BEGIN
+        TempDtldCustLedgEntry."Debit Amount (LCY)" := AdjAmount;
+        TempDtldCustLedgEntry."Credit Amount (LCY)" := 0;
+      END ELSE BEGIN
+        TempDtldCustLedgEntry."Debit Amount (LCY)" := 0;
+        TempDtldCustLedgEntry."Credit Amount (LCY)" := -AdjAmount;
+      END;
+    END;
+
+    LOCAL PROCEDURE HandleVendDebitCredit@14(Amount@1000 : Decimal;AmountLCY@1001 : Decimal;Correction@1002 : Boolean;AdjAmount@1003 : Decimal);
+    BEGIN
+      IF ((Amount > 0) OR (AmountLCY > 0)) AND (NOT Correction) OR
+         ((Amount < 0) OR (AmountLCY < 0)) AND Correction
+      THEN BEGIN
+        TempDtldVendLedgEntry."Debit Amount (LCY)" := AdjAmount;
+        TempDtldVendLedgEntry."Credit Amount (LCY)" := 0;
+      END ELSE BEGIN
+        TempDtldVendLedgEntry."Debit Amount (LCY)" := 0;
+        TempDtldVendLedgEntry."Credit Amount (LCY)" := -AdjAmount;
+      END;
+    END;
+
+    LOCAL PROCEDURE GetJnlLineDefDim@11(VAR GenJnlLine@1000 : Record 81;VAR TempDimSetEntry@1001 : Record 480);
+    VAR
+      TableID@1002 : ARRAY [10] OF Integer;
+      No@1003 : ARRAY [10] OF Code[20];
+    BEGIN
+      WITH GenJnlLine DO BEGIN
+        CASE "Account Type" OF
+          "Account Type"::"G/L Account": TableID[1] := DATABASE::"G/L Account";
+          "Account Type"::"Bank Account": TableID[1] := DATABASE::"Bank Account";
+        END;
+        No[1] := "Account No.";
+        DimMgt.GetDefaultDimID(TableID,No,"Source Code","Shortcut Dimension 1 Code","Shortcut Dimension 2 Code","Dimension Set ID",0);
+      END;
+      DimMgt.GetDimSetEntryDefaultDim(TempDimSetEntry);
+    END;
+
+    LOCAL PROCEDURE CopyDimSetEntryToDimBuf@18(VAR DimSetEntry@1000 : Record 480;VAR DimBuf@1001 : Record 360);
+    BEGIN
+      IF DimSetEntry.FIND('-') THEN
+        REPEAT
+          DimBuf."Table ID" := DATABASE::"Dimension Buffer";
+          DimBuf."Entry No." := 0;
+          DimBuf."Dimension Code" := DimSetEntry."Dimension Code";
+          DimBuf."Dimension Value Code" := DimSetEntry."Dimension Value Code";
+          DimBuf.INSERT;
+        UNTIL DimSetEntry.NEXT = 0;
+    END;
+
+    LOCAL PROCEDURE GetDimCombID@21(VAR DimBuf@1000 : Record 360) : Integer;
+    VAR
+      DimEntryNo@1001 : Integer;
+    BEGIN
+      DimEntryNo := DimBufMgt.FindDimensions(DimBuf);
+      IF DimEntryNo = 0 THEN
+        DimEntryNo := DimBufMgt.InsertDimensions(DimBuf);
+      EXIT(DimEntryNo);
+    END;
+
+    LOCAL PROCEDURE PostGenJnlLine@8(VAR GenJnlLine@1000 : Record 81;VAR DimSetEntry@1001 : Record 480) : Integer;
+    BEGIN
+      GenJnlLine."Shortcut Dimension 1 Code" := GetGlobalDimVal(GLSetup."Global Dimension 1 Code",DimSetEntry);
+      GenJnlLine."Shortcut Dimension 2 Code" := GetGlobalDimVal(GLSetup."Global Dimension 2 Code",DimSetEntry);
+      GenJnlLine."Dimension Set ID" := DimMgt.GetDimensionSetID(TempDimSetEntry);
+      //MBK16s px.jgl
+      GenJnlLine."Force Post" := TRUE;
+      //MBK16e px.jgl
+      GenJnlPostLine.RUN(GenJnlLine);
+      EXIT(GenJnlPostLine.GetNextTransactionNo);
+    END;
+
+    LOCAL PROCEDURE GetGlobalDimVal@16(GlobalDimCode@1000 : Code[20];VAR DimSetEntry@1001 : Record 480) : Code[20];
+    VAR
+      DimVal@1002 : Code[20];
+    BEGIN
+      IF GlobalDimCode = '' THEN
+        DimVal := ''
+      ELSE BEGIN
+        DimSetEntry.SETRANGE("Dimension Code",GlobalDimCode);
+        IF DimSetEntry.FIND('-') THEN
+          DimVal := DimSetEntry."Dimension Value Code"
+        ELSE
+          DimVal := '';
+        DimSetEntry.SETRANGE("Dimension Code");
+      END;
+      EXIT(DimVal);
+    END;
+
+    [External]
+    PROCEDURE CheckPostingDate@19();
+    BEGIN
+      IF PostingDate < StartDate THEN
+        ERROR(Text018);
+      IF PostingDate > EndDateReq THEN
+        ERROR(Text018);
+    END;
+
+    [Internal]
+    PROCEDURE AdjustCustomerLedgerEntry@20(CusLedgerEntry@1001 : Record 21;PostingDate2@1000 : Date;Application@1140000 : Boolean);
+    VAR
+      DimSetEntry@1005 : Record 480;
+      DimEntryNo@1004 : Integer;
+      OldAdjAmount@1003 : Decimal;
+      Adjust@1002 : Boolean;
+      AdjExchRateBufIndex@1006 : Integer;
+    BEGIN
+      WITH CusLedgerEntry DO BEGIN
+        SETRANGE("Date Filter",0D,PostingDate2);
+        Currency2.GET("Currency Code");
+        GainsAmount := 0;
+        LossesAmount := 0;
+        OldAdjAmount := 0;
+        Adjust := FALSE;
+
+        TempDimSetEntry.RESET;
+        TempDimSetEntry.DELETEALL;
+        TempDimBuf.RESET;
+        TempDimBuf.DELETEALL;
+        DimSetEntry.SETRANGE("Dimension Set ID","Dimension Set ID");
+        CopyDimSetEntryToDimBuf(DimSetEntry,TempDimBuf);
+        DimEntryNo := GetDimCombID(TempDimBuf);
+
+        CALCFIELDS(
+          Amount,"Amount (LCY)","Remaining Amount","Remaining Amt. (LCY)","Original Amt. (LCY)",
+          "Debit Amount","Credit Amount","Debit Amount (LCY)","Credit Amount (LCY)");
+
+        // Calculate Old Unrealized Gains and Losses
+        SetUnrealizedGainLossFilterCust(DtldCustLedgEntry,"Entry No.");
+        DtldCustLedgEntry.CALCSUMS("Amount (LCY)");
+
+        SetUnrealizedGainLossFilterCust(TempDtldCustLedgEntrySums,"Entry No.");
+        TempDtldCustLedgEntrySums.CALCSUMS("Amount (LCY)");
+        OldAdjAmount := DtldCustLedgEntry."Amount (LCY)" + TempDtldCustLedgEntrySums."Amount (LCY)";
+        "Remaining Amt. (LCY)" := "Remaining Amt. (LCY)" + TempDtldCustLedgEntrySums."Amount (LCY)";
+        "Debit Amount (LCY)" := "Debit Amount (LCY)" + TempDtldCustLedgEntrySums."Amount (LCY)";
+        "Credit Amount (LCY)" := "Credit Amount (LCY)" + TempDtldCustLedgEntrySums."Amount (LCY)";
+        TempDtldCustLedgEntrySums.RESET;
+
+
+        // Calculate New Unrealized Gains and Losses
+        AdjAmount :=
+          ROUND(
+            CurrExchRate.ExchangeAmtFCYToLCYAdjmt(
+              PostingDate2,Currency2.Code,"Remaining Amount",Currency2."Currency Factor")) -
+          "Remaining Amt. (LCY)";
+
+        // Modify Currency Factor on Customer Ledger Entry
+        IF "Adjusted Currency Factor" <> Currency2."Currency Factor" THEN BEGIN
+          "Adjusted Currency Factor" := Currency2."Currency Factor";
+          IF PostSettlement THEN
+            MODIFY;
+        END;
+        FindCurrency(PostingDate,Currency2.Code);
+
+        IF AdjAmount <> 0 THEN BEGIN
+          InitDtldCustLedgEntry(CusLedgerEntry,TempDtldCustLedgEntry);
+          TempDtldCustLedgEntry."Entry No." := NewEntryNo;
+          TempDtldCustLedgEntry."Posting Date" := PostingDate2;
+          TempDtldCustLedgEntry."Document No." := PostingDocNo;
+
+          Correction :=
+            ("Debit Amount" < 0) OR
+            ("Credit Amount" < 0) OR
+            ("Debit Amount (LCY)" < 0) OR
+            ("Credit Amount (LCY)" < 0);
+
+          IF OldAdjAmount > 0 THEN BEGIN
+            CASE TRUE OF
+              (AdjAmount > 0):
+                BEGIN
+                  TempDtldCustLedgEntry."Amount (LCY)" := AdjAmount;
+                  TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Gain";
+                  HandleCustDebitCredit(
+                    Amount,"Amount (LCY)",Correction,TempDtldCustLedgEntry."Amount (LCY)");
+                  InsertTempDtldCustomerLedgerEntry;
+                  NewEntryNo := NewEntryNo + 1;
+                  GainsAmount := AdjAmount;
+                  Adjust := TRUE;
+                END;
+              (AdjAmount < 0):
+                BEGIN
+                  IF -AdjAmount <= OldAdjAmount THEN BEGIN
+                    TempDtldCustLedgEntry."Amount (LCY)" := AdjAmount;
+                    TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Loss";
+                    HandleCustDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldCustLedgEntry."Amount (LCY)");
+                    InsertTempDtldCustomerLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    LossesAmount := AdjAmount;
+                    Adjust := TRUE;
+                  END ELSE BEGIN
+                    AdjAmount := AdjAmount + OldAdjAmount;
+                    TempDtldCustLedgEntry."Amount (LCY)" := -OldAdjAmount;
+                    TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Gain";
+                    HandleCustDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldCustLedgEntry."Amount (LCY)");
+                    InsertTempDtldCustomerLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    AdjExchRateBufIndex :=
+                      AdjExchRateBufferUpdate(
+                        "Currency Code",Customer."Customer Posting Group",
+                        0,0,-OldAdjAmount,-OldAdjAmount,0,DimEntryNo,PostingDate2,Customer."IC Partner Code");
+                    TempDtldCustLedgEntry."Transaction No." := AdjExchRateBufIndex;
+                    ModifyTempDtldCustomerLedgerEntry;
+                    Adjust := FALSE;
+                  END;
+                END;
+            END;
+          END;
+          IF OldAdjAmount < 0 THEN BEGIN
+            CASE TRUE OF
+              (AdjAmount < 0):
+                BEGIN
+                  TempDtldCustLedgEntry."Amount (LCY)" := AdjAmount;
+                  TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Loss";
+                  HandleCustDebitCredit(
+                    Amount,"Amount (LCY)",Correction,TempDtldCustLedgEntry."Amount (LCY)");
+                  InsertTempDtldCustomerLedgerEntry;
+                  NewEntryNo := NewEntryNo + 1;
+                  LossesAmount := AdjAmount;
+                  Adjust := TRUE;
+                END;
+              (AdjAmount > 0):
+                BEGIN
+                  IF AdjAmount <= -OldAdjAmount THEN BEGIN
+                    TempDtldCustLedgEntry."Amount (LCY)" := AdjAmount;
+                    TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Gain";
+                    HandleCustDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldCustLedgEntry."Amount (LCY)");
+                    InsertTempDtldCustomerLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    GainsAmount := AdjAmount;
+                    Adjust := TRUE;
+                  END ELSE BEGIN
+                    AdjAmount := OldAdjAmount + AdjAmount;
+                    TempDtldCustLedgEntry."Amount (LCY)" := -OldAdjAmount;
+                    TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Loss";
+                    HandleCustDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldCustLedgEntry."Amount (LCY)");
+                    InsertTempDtldCustomerLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    AdjExchRateBufIndex :=
+                      AdjExchRateBufferUpdate(
+                        "Currency Code",Customer."Customer Posting Group",
+                        0,0,-OldAdjAmount,0,-OldAdjAmount,DimEntryNo,PostingDate2,Customer."IC Partner Code");
+                    TempDtldCustLedgEntry."Transaction No." := AdjExchRateBufIndex;
+                    ModifyTempDtldCustomerLedgerEntry;
+                    Adjust := FALSE;
+                  END;
+                END;
+            END;
+          END;
+          IF NOT Adjust THEN BEGIN
+            TempDtldCustLedgEntry."Amount (LCY)" := AdjAmount;
+            HandleCustDebitCredit(Amount,"Amount (LCY)",Correction,TempDtldCustLedgEntry."Amount (LCY)");
+            TempDtldCustLedgEntry."Entry No." := NewEntryNo;
+            IF AdjAmount < 0 THEN BEGIN
+              TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Loss";
+              GainsAmount := 0;
+              LossesAmount := AdjAmount;
+            END ELSE BEGIN
+              IF AdjAmount > 0 THEN BEGIN
+                TempDtldCustLedgEntry."Entry Type" := TempDtldCustLedgEntry."Entry Type"::"Unrealized Gain";
+                GainsAmount := AdjAmount;
+                LossesAmount := 0;
+              END;
+            END;
+            InsertTempDtldCustomerLedgerEntry;
+            NewEntryNo := NewEntryNo + 1;
+          END;
+
+          TotalAdjAmount := TotalAdjAmount + AdjAmount;
+          Window.UPDATE(4,TotalAdjAmount);
+          AdjExchRateBufIndex :=
+            AdjExchRateBufferUpdate(
+              "Currency Code",Customer."Customer Posting Group",
+              "Remaining Amount","Remaining Amt. (LCY)",TempDtldCustLedgEntry."Amount (LCY)",
+              GainsAmount,LossesAmount,DimEntryNo,PostingDate2,Customer."IC Partner Code");
+          TempDtldCustLedgEntry."Transaction No." := AdjExchRateBufIndex;
+          ModifyTempDtldCustomerLedgerEntry;
+        END;
+      END;
+    END;
+
+    [Internal]
+    PROCEDURE AdjustVendorLedgerEntry@24(VendLedgerEntry@1001 : Record 25;PostingDate2@1000 : Date;Application@1140000 : Boolean);
+    VAR
+      DimSetEntry@1006 : Record 480;
+      DimEntryNo@1005 : Integer;
+      OldAdjAmount@1004 : Decimal;
+      Adjust@1003 : Boolean;
+      AdjExchRateBufIndex@1007 : Integer;
+    BEGIN
+      WITH VendLedgerEntry DO BEGIN
+        SETRANGE("Date Filter",0D,PostingDate2);
+        Currency2.GET("Currency Code");
+        GainsAmount := 0;
+        LossesAmount := 0;
+        OldAdjAmount := 0;
+        Adjust := FALSE;
+
+        TempDimBuf.RESET;
+        TempDimBuf.DELETEALL;
+        DimSetEntry.SETRANGE("Dimension Set ID","Dimension Set ID");
+        CopyDimSetEntryToDimBuf(DimSetEntry,TempDimBuf);
+        DimEntryNo := GetDimCombID(TempDimBuf);
+
+        CALCFIELDS(
+          Amount,"Amount (LCY)","Remaining Amount","Remaining Amt. (LCY)","Original Amt. (LCY)",
+          "Debit Amount","Credit Amount","Debit Amount (LCY)","Credit Amount (LCY)");
+
+        // Calculate Old Unrealized GainLoss
+        SetUnrealizedGainLossFilterVend(DtldVendLedgEntry,"Entry No.");
+        DtldVendLedgEntry.CALCSUMS("Amount (LCY)");
+
+        SetUnrealizedGainLossFilterVend(TempDtldVendLedgEntrySums,"Entry No.");
+        TempDtldVendLedgEntrySums.CALCSUMS("Amount (LCY)");
+        OldAdjAmount := DtldVendLedgEntry."Amount (LCY)" + TempDtldVendLedgEntrySums."Amount (LCY)";
+        "Remaining Amt. (LCY)" := "Remaining Amt. (LCY)" + TempDtldVendLedgEntrySums."Amount (LCY)";
+        "Debit Amount (LCY)" := "Debit Amount (LCY)" + TempDtldVendLedgEntrySums."Amount (LCY)";
+        "Credit Amount (LCY)" := "Credit Amount (LCY)" + TempDtldVendLedgEntrySums."Amount (LCY)";
+        TempDtldVendLedgEntrySums.RESET;
+
+
+        // Calculate New Unrealized Gains and Losses
+        AdjAmount :=
+          ROUND(
+            CurrExchRate.ExchangeAmtFCYToLCYAdjmt(
+              PostingDate2,Currency2.Code,"Remaining Amount",Currency2."Currency Factor")) -
+          "Remaining Amt. (LCY)";
+
+        // Modify Currency Factor on Vendor Ledger Entry
+        IF "Adjusted Currency Factor" <> Currency2."Currency Factor" THEN BEGIN
+          "Adjusted Currency Factor" := Currency2."Currency Factor";
+          IF PostSettlement THEN
+            MODIFY;
+        END;
+
+        FindCurrency(PostingDate,Currency2.Code);
+
+        IF AdjAmount <> 0 THEN BEGIN
+          InitDtldVendLedgEntry(VendLedgerEntry,TempDtldVendLedgEntry);
+          TempDtldVendLedgEntry."Entry No." := NewEntryNo;
+          TempDtldVendLedgEntry."Posting Date" := PostingDate2;
+          TempDtldVendLedgEntry."Document No." := PostingDocNo;
+
+          Correction :=
+            ("Debit Amount" < 0) OR
+            ("Credit Amount" < 0) OR
+            ("Debit Amount (LCY)" < 0) OR
+            ("Credit Amount (LCY)" < 0);
+
+          IF OldAdjAmount > 0 THEN BEGIN
+            CASE TRUE OF
+              (AdjAmount > 0):
+                BEGIN
+                  TempDtldVendLedgEntry."Amount (LCY)" := AdjAmount;
+                  TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Gain";
+                  HandleVendDebitCredit(Amount,"Amount (LCY)",Correction,TempDtldVendLedgEntry."Amount (LCY)");
+                  InsertTempDtldVendorLedgerEntry;
+                  NewEntryNo := NewEntryNo + 1;
+                  GainsAmount := AdjAmount;
+                  Adjust := TRUE;
+                END;
+              (AdjAmount < 0):
+                BEGIN
+                  IF -AdjAmount <= OldAdjAmount THEN BEGIN
+                    TempDtldVendLedgEntry."Amount (LCY)" := AdjAmount;
+                    TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Loss";
+                    HandleVendDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldVendLedgEntry."Amount (LCY)");
+                    InsertTempDtldVendorLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    LossesAmount := AdjAmount;
+                    Adjust := TRUE;
+                  END ELSE BEGIN
+                    AdjAmount := AdjAmount + OldAdjAmount;
+                    TempDtldVendLedgEntry."Amount (LCY)" := -OldAdjAmount;
+                    TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Gain";
+                    HandleVendDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldVendLedgEntry."Amount (LCY)");
+                    InsertTempDtldVendorLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    AdjExchRateBufIndex :=
+                      AdjExchRateBufferUpdate(
+                        "Currency Code",Vendor."Vendor Posting Group",
+                        0,0,-OldAdjAmount,-OldAdjAmount,0,DimEntryNo,PostingDate2,Vendor."IC Partner Code");
+                    TempDtldVendLedgEntry."Transaction No." := AdjExchRateBufIndex;
+                    ModifyTempDtldVendorLedgerEntry;
+                    Adjust := FALSE;
+                  END;
+                END;
+            END;
+          END;
+          IF OldAdjAmount < 0 THEN BEGIN
+            CASE TRUE OF
+              (AdjAmount < 0):
+                BEGIN
+                  TempDtldVendLedgEntry."Amount (LCY)" := AdjAmount;
+                  TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Loss";
+                  HandleVendDebitCredit(Amount,"Amount (LCY)",Correction,TempDtldVendLedgEntry."Amount (LCY)");
+                  InsertTempDtldVendorLedgerEntry;
+                  NewEntryNo := NewEntryNo + 1;
+                  LossesAmount := AdjAmount;
+                  Adjust := TRUE;
+                END;
+              (AdjAmount > 0):
+                BEGIN
+                  IF AdjAmount <= -OldAdjAmount THEN BEGIN
+                    TempDtldVendLedgEntry."Amount (LCY)" := AdjAmount;
+                    TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Gain";
+                    HandleVendDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldVendLedgEntry."Amount (LCY)");
+                    InsertTempDtldVendorLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    GainsAmount := AdjAmount;
+                    Adjust := TRUE;
+                  END ELSE BEGIN
+                    AdjAmount := OldAdjAmount + AdjAmount;
+                    TempDtldVendLedgEntry."Amount (LCY)" := -OldAdjAmount;
+                    TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Loss";
+                    HandleVendDebitCredit(
+                      Amount,"Amount (LCY)",Correction,TempDtldVendLedgEntry."Amount (LCY)");
+                    InsertTempDtldVendorLedgerEntry;
+                    NewEntryNo := NewEntryNo + 1;
+                    AdjExchRateBufIndex :=
+                      AdjExchRateBufferUpdate(
+                        "Currency Code",Vendor."Vendor Posting Group",
+                        0,0,-OldAdjAmount,0,-OldAdjAmount,DimEntryNo,PostingDate2,Vendor."IC Partner Code");
+                    TempDtldVendLedgEntry."Transaction No." := AdjExchRateBufIndex;
+                    ModifyTempDtldVendorLedgerEntry;
+                    Adjust := FALSE;
+                  END;
+                END;
+            END;
+          END;
+
+          IF NOT Adjust THEN BEGIN
+            TempDtldVendLedgEntry."Amount (LCY)" := AdjAmount;
+            HandleVendDebitCredit(Amount,"Amount (LCY)",Correction,TempDtldVendLedgEntry."Amount (LCY)");
+            TempDtldVendLedgEntry."Entry No." := NewEntryNo;
+            IF AdjAmount < 0 THEN BEGIN
+              TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Loss";
+              GainsAmount := 0;
+              LossesAmount := AdjAmount;
+            END ELSE BEGIN
+              IF AdjAmount > 0 THEN BEGIN
+                TempDtldVendLedgEntry."Entry Type" := TempDtldVendLedgEntry."Entry Type"::"Unrealized Gain";
+                GainsAmount := AdjAmount;
+                LossesAmount := 0;
+              END;
+            END;
+            InsertTempDtldVendorLedgerEntry;
+            NewEntryNo := NewEntryNo + 1;
+          END;
+
+          TotalAdjAmount := TotalAdjAmount + AdjAmount;
+          Window.UPDATE(4,TotalAdjAmount);
+          AdjExchRateBufIndex :=
+            AdjExchRateBufferUpdate(
+              "Currency Code",Vendor."Vendor Posting Group",
+              "Remaining Amount","Remaining Amt. (LCY)",
+              TempDtldVendLedgEntry."Amount (LCY)",GainsAmount,LossesAmount,DimEntryNo,PostingDate2,Vendor."IC Partner Code");
+          TempDtldVendLedgEntry."Transaction No." := AdjExchRateBufIndex;
+          ModifyTempDtldVendorLedgerEntry;
+        END;
+      END;
+    END;
+
+    LOCAL PROCEDURE InitDtldCustLedgEntry@27(CustLedgEntry@1000 : Record 21;VAR DtldCustLedgEntry@1001 : Record 379);
+    BEGIN
+      WITH CustLedgEntry DO BEGIN
+        DtldCustLedgEntry.INIT;
+        DtldCustLedgEntry."Cust. Ledger Entry No." := "Entry No.";
+        DtldCustLedgEntry.Amount := 0;
+        DtldCustLedgEntry."Customer No." := "Customer No.";
+        DtldCustLedgEntry."Currency Code" := "Currency Code";
+        DtldCustLedgEntry."User ID" := USERID;
+        DtldCustLedgEntry."Source Code" := SourceCodeSetup."Exchange Rate Adjmt.";
+        DtldCustLedgEntry."Journal Batch Name" := "Journal Batch Name";
+        DtldCustLedgEntry."Reason Code" := "Reason Code";
+        DtldCustLedgEntry."Initial Entry Due Date" := "Due Date";
+        DtldCustLedgEntry."Initial Entry Global Dim. 1" := "Global Dimension 1 Code";
+        DtldCustLedgEntry."Initial Entry Global Dim. 2" := "Global Dimension 2 Code";
+        DtldCustLedgEntry."Initial Document Type" := "Document Type";
+      END;
+    END;
+
+    LOCAL PROCEDURE InitDtldVendLedgEntry@28(VendLedgEntry@1001 : Record 25;VAR DtldVendLedgEntry@1000 : Record 380);
+    BEGIN
+      WITH VendLedgEntry DO BEGIN
+        DtldVendLedgEntry.INIT;
+        DtldVendLedgEntry."Vendor Ledger Entry No." := "Entry No.";
+        DtldVendLedgEntry.Amount := 0;
+        DtldVendLedgEntry."Vendor No." := "Vendor No.";
+        DtldVendLedgEntry."Currency Code" := "Currency Code";
+        DtldVendLedgEntry."User ID" := USERID;
+        DtldVendLedgEntry."Source Code" := SourceCodeSetup."Exchange Rate Adjmt.";
+        DtldVendLedgEntry."Journal Batch Name" := "Journal Batch Name";
+        DtldVendLedgEntry."Reason Code" := "Reason Code";
+        DtldVendLedgEntry."Initial Entry Due Date" := "Due Date";
+        DtldVendLedgEntry."Initial Entry Global Dim. 1" := "Global Dimension 1 Code";
+        DtldVendLedgEntry."Initial Entry Global Dim. 2" := "Global Dimension 2 Code";
+        DtldVendLedgEntry."Initial Document Type" := "Document Type";
+      END;
+    END;
+
+    LOCAL PROCEDURE SetUnrealizedGainLossFilterCust@22(VAR DtldCustLedgEntry@1000 : Record 379;EntryNo@1001 : Integer);
+    BEGIN
+      WITH DtldCustLedgEntry DO BEGIN
+        RESET;
+        SETCURRENTKEY("Cust. Ledger Entry No.","Entry Type");
+        SETRANGE("Cust. Ledger Entry No.",EntryNo);
+        SETRANGE("Entry Type","Entry Type"::"Unrealized Loss","Entry Type"::"Unrealized Gain");
+      END;
+    END;
+
+    LOCAL PROCEDURE SetUnrealizedGainLossFilterVend@26(VAR DtldVendLedgEntry@1001 : Record 380;EntryNo@1000 : Integer);
+    BEGIN
+      WITH DtldVendLedgEntry DO BEGIN
+        RESET;
+        SETCURRENTKEY("Vendor Ledger Entry No.","Entry Type");
+        SETRANGE("Vendor Ledger Entry No.",EntryNo);
+        SETRANGE("Entry Type","Entry Type"::"Unrealized Loss","Entry Type"::"Unrealized Gain");
+      END;
+    END;
+
+    LOCAL PROCEDURE InsertTempDtldCustomerLedgerEntry@30();
+    BEGIN
+      TempDtldCustLedgEntry.INSERT;
+      TempDtldCustLedgEntrySums := TempDtldCustLedgEntry;
+      TempDtldCustLedgEntrySums.INSERT;
+    END;
+
+    LOCAL PROCEDURE InsertTempDtldVendorLedgerEntry@29();
+    BEGIN
+      TempDtldVendLedgEntry.INSERT;
+      TempDtldVendLedgEntrySums := TempDtldVendLedgEntry;
+      TempDtldVendLedgEntrySums.INSERT;
+    END;
+
+    LOCAL PROCEDURE ModifyTempDtldCustomerLedgerEntry@33();
+    BEGIN
+      TempDtldCustLedgEntry.MODIFY;
+      TempDtldCustLedgEntrySums := TempDtldCustLedgEntry;
+      TempDtldCustLedgEntrySums.MODIFY;
+    END;
+
+    LOCAL PROCEDURE ModifyTempDtldVendorLedgerEntry@32();
+    BEGIN
+      TempDtldVendLedgEntry.MODIFY;
+      TempDtldVendLedgEntrySums := TempDtldVendLedgEntry;
+      TempDtldVendLedgEntrySums.MODIFY;
+    END;
+
+    PROCEDURE FindCurrency@1140000(Date@1140000 : Date;CurrencyCode@1140001 : Code[10]);
+    BEGIN
+      IF (CurrExchRate3."Currency Code" <> CurrencyCode) OR (Date2 <> Date) THEN BEGIN
+        CurrExchRate3.SETRANGE("Currency Code",CurrencyCode);
+        CurrExchRate3.SETRANGE("Starting Date",0D,Date);
+        CurrExchRate3.FIND('+');
+        Date2 := Date;
+      END;
+    END;
+
+    PROCEDURE CustCalcRemOrigAmtLCY@1140003(CustLedgEntry2@1140003 : Record 21) : Decimal;
+    VAR
+      DtldCustEntry2@1140004 : Record 379;
+    BEGIN
+      DtldCustEntry2.SETCURRENTKEY("Cust. Ledger Entry No.","Entry Type","Posting Date");
+      DtldCustEntry2.SETRANGE("Cust. Ledger Entry No.",CustLedgEntry2."Entry No.");
+      DtldCustEntry2.SETRANGE(
+        "Entry Type",DtldCustEntry2."Entry Type"::"Initial Entry",DtldCustEntry2."Entry Type"::Application);
+      DtldCustEntry2.SETRANGE("Posting Date",CustLedgEntry2."Posting Date",PostingDate);
+      DtldCustEntry2.CALCSUMS("Amount (LCY)");
+      EXIT(DtldCustEntry2."Amount (LCY)");
+    END;
+
+    PROCEDURE VendCalcRemOrigAmtLCY@1140004(VendLedgEntry2@1140004 : Record 25) : Decimal;
+    VAR
+      DtldVendEntry2@1140005 : Record 380;
+    BEGIN
+      DtldVendEntry2.SETCURRENTKEY("Vendor Ledger Entry No.","Entry Type","Posting Date");
+      DtldVendEntry2.SETRANGE("Vendor Ledger Entry No.",VendLedgEntry2."Entry No.");
+      DtldVendEntry2.SETRANGE(
+        "Entry Type",DtldVendEntry2."Entry Type"::"Initial Entry",DtldVendEntry2."Entry Type"::Application);
+      DtldVendEntry2.SETRANGE("Posting Date",VendLedgEntry2."Posting Date",PostingDate);
+      DtldVendEntry2.CALCSUMS("Amount (LCY)");
+      EXIT(DtldVendEntry2."Amount (LCY)");
+    END;
+
+    LOCAL PROCEDURE CheckGLFCYExchRateAdjustment@119451021(AccNo@119451021 : Code[20];SetupTableName@119451022 : Text[100];SetupFieldName@119451023 : Text[100]);
+    VAR
+      GLAcc@119451024 : Record 15;
+      GLSetup@119451025 : Record 98;
+    BEGIN
+      IF AccNo = '' THEN
+        EXIT;
+      GLAcc.GET(AccNo);
+      IF GLAcc."FCY Exchange Rate Adjustment" THEN BEGIN
+        GLAcc."FCY Exchange Rate Adjustment" := FALSE;
+        ERROR(
+          TextGLFCYCheck,
+          GLAcc.FIELDCAPTION("FCY Exchange Rate Adjustment"),GLAcc.TABLECAPTION,
+          GLAcc."No.",GLAcc."FCY Exchange Rate Adjustment",SetupTableName,SetupFieldName);
+      END;
+    END;
+
+    LOCAL PROCEDURE GetGLEntryDimensions@119451027(GLEntry@1000 : Record 17;VAR DimBuf@1001 : Record 360);
+    VAR
+      DimSetEntry@1004 : Record 480;
+    BEGIN
+      //MBK16s px.jgl
+      DimSetEntry.SETRANGE("Dimension Set ID",GLEntry."Dimension Set ID");
+      IF DimSetEntry.FINDSET THEN
+        REPEAT
+          DimBuf."Table ID" := DATABASE::"G/L Entry";
+          DimBuf."Entry No." := GLEntry."Entry No.";
+          DimBuf."Dimension Code" := DimSetEntry."Dimension Code";
+          DimBuf."Dimension Value Code" := DimSetEntry."Dimension Value Code";
+          DimBuf.INSERT;
+        UNTIL DimSetEntry.NEXT = 0;
+      //MBK16e px.jgl
+    END;
+
+    LOCAL PROCEDURE GetBLEntryDimensions@119451031(BLEntry@1000 : Record 271;VAR DimBuf@1001 : Record 360);
+    VAR
+      DimSetEntry@1004 : Record 480;
+    BEGIN
+      //MBK16s px.jgl
+      DimSetEntry.SETRANGE("Dimension Set ID",BLEntry."Dimension Set ID");
+      IF DimSetEntry.FINDSET THEN
+        REPEAT
+          DimBuf."Table ID" := DATABASE::"Bank Account Ledger Entry";
+          DimBuf."Entry No." := BLEntry."Entry No.";
+          DimBuf."Dimension Code" := DimSetEntry."Dimension Code";
+          DimBuf."Dimension Value Code" := DimSetEntry."Dimension Value Code";
+          DimBuf.INSERT;
+        UNTIL DimSetEntry.NEXT = 0;
+      //MBK16e px.jgl
+    END;
+
+    PROCEDURE AddDimValToText@119451023(DimVal@1000 : Code[20];VAR Text@1001 : Text[50]);
+    BEGIN
+      //MBK16s px.jgl
+      IF Text = '' THEN BEGIN
+        IF DimVal ='' THEN
+          Text := ';'
+        ELSE
+          Text := DimVal;
+      END ELSE
+        IF (STRLEN(Text) + STRLEN(DimVal)) <= (MAXSTRLEN(Text) - 4) THEN
+          Text := STRSUBSTNO('%1;%2',Text,DimVal)
+        ELSE
+          IF COPYSTR(Text,STRLEN(Text) - 2,3) <> '...' THEN
+            Text := STRSUBSTNO('%1;...',Text)
+      //MBK16e px.jgl
+    END;
+
+    LOCAL PROCEDURE CreateDimValString@119451028(VAR SelectedDim@119451021 : Record 369;VAR TempDimBuf@119451022 : Record 360;AllDimensions@119451023 : Boolean) : Text[50];
+    VAR
+      Dim@119451024 : Record 348;
+      BuildText@119451025 : Text[50];
+    BEGIN
+      //MBK16s px.jgl
+      IF AllDimensions THEN BEGIN
+        IF Dim.FINDSET THEN BEGIN
+          REPEAT
+            TempDimBuf.SETRANGE("Dimension Code",Dim.Code);
+            IF TempDimBuf.FINDFIRST THEN
+              AddDimValToText(TempDimBuf."Dimension Value Code",BuildText)
+            ELSE
+              AddDimValToText('',BuildText);
+          UNTIL Dim.NEXT = 0;
+        END;
+      END ELSE BEGIN
+        IF TempSelectedDim.FINDSET THEN BEGIN
+          REPEAT
+            TempDimBuf.SETRANGE("Dimension Code",TempSelectedDim."Dimension Code");
+            IF TempDimBuf.FINDFIRST THEN
+              AddDimValToText(TempDimBuf."Dimension Value Code",BuildText)
+            ELSE
+              AddDimValToText('',BuildText);
+          UNTIL TempSelectedDim.NEXT = 0;
+        END;
+      END;
+      TempDimBuf.RESET;
+      EXIT(BuildText);
+      //MBK16e px.jgl
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.02             03.08.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     03.08.2010    os.jgl  SITC    BugFix for DimBufMgt
+      OS002     23.01.2011    os.jgl  SITC    adjust G/L Accounts held in FCY
+                                              optional adjustment of Bank accounts and G/L accounts
+      OS003     06.03.2011    os.jgl  SITC    RDL design changes
+      OS004     10.03.2011    os.jgl  SITC    Remove CreateTotals()-logic- didn't seem to be very logical anyway
+                                              replaced with accumulation over AdjExchRateBuffer, processing in OnPostDataItem() of
+                                              Bank Account and GLAccFCY
+                                              ExchAdjmtReg will always be written (PostSettlement=true), even if the adjustment is 0
+      OS005     22.03.2011    os.jgl  SITC    variable name cleanup
+      OS006     11.04.2011    os.jgl  SITC    Parameter PostingGroup2 in function AdjExchRateBufferUpdate: extended to C20
+      OS007     09.05.2011    os.jgl  SITC    Code cleanup, new documentation layout
+                                              Renumbered into the SITC numbers range
+      OS009     16.06.2011    os.jgl  SITC    Bugfix: InsertExchRateAdjmtReg() - increased PostingGrCode to C20
+      OS010     23.08.2011    os.jgl  SITC    Bugfix: A G/L Account which is to be adjusted can have Posting Groups. Those need
+                                              to be ignored for an adjustment.
+                                              Safer handling for PostAdjmt: To avoid having to deal with VAT posting setups on
+                                              Gain/Loss accounts, don't validate the G/L account.
+      OS011     02.03.2013    os.jgl  SITC    Structural change for improved layout: Handle Bank and G/L accounts separately
+                                              Minor bug fixes
+      OS012     02.03.2012    os.jgl  SITC    Merge into NAV2013
+      OS013     27.09.2014    os.jgl  SITC    Version for NAV2013R2
+      PX014     12.01.2016    px.jgl  SITC    Additional handling of currency adjustment on G/L and Bank accounts for mixed currencies
+      PX015     14.01.2016    px.jgl  SITC    Standard bug in bank account adjustments - TempEntryNoAmountBuf can have the same entry no. multiple times
+      MBK16     30.08.2017    px.jgl  P4TA    New Feature: Adjust G/L and Bank accounts by all or selected dimensions
+                                                           Gain/loss postings inherit dimensions from G/L accounts
+      MBK17     04.09.2017    px.jgl  P4TA    Performance measure: collect G/L and bank sums by Dimension Set ID to avoid running through all posted entries
+      MBK18     04.09.2017    px.jgl  P4TA    Add dimension string to PostAdjmt(), change dependencies accordingly, create DimValString at these locations
+      PX019     11.10.2017    px.jgl  P4TC    Write the adjusted currency factor back to the G/L entries
+      PX020     05.03.2018    px.jgl  P4TC    PostAdjmt(): No validation of the Account No., currency code (and posting groups) of the G/L account will be
+                                              ignored. This is better than getting consistency errors.
+      PX021     08.04.2018    px.jgl  P4TC    Update to base NAV2018 NAVW111.00,NAVDACH11.00 (R595)
+      PX022     03.08.2018    px.jgl  P4TC    Update to base NAV2018 NAVW111.00.00.20348,NAVDACH11.00.00.20348 (R595)
+    }
+    END.
+  }
+  RDLDATA
+  {
+    <?xml version="1.0" encoding="utf-8"?>
+<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2016/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
+  <AutoRefresh>0</AutoRefresh>
+  <DataSources>
+    <DataSource Name="DataSource">
+      <ConnectionProperties>
+        <DataProvider>SQL</DataProvider>
+        <ConnectString />
+      </ConnectionProperties>
+      <rd:SecurityType>None</rd:SecurityType>
+      <rd:DataSourceID>bb047406-10a2-42e0-b9e1-24aa801a9a41</rd:DataSourceID>
+    </DataSource>
+  </DataSources>
+  <DataSets>
+    <DataSet Name="DataSet_Result">
+      <Query>
+        <DataSourceName>DataSource</DataSourceName>
+        <CommandText />
+      </Query>
+      <Fields>
+        <Field Name="CompanyName">
+          <DataField>CompanyName</DataField>
+        </Field>
+        <Field Name="IntegerNumber">
+          <DataField>IntegerNumber</DataField>
+        </Field>
+        <Field Name="PageCaption">
+          <DataField>PageCaption</DataField>
+        </Field>
+        <Field Name="AdjustExchRatesCaption">
+          <DataField>AdjustExchRatesCaption</DataField>
+        </Field>
+        <Field Name="BalanceAfterAdjustCaption">
+          <DataField>BalanceAfterAdjustCaption</DataField>
+        </Field>
+        <Field Name="AdjBaseLCYCaption">
+          <DataField>AdjBaseLCYCaption</DataField>
+        </Field>
+        <Field Name="BalanceAtDateCaption">
+          <DataField>BalanceAtDateCaption</DataField>
+        </Field>
+        <Field Name="Code_Currency">
+          <DataField>Code_Currency</DataField>
+        </Field>
+        <Field Name="BankAccountsCaption">
+          <DataField>BankAccountsCaption</DataField>
+        </Field>
+        <Field Name="No_BankAcc">
+          <DataField>No_BankAcc</DataField>
+        </Field>
+        <Field Name="CurrCode_BankAcc">
+          <DataField>CurrCode_BankAcc</DataField>
+        </Field>
+        <Field Name="BalanceatDate_BankAcc">
+          <DataField>BalanceatDate_BankAcc</DataField>
+        </Field>
+        <Field Name="BalanceatDate_BankAccFormat">
+          <DataField>BalanceatDate_BankAccFormat</DataField>
+        </Field>
+        <Field Name="AdjBaseLCY">
+          <DataField>AdjBaseLCY</DataField>
+        </Field>
+        <Field Name="AdjBaseLCYFormat">
+          <DataField>AdjBaseLCYFormat</DataField>
+        </Field>
+        <Field Name="AdjAmount">
+          <DataField>AdjAmount</DataField>
+        </Field>
+        <Field Name="AdjAmountFormat">
+          <DataField>AdjAmountFormat</DataField>
+        </Field>
+        <Field Name="AdjBaseLCYAdjAmt">
+          <DataField>AdjBaseLCYAdjAmt</DataField>
+        </Field>
+        <Field Name="AdjBaseLCYAdjAmtFormat">
+          <DataField>AdjBaseLCYAdjAmtFormat</DataField>
+        </Field>
+        <Field Name="RelationalCurrCode">
+          <DataField>RelationalCurrCode</DataField>
+        </Field>
+        <Field Name="AdjustmentExchRateAmt">
+          <DataField>AdjustmentExchRateAmt</DataField>
+        </Field>
+        <Field Name="AdjustmentExchRateAmtFormat">
+          <DataField>AdjustmentExchRateAmtFormat</DataField>
+        </Field>
+        <Field Name="RelationalAdjmtExchRateAmt">
+          <DataField>RelationalAdjmtExchRateAmt</DataField>
+        </Field>
+        <Field Name="RelationalAdjmtExchRateAmtFormat">
+          <DataField>RelationalAdjmtExchRateAmtFormat</DataField>
+        </Field>
+        <Field Name="ColumnDim_Bank">
+          <DataField>ColumnDim_Bank</DataField>
+        </Field>
+        <Field Name="DimValString_Bank">
+          <DataField>DimValString_Bank</DataField>
+        </Field>
+        <Field Name="Code_GLCurrency">
+          <DataField>Code_GLCurrency</DataField>
+        </Field>
+        <Field Name="GLAccFCYCaption">
+          <DataField>GLAccFCYCaption</DataField>
+        </Field>
+        <Field Name="No_GLAccFCY">
+          <DataField>No_GLAccFCY</DataField>
+        </Field>
+        <Field Name="CurrencyCode_GLAccFCY">
+          <DataField>CurrencyCode_GLAccFCY</DataField>
+        </Field>
+        <Field Name="BalanceatDateFCY_GLAccFCY">
+          <DataField>BalanceatDateFCY_GLAccFCY</DataField>
+        </Field>
+        <Field Name="BalanceatDateFCY_GLAccFCYFormat">
+          <DataField>BalanceatDateFCY_GLAccFCYFormat</DataField>
+        </Field>
+        <Field Name="AdjBaseLCY_GLAccFCY">
+          <DataField>AdjBaseLCY_GLAccFCY</DataField>
+        </Field>
+        <Field Name="AdjBaseLCY_GLAccFCYFormat">
+          <DataField>AdjBaseLCY_GLAccFCYFormat</DataField>
+        </Field>
+        <Field Name="AdjAmount_GLAccFCY">
+          <DataField>AdjAmount_GLAccFCY</DataField>
+        </Field>
+        <Field Name="AdjAmount_GLAccFCYFormat">
+          <DataField>AdjAmount_GLAccFCYFormat</DataField>
+        </Field>
+        <Field Name="AdjBaseLCYAdjAmt_GLAccFCY">
+          <DataField>AdjBaseLCYAdjAmt_GLAccFCY</DataField>
+        </Field>
+        <Field Name="AdjBaseLCYAdjAmt_GLAccFCYFormat">
+          <DataField>AdjBaseLCYAdjAmt_GLAccFCYFormat</DataField>
+        </Field>
+        <Field Name="RelationalCurrCode_GLAccFCY">
+          <DataField>RelationalCurrCode_GLAccFCY</DataField>
+        </Field>
+        <Field Name="AdjustmentExchRateAmt_GLAccFCY">
+          <DataField>AdjustmentExchRateAmt_GLAccFCY</DataField>
+        </Field>
+        <Field Name="AdjustmentExchRateAmt_GLAccFCYFormat">
+          <DataField>AdjustmentExchRateAmt_GLAccFCYFormat</DataField>
+        </Field>
+        <Field Name="RelationalAdjmtExchRateAmt_GLAccFCY">
+          <DataField>RelationalAdjmtExchRateAmt_GLAccFCY</DataField>
+        </Field>
+        <Field Name="RelationalAdjmtExchRateAmt_GLAccFCYFormat">
+          <DataField>RelationalAdjmtExchRateAmt_GLAccFCYFormat</DataField>
+        </Field>
+        <Field Name="ColumnDim_GLAccFCY">
+          <DataField>ColumnDim_GLAccFCY</DataField>
+        </Field>
+        <Field Name="DimValString_GLAccFCY">
+          <DataField>DimValString_GLAccFCY</DataField>
+        </Field>
+        <Field Name="No_Cust">
+          <DataField>No_Cust</DataField>
+        </Field>
+        <Field Name="CustomerLedgerEntriesCaption">
+          <DataField>CustomerLedgerEntriesCaption</DataField>
+        </Field>
+        <Field Name="CustomerNoCaption">
+          <DataField>CustomerNoCaption</DataField>
+        </Field>
+        <Field Name="AdjAmt">
+          <DataField>AdjAmt</DataField>
+        </Field>
+        <Field Name="AdjAmtFormat">
+          <DataField>AdjAmtFormat</DataField>
+        </Field>
+        <Field Name="RemainingAmtLCY_CustLedgEntry">
+          <DataField>RemainingAmtLCY_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="RemainingAmtLCY_CustLedgEntryFormat">
+          <DataField>RemainingAmtLCY_CustLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="OriginalAmtLCY_CustLedgEntry">
+          <DataField>OriginalAmtLCY_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="OriginalAmtLCY_CustLedgEntryFormat">
+          <DataField>OriginalAmtLCY_CustLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="RemainingAmt_CustLedgEntry">
+          <DataField>RemainingAmt_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="RemainingAmt_CustLedgEntryFormat">
+          <DataField>RemainingAmt_CustLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="Amt_CustLedgEntry">
+          <DataField>Amt_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="Amt_CustLedgEntryFormat">
+          <DataField>Amt_CustLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="CurrCode_CustLedgEntry">
+          <DataField>CurrCode_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="DocNo_CustLedgEntry">
+          <DataField>DocNo_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="PostingDate_CustLedgEntry">
+          <DataField>PostingDate_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="DocType_CustLedgEntry">
+          <DataField>DocType_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="EntryNo_CustLedgEntry">
+          <DataField>EntryNo_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="CurrencyCode">
+          <DataField>CurrencyCode</DataField>
+        </Field>
+        <Field Name="ExchRateAmt">
+          <DataField>ExchRateAmt</DataField>
+        </Field>
+        <Field Name="ExchRateAmtFormat">
+          <DataField>ExchRateAmtFormat</DataField>
+        </Field>
+        <Field Name="AdjmtExchRateAmt">
+          <DataField>AdjmtExchRateAmt</DataField>
+        </Field>
+        <Field Name="AdjmtExchRateAmtFormat">
+          <DataField>AdjmtExchRateAmtFormat</DataField>
+        </Field>
+        <Field Name="DueDate_CustLedgEntry">
+          <DataField>DueDate_CustLedgEntry</DataField>
+        </Field>
+        <Field Name="No_Vend">
+          <DataField>No_Vend</DataField>
+        </Field>
+        <Field Name="VendorLedgerEntriesCaption">
+          <DataField>VendorLedgerEntriesCaption</DataField>
+        </Field>
+        <Field Name="VendorNoCaption">
+          <DataField>VendorNoCaption</DataField>
+        </Field>
+        <Field Name="VendLedgEntryAdjAmt">
+          <DataField>VendLedgEntryAdjAmt</DataField>
+        </Field>
+        <Field Name="VendLedgEntryAdjAmtFormat">
+          <DataField>VendLedgEntryAdjAmtFormat</DataField>
+        </Field>
+        <Field Name="RemainingAmtLCY_VendLedgEntry">
+          <DataField>RemainingAmtLCY_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="RemainingAmtLCY_VendLedgEntryFormat">
+          <DataField>RemainingAmtLCY_VendLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="OriginalAmtLCY_VendLedgEntry">
+          <DataField>OriginalAmtLCY_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="OriginalAmtLCY_VendLedgEntryFormat">
+          <DataField>OriginalAmtLCY_VendLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="RemainingAmt_VendLedgEntry">
+          <DataField>RemainingAmt_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="RemainingAmt_VendLedgEntryFormat">
+          <DataField>RemainingAmt_VendLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="Amt_VendLedgEntry">
+          <DataField>Amt_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="Amt_VendLedgEntryFormat">
+          <DataField>Amt_VendLedgEntryFormat</DataField>
+        </Field>
+        <Field Name="CurrCode_VendLedgEntry">
+          <DataField>CurrCode_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="DocNo_VendLedgEntry">
+          <DataField>DocNo_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="DocumentType_VendLedgEntry">
+          <DataField>DocumentType_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="PostingDate_VendLedgEntry">
+          <DataField>PostingDate_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="EntryNo_VendLedgEntry">
+          <DataField>EntryNo_VendLedgEntry</DataField>
+        </Field>
+        <Field Name="VendLedgEntryCurrCode">
+          <DataField>VendLedgEntryCurrCode</DataField>
+        </Field>
+        <Field Name="VendLedgEntryExchRateAmt">
+          <DataField>VendLedgEntryExchRateAmt</DataField>
+        </Field>
+        <Field Name="VendLedgEntryExchRateAmtFormat">
+          <DataField>VendLedgEntryExchRateAmtFormat</DataField>
+        </Field>
+        <Field Name="AdjustmenttExchRateAmt">
+          <DataField>AdjustmenttExchRateAmt</DataField>
+        </Field>
+        <Field Name="AdjustmenttExchRateAmtFormat">
+          <DataField>AdjustmenttExchRateAmtFormat</DataField>
+        </Field>
+        <Field Name="DueDate_VendLedgEntry">
+          <DataField>DueDate_VendLedgEntry</DataField>
+        </Field>
+      </Fields>
+      <rd:DataSetInfo>
+        <rd:DataSetName>DataSet</rd:DataSetName>
+        <rd:SchemaPath>Report.xsd</rd:SchemaPath>
+        <rd:TableName>Result</rd:TableName>
+      </rd:DataSetInfo>
+    </DataSet>
+  </DataSets>
+  <ReportSections>
+    <ReportSection>
+      <Body>
+        <ReportItems>
+          <Tablix Name="list1">
+            <TablixBody>
+              <TablixColumns>
+                <TablixColumn>
+                  <Width>27.35cm</Width>
+                </TablixColumn>
+              </TablixColumns>
+              <TablixRows>
+                <TablixRow>
+                  <Height>8.17115cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Rectangle Name="list1_Contents">
+                          <ReportItems>
+                            <Tablix Name="BankAccTable">
+                              <TablixBody>
+                                <TablixColumns>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>0.75415in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                </TablixColumns>
+                                <TablixRows>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox63">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!BankAccountsCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>20</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>2</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox65">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style />
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>19</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>8</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox76">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!No_BankAccCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>18</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox77">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!Code_CurrencyCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>17</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox78">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!BalanceAtDateCaption.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>16</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox1">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!ColumnDim_Bank.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox1</rd:DefaultName>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox79">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!AdjBaseLCYCaption.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>15</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox80">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjAmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>14</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox81">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!BalanceAfterAdjustCaption.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>13</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox82">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelationalCurrencyCodeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>12</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox83">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjustmentExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>11</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox84">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelAdjmtExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>10</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox21">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox21</rd:DefaultName>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <BottomBorder>
+                                                <Style>Solid</Style>
+                                              </BottomBorder>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox6">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox6</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox37">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!No_BankAcc.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>8</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox38">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!Code_Currency.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>7</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox39">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!BalanceatDate_BankAcc.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!BalanceatDate_BankAccFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>6</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="DimValString_Bank">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DimValString_Bank.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>DimValString_Bank</rd:DefaultName>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox40">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjBaseLCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjBaseLCYFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>5</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox412">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjAmount.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjAmountFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>4</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox42">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjBaseLCYAdjAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjBaseLCYAdjAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>3</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox43">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RelationalCurrCode.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>2</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox44">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjustmentExchRateAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjustmentExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>1</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox45">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RelationalAdjmtExchRateAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!RelationalAdjmtExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox19">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox19</rd:DefaultName>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <TopBorder>
+                                                <Color>="#CCCCCC"</Color>
+                                                <Style>Solid</Style>
+                                              </TopBorder>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                </TablixRows>
+                              </TablixBody>
+                              <TablixColumnHierarchy>
+                                <TablixMembers>
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                </TablixMembers>
+                              </TablixColumnHierarchy>
+                              <TablixRowHierarchy>
+                                <TablixMembers>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Group Name="Table1_Details_Group">
+                                      <DataElementName>Detail</DataElementName>
+                                    </Group>
+                                    <TablixMembers>
+                                      <TablixMember>
+                                        <Visibility>
+                                          <Hidden>=IIF((Fields!CurrCode_BankAcc.Value &lt;&gt; "") or
+ (Fields!BalanceatDate_BankAcc.Value &lt;&gt; 0) or
+ (Fields!AdjAmount.Value &lt;&gt; 0),False,True)</Hidden>
+                                        </Visibility>
+                                      </TablixMember>
+                                      <TablixMember />
+                                    </TablixMembers>
+                                    <DataElementName>Detail_Collection</DataElementName>
+                                    <DataElementOutput>Output</DataElementOutput>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                </TablixMembers>
+                              </TablixRowHierarchy>
+                              <DataSetName>DataSet_Result</DataSetName>
+                              <Filters>
+                                <Filter>
+                                  <FilterExpression>=IsNothing(Fields!BankAccountsCaption.Value)</FilterExpression>
+                                  <Operator>Equal</Operator>
+                                  <FilterValues>
+                                    <FilterValue>=False</FilterValue>
+                                  </FilterValues>
+                                </Filter>
+                              </Filters>
+                              <Top>0.00436in</Top>
+                              <Left>0.00002cm</Left>
+                              <Height>1.76388cm</Height>
+                              <Width>10.76771in</Width>
+                              <Visibility>
+                                <Hidden>=IIF(Fields!BankAccountsCaption.Value&lt;&gt;"",False,True)</Hidden>
+                              </Visibility>
+                              <Style />
+                            </Tablix>
+                            <Tablix Name="CustLedgTable">
+                              <TablixBody>
+                                <TablixColumns>
+                                  <TablixColumn>
+                                    <Width>1.66965cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.89431cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.09827cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.89825cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.28167cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.99667cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19825cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19825cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19827cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19827cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.72874cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.18781cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.03035cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.77125cm</Width>
+                                  </TablixColumn>
+                                </TablixColumns>
+                                <TablixRows>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox75">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!CustomerLedgerEntriesCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>38</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>3</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox151">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style />
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox151</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>11</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox97">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!EntryNoCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>35</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox98">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!PostingDateCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>34</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox99">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!DocumentTypeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>33</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox100">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!DocumentNoCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>32</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox1011">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!CurrencyCodeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>31</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox102">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>30</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox103">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RemainingAmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>29</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox104">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!OriginalAmtLCYCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>28</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox105">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RemainingAmtLCYCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>27</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox106">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjAmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>26</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox107">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelationalCurrencyCodeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>25</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox108">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjustmentExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>24</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox109">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelAdjmtExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>23</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox1140088">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!DueDateCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>22</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox3">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox3</rd:DefaultName>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <BottomBorder>
+                                                <Style>Solid</Style>
+                                              </BottomBorder>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>14</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox31">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox31</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>14</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox25">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!CustomerNoCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>21</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>2</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox33">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!No_Cust.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox33</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>2</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox34">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style />
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox34</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox47">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!EntryNo_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>17</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox48">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!PostingDate_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>16</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox49">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DocType_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>15</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox50">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DocNo_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>14</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox51">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!CurrCode_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>13</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox52">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!Amt_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!Amt_CustLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>12</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox53">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RemainingAmt_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!RemainingAmt_CustLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>11</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox54">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!OriginalAmtLCY_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!OriginalAmtLCY_VendLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>10</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox55">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RemainingAmtLCY_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!RemainingAmtLCY_CustLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>9</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox56">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>8</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox57">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!CurrencyCode.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>7</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox58">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!ExchRateAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!ExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>6</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox59">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjmtExchRateAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjmtExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>5</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox1140087">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DueDate_CustLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjmtExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>4</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox60">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>1</ZIndex>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <TopBorder>
+                                                <Color>="#CCCCCC"</Color>
+                                                <Style>Solid</Style>
+                                              </TopBorder>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>14</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                </TablixRows>
+                              </TablixBody>
+                              <TablixColumnHierarchy>
+                                <TablixMembers>
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                </TablixMembers>
+                              </TablixColumnHierarchy>
+                              <TablixRowHierarchy>
+                                <TablixMembers>
+                                  <TablixMember>
+                                    <Visibility>
+                                      <Hidden>=IIF(Fields!CustomerLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                    </Visibility>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Visibility>
+                                      <Hidden>=IIF(Fields!CustomerLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                    </Visibility>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Visibility>
+                                      <Hidden>=IIF(Fields!CustomerLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                    </Visibility>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Group Name="Table2_Group1">
+                                      <GroupExpressions>
+                                        <GroupExpression>=Fields!No_Cust.Value</GroupExpression>
+                                      </GroupExpressions>
+                                    </Group>
+                                    <TablixMembers>
+                                      <TablixMember>
+                                        <Visibility>
+                                          <Hidden>=IIF(Fields!CustomerLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                        </Visibility>
+                                        <KeepWithGroup>After</KeepWithGroup>
+                                        <KeepTogether>true</KeepTogether>
+                                      </TablixMember>
+                                      <TablixMember>
+                                        <Group Name="Table2_Details_Group">
+                                          <DataElementName>Detail</DataElementName>
+                                        </Group>
+                                        <TablixMembers>
+                                          <TablixMember>
+                                            <Visibility>
+                                              <Hidden>=IIF(Fields!CustomerLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                            </Visibility>
+                                          </TablixMember>
+                                          <TablixMember>
+                                            <Visibility>
+                                              <Hidden>=IIF(Fields!CustomerLedgerEntriesCaption.Value&lt;&gt;"" and RowNumber("Table2_Group1") = CountRows("Table2_Group1"), false, true)</Hidden>
+                                            </Visibility>
+                                          </TablixMember>
+                                        </TablixMembers>
+                                        <DataElementName>Detail_Collection</DataElementName>
+                                        <DataElementOutput>Output</DataElementOutput>
+                                        <KeepTogether>true</KeepTogether>
+                                      </TablixMember>
+                                    </TablixMembers>
+                                  </TablixMember>
+                                </TablixMembers>
+                              </TablixRowHierarchy>
+                              <DataSetName>DataSet_Result</DataSetName>
+                              <Filters>
+                                <Filter>
+                                  <FilterExpression>=IsNothing(Fields!CustomerLedgerEntriesCaption.Value)</FilterExpression>
+                                  <Operator>Equal</Operator>
+                                  <FilterValues>
+                                    <FilterValue>=False</FilterValue>
+                                  </FilterValues>
+                                </Filter>
+                              </Filters>
+                              <Top>1.48673in</Top>
+                              <Height>2.11666cm</Height>
+                              <Width>27.35001cm</Width>
+                              <ZIndex>1</ZIndex>
+                              <Style />
+                            </Tablix>
+                            <Tablix Name="GLAccFCYTable">
+                              <TablixBody>
+                                <TablixColumns>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.18575in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>0.75416in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.06764in</Width>
+                                  </TablixColumn>
+                                </TablixColumns>
+                                <TablixRows>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox64">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!GLAccFCYCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>20</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>2</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox66">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style />
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>19</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>8</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox85">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!No_GLAccFCYCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>18</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox86">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!Code_GLCurrencyCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>17</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox87">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!BalanceAtDateCaption.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>16</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox5">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!ColumnDim_GLAccFCY.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox5</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox88">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!AdjBaseLCYCaption.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>15</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox89">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjAmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>14</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox90">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=First(Fields!BalanceAfterAdjustCaption.Value)</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>13</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox91">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelationalCurrencyCodeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>12</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox92">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjustmentExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>11</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox93">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelAdjmtExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>10</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox22">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox21</rd:DefaultName>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <BottomBorder>
+                                                <Style>Solid</Style>
+                                              </BottomBorder>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox7">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox6</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox41">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!No_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>8</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox46">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!Code_GLCurrency.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>7</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox61">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!BalanceatDateFCY_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!BalanceatDateFCY_GLAccFCYFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>6</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="DimValString_GLAccFCY">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DimValString_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>DimValString_GLAccFCY</rd:DefaultName>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox62">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjBaseLCY_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjBaseLCY_GLAccFCYFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>5</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox413">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjAmount_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjAmount_GLAccFCYFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>4</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox67">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjBaseLCYAdjAmt_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjBaseLCYAdjAmt_GLAccFCYFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>3</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox68">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RelationalCurrCode_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>2</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox69">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjustmentExchRateAmt_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjustmentExchRateAmt_GLAccFCYFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>1</ZIndex>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox70">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RelationalAdjmtExchRateAmt_GLAccFCY.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!RelationalAdjmtExchRateAmt_GLAccFCYFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <Style>
+                                              <Border />
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox20">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox19</rd:DefaultName>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <TopBorder>
+                                                <Color>="#CCCCCC"</Color>
+                                                <Style>Solid</Style>
+                                              </TopBorder>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                </TablixRows>
+                              </TablixBody>
+                              <TablixColumnHierarchy>
+                                <TablixMembers>
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                </TablixMembers>
+                              </TablixColumnHierarchy>
+                              <TablixRowHierarchy>
+                                <TablixMembers>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Group Name="Table1_Details_Group2">
+                                      <DataElementName>Detail</DataElementName>
+                                    </Group>
+                                    <TablixMembers>
+                                      <TablixMember>
+                                        <Visibility>
+                                          <Hidden>=IIF((Fields!CurrencyCode_GLAccFCY.Value &lt;&gt; "") or
+ (Fields!BalanceatDateFCY_GLAccFCY.Value &lt;&gt; 0) or
+ (Fields!AdjAmount_GLAccFCY.Value &lt;&gt; 0),False,True)</Hidden>
+                                        </Visibility>
+                                      </TablixMember>
+                                      <TablixMember />
+                                    </TablixMembers>
+                                    <DataElementName>Detail_Collection</DataElementName>
+                                    <DataElementOutput>Output</DataElementOutput>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                </TablixMembers>
+                              </TablixRowHierarchy>
+                              <DataSetName>DataSet_Result</DataSetName>
+                              <Filters>
+                                <Filter>
+                                  <FilterExpression>=IsNothing(Fields!GLAccFCYCaption.Value)</FilterExpression>
+                                  <Operator>Equal</Operator>
+                                  <FilterValues>
+                                    <FilterValue>=False</FilterValue>
+                                  </FilterValues>
+                                </Filter>
+                              </Filters>
+                              <Top>0.74565in</Top>
+                              <Height>1.76388cm</Height>
+                              <Width>10.76772in</Width>
+                              <ZIndex>2</ZIndex>
+                              <Visibility>
+                                <Hidden>=IIF(Fields!GLAccFCYCaption.Value&lt;&gt;"",False,True)</Hidden>
+                              </Visibility>
+                              <Style />
+                            </Tablix>
+                            <Tablix Name="VendLedgTable">
+                              <TablixBody>
+                                <TablixColumns>
+                                  <TablixColumn>
+                                    <Width>1.66965cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.89431cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.09827cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.89825cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.28167cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.99667cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19825cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19825cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19827cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.19827cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.72874cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.18781cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>2.03035cm</Width>
+                                  </TablixColumn>
+                                  <TablixColumn>
+                                    <Width>1.77125cm</Width>
+                                  </TablixColumn>
+                                </TablixColumns>
+                                <TablixRows>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntriesCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!VendorLedgerEntriesCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>36</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>3</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox131">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style />
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox131</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>11</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryEntryNoCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!EntryNoCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>33</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryPostingDateCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!PostingDateCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>32</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryDocumentTypeCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!DocumentTypeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>31</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryDocumentNoCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!DocumentNoCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>30</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryCurrencyCodeCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!CurrencyCodeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>29</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryAmountCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>28</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryRemainingAmountCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RemainingAmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>27</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryOriginalAmtLCYCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!OriginalAmtLCYCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>26</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryRemainingAmtLCYCaption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RemainingAmtLCYCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>25</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="AdjAmountControl1140071Caption">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjAmountCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>24</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="CurrExchRate3RelationalCurrencyCodeControl1140081Caption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelationalCurrencyCodeCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>23</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="CurrExchRate3AdjustmentExchRateAmountControl1140082Caption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!AdjustmentExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>22</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="CurrExchRate3RelationalAdjmtExchRateAmt1140083Caption">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!RelAdjmtExchRateAmtCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>21</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox1140090">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Parameters!DueDateCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>20</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox69">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox69</rd:DefaultName>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <BottomBorder>
+                                                <Style>Solid</Style>
+                                              </BottomBorder>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>14</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.17638cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox94">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox94</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>14</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorNoCaption">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!VendorNoCaption.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <FontWeight>Bold</FontWeight>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>19</ZIndex>
+                                            <Style>
+                                              <VerticalAlign>Bottom</VerticalAlign>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>2</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox70">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!No_Vend.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox70</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>2</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="Textbox71">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style />
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>Textbox71</rd:DefaultName>
+                                            <Style>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>10</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryEntryNo">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!EntryNo_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>15</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryPostingDate">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!PostingDate_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>14</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryDocumentType">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DocumentType_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>13</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryDocumentNo">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DocNo_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>12</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryCurrencyCode">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!CurrCode_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>11</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryAmount">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!Amt_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!Amt_VendLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>10</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryRemainingAmount">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RemainingAmt_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!RemainingAmt_VendLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>9</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryOriginalAmtLCY">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!OriginalAmtLCY_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!OriginalAmtLCY_VendLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>8</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="VendorLedgerEntryRemainingAmtLCY">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!RemainingAmtLCY_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!RemainingAmtLCY_VendLedgEntryFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>7</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="AdjAmountControl1140071">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!VendLedgEntryAdjAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!VendLedgEntryAdjAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Right</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>6</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="CurrExchRate3RelationalCurrencyCodeControl1140081">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!VendLedgEntryCurrCode.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>5</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                              <PaddingRight>5pt</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="CurrExchRate3AdjustmentExchRateAmountControl1140082">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!VendLedgEntryExchRateAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!VendLedgEntryExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>4</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="CurrExchRate3RelationalAdjmtExchRateAmt1140083">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!AdjustmenttExchRateAmt.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjustmenttExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>3</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox1140089">
+                                            <CanGrow>true</CanGrow>
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto">=Fields!DueDate_VendLedgEntry.Value</Value>
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                      <Format>=Fields!AdjustmenttExchRateAmtFormat.Value</Format>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style>
+                                                  <TextAlign>Left</TextAlign>
+                                                </Style>
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <ZIndex>2</ZIndex>
+                                            <Style>
+                                              <BackgroundColor>="#EFEFEF"</BackgroundColor>
+                                              <VerticalAlign>Top</VerticalAlign>
+                                              <PaddingLeft>5pt</PaddingLeft>
+                                            </Style>
+                                          </Textbox>
+                                        </CellContents>
+                                      </TablixCell>
+                                    </TablixCells>
+                                  </TablixRow>
+                                  <TablixRow>
+                                    <Height>0.35278cm</Height>
+                                    <TablixCells>
+                                      <TablixCell>
+                                        <CellContents>
+                                          <Textbox Name="textbox2">
+                                            <KeepTogether>true</KeepTogether>
+                                            <Paragraphs>
+                                              <Paragraph>
+                                                <TextRuns>
+                                                  <TextRun>
+                                                    <Value EvaluationMode="Auto" />
+                                                    <Style>
+                                                      <FontStyle>Normal</FontStyle>
+                                                      <FontFamily>Segoe UI</FontFamily>
+                                                      <FontSize>8pt</FontSize>
+                                                    </Style>
+                                                  </TextRun>
+                                                </TextRuns>
+                                                <Style />
+                                              </Paragraph>
+                                            </Paragraphs>
+                                            <rd:DefaultName>textbox2</rd:DefaultName>
+                                            <ZIndex>1</ZIndex>
+                                            <Style>
+                                              <Border>
+                                                <Style>None</Style>
+                                              </Border>
+                                              <TopBorder>
+                                                <Color>="#CCCCCC"</Color>
+                                                <Style>Solid</Style>
+                                              </TopBorder>
+                                              <VerticalAlign>Middle</VerticalAlign>
+                                              <PaddingRight>0.0625in</PaddingRight>
+                                            </Style>
+                                          </Textbox>
+                                          <ColSpan>14</ColSpan>
+                                        </CellContents>
+                                      </TablixCell>
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                      <TablixCell />
+                                    </TablixCells>
+                                  </TablixRow>
+                                </TablixRows>
+                              </TablixBody>
+                              <TablixColumnHierarchy>
+                                <TablixMembers>
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                  <TablixMember />
+                                </TablixMembers>
+                              </TablixColumnHierarchy>
+                              <TablixRowHierarchy>
+                                <TablixMembers>
+                                  <TablixMember>
+                                    <Visibility>
+                                      <Hidden>=IIF(Fields!VendorLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                    </Visibility>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Visibility>
+                                      <Hidden>=IIF(Fields!VendorLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                    </Visibility>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                    <KeepTogether>true</KeepTogether>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Visibility>
+                                      <Hidden>=IIF(Fields!VendorLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                    </Visibility>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <KeepWithGroup>After</KeepWithGroup>
+                                    <RepeatOnNewPage>true</RepeatOnNewPage>
+                                  </TablixMember>
+                                  <TablixMember>
+                                    <Group Name="Table3_Group1">
+                                      <GroupExpressions>
+                                        <GroupExpression>=Fields!No_Vend.Value</GroupExpression>
+                                      </GroupExpressions>
+                                    </Group>
+                                    <TablixMembers>
+                                      <TablixMember>
+                                        <Visibility>
+                                          <Hidden>=IIF(Fields!VendorLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                        </Visibility>
+                                        <KeepWithGroup>After</KeepWithGroup>
+                                        <KeepTogether>true</KeepTogether>
+                                      </TablixMember>
+                                      <TablixMember>
+                                        <Group Name="Table3_Details_Group">
+                                          <DataElementName>Detail</DataElementName>
+                                        </Group>
+                                        <TablixMembers>
+                                          <TablixMember>
+                                            <Visibility>
+                                              <Hidden>=IIF(Fields!VendorLedgerEntriesCaption.Value&lt;&gt;"",False,True)</Hidden>
+                                            </Visibility>
+                                          </TablixMember>
+                                          <TablixMember>
+                                            <Visibility>
+                                              <Hidden>=IIF(Fields!VendorLedgerEntriesCaption.Value&lt;&gt;"" and RowNumber("Table3_Group1") = CountRows("Table3_Group1"), false, true)</Hidden>
+                                            </Visibility>
+                                          </TablixMember>
+                                        </TablixMembers>
+                                        <DataElementName>Detail_Collection</DataElementName>
+                                        <DataElementOutput>Output</DataElementOutput>
+                                        <KeepTogether>true</KeepTogether>
+                                      </TablixMember>
+                                    </TablixMembers>
+                                  </TablixMember>
+                                </TablixMembers>
+                              </TablixRowHierarchy>
+                              <DataSetName>DataSet_Result</DataSetName>
+                              <Filters>
+                                <Filter>
+                                  <FilterExpression>=IsNothing(Fields!VendorLedgerEntriesCaption.Value)</FilterExpression>
+                                  <Operator>Equal</Operator>
+                                  <FilterValues>
+                                    <FilterValue>=False</FilterValue>
+                                  </FilterValues>
+                                </Filter>
+                              </Filters>
+                              <Top>2.36102in</Top>
+                              <Height>2.11666cm</Height>
+                              <Width>27.35001cm</Width>
+                              <ZIndex>3</ZIndex>
+                              <Style />
+                            </Tablix>
+                          </ReportItems>
+                          <KeepTogether>true</KeepTogether>
+                          <Style>
+                            <Border />
+                          </Style>
+                        </Rectangle>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+              </TablixRows>
+            </TablixBody>
+            <TablixColumnHierarchy>
+              <TablixMembers>
+                <TablixMember />
+              </TablixMembers>
+            </TablixColumnHierarchy>
+            <TablixRowHierarchy>
+              <TablixMembers>
+                <TablixMember>
+                  <Group Name="list1_Details_Group">
+                    <GroupExpressions>
+                      <GroupExpression>=Fields!IntegerNumber.Value</GroupExpression>
+                    </GroupExpressions>
+                  </Group>
+                  <DataElementOutput>Output</DataElementOutput>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+              </TablixMembers>
+            </TablixRowHierarchy>
+            <DataSetName>DataSet_Result</DataSetName>
+            <Height>8.17115cm</Height>
+            <Width>27.35cm</Width>
+            <Style />
+          </Tablix>
+        </ReportItems>
+        <Height>8.17115cm</Height>
+        <Style />
+      </Body>
+      <Width>27.35001cm</Width>
+      <Page>
+        <PageHeader>
+          <Height>2.30577cm</Height>
+          <PrintOnFirstPage>true</PrintOnFirstPage>
+          <PrintOnLastPage>true</PrintOnLastPage>
+          <ReportItems>
+            <Textbox Name="AdjExcgRatesCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=First(Fields!AdjustExchRatesCaption.Value, "DataSet_Result")</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>14pt</FontSize>
+                        <FontWeight>Bold</FontWeight>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Height>20pt</Height>
+              <Width>360pt</Width>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="CurrReportPAGENOCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=First(Fields!PageCaption.Value, "DataSet_Result") &amp;" "&amp; Globals!PageNumber</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.423cm</Top>
+              <Left>22.88223cm</Left>
+              <Height>10pt</Height>
+              <Width>4.46776cm</Width>
+              <ZIndex>1</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="CompanyName1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Fields!CompanyName.Value</Value>
+                      <Style>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                        <FontWeight>Normal</FontWeight>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.74403cm</Top>
+              <Height>10pt</Height>
+              <Width>360pt</Width>
+              <ZIndex>2</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="ExecutionTimeTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Globals!ExecutionTime</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                        <Format>D</Format>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Left>22.88223cm</Left>
+              <Height>10pt</Height>
+              <Width>4.46777cm</Width>
+              <ZIndex>3</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="UserIdTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=User!UserID</Value>
+                      <Style>
+                        <FontStyle>Normal</FontStyle>
+                        <FontFamily>Segoe UI</FontFamily>
+                        <FontSize>8pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.77578cm</Top>
+              <Left>22.88223cm</Left>
+              <Height>10pt</Height>
+              <Width>4.46777cm</Width>
+              <ZIndex>4</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+          </ReportItems>
+          <Style />
+        </PageHeader>
+        <PageHeight>21cm</PageHeight>
+        <PageWidth>29.7cm</PageWidth>
+        <InteractiveHeight>21cm</InteractiveHeight>
+        <InteractiveWidth>29.7cm</InteractiveWidth>
+        <LeftMargin>1.05834cm</LeftMargin>
+        <RightMargin>1.05834cm</RightMargin>
+        <TopMargin>1.48166cm</TopMargin>
+        <BottomMargin>1.05834cm</BottomMargin>
+        <ColumnSpacing>1.27cm</ColumnSpacing>
+        <Style />
+      </Page>
+    </ReportSection>
+  </ReportSections>
+  <ReportParameters>
+    <ReportParameter Name="Code_CurrencyCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>Code_CurrencyCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>Code_CurrencyCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="No_BankAccCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>No_BankAccCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>No_BankAccCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="Code_GLCurrencyCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>Code_GLCurrencyCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>Code_GLCurrencyCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="No_GLAccFCYCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>No_GLAccFCYCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>No_GLAccFCYCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="RelAdjmtExchRateAmtCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>RelAdjmtExchRateAmtCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>RelAdjmtExchRateAmtCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="AdjustmentExchRateAmtCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>AdjustmentExchRateAmtCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>AdjustmentExchRateAmtCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="RelationalCurrencyCodeCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>RelationalCurrencyCodeCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>RelationalCurrencyCodeCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="AdjAmountCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>AdjAmountCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>AdjAmountCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="RemainingAmtLCYCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>RemainingAmtLCYCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>RemainingAmtLCYCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="OriginalAmtLCYCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>OriginalAmtLCYCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>OriginalAmtLCYCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="RemainingAmountCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>RemainingAmountCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>RemainingAmountCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="AmountCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>AmountCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>AmountCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="CurrencyCodeCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>CurrencyCodeCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>CurrencyCodeCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="DocumentNoCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>DocumentNoCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>DocumentNoCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="DocumentTypeCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>DocumentTypeCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>DocumentTypeCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="PostingDateCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>PostingDateCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>PostingDateCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="EntryNoCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>EntryNoCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>EntryNoCaption</Prompt>
+    </ReportParameter>
+    <ReportParameter Name="DueDateCaption">
+      <DataType>String</DataType>
+      <DefaultValue>
+        <Values>
+          <Value>DueDateCaption</Value>
+        </Values>
+      </DefaultValue>
+      <Prompt>DueDateCaption</Prompt>
+    </ReportParameter>
+  </ReportParameters>
+  <ReportParametersLayout>
+    <GridLayoutDefinition>
+      <NumberOfColumns>1</NumberOfColumns>
+      <NumberOfRows>18</NumberOfRows>
+      <CellDefinitions>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>0</RowIndex>
+          <ParameterName>Code_CurrencyCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>1</RowIndex>
+          <ParameterName>No_BankAccCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>2</RowIndex>
+          <ParameterName>Code_GLCurrencyCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>3</RowIndex>
+          <ParameterName>No_GLAccFCYCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>4</RowIndex>
+          <ParameterName>RelAdjmtExchRateAmtCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>5</RowIndex>
+          <ParameterName>AdjustmentExchRateAmtCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>6</RowIndex>
+          <ParameterName>RelationalCurrencyCodeCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>7</RowIndex>
+          <ParameterName>AdjAmountCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>8</RowIndex>
+          <ParameterName>RemainingAmtLCYCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>9</RowIndex>
+          <ParameterName>OriginalAmtLCYCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>10</RowIndex>
+          <ParameterName>RemainingAmountCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>11</RowIndex>
+          <ParameterName>AmountCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>12</RowIndex>
+          <ParameterName>CurrencyCodeCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>13</RowIndex>
+          <ParameterName>DocumentNoCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>14</RowIndex>
+          <ParameterName>DocumentTypeCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>15</RowIndex>
+          <ParameterName>PostingDateCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>16</RowIndex>
+          <ParameterName>EntryNoCaption</ParameterName>
+        </CellDefinition>
+        <CellDefinition>
+          <ColumnIndex>0</ColumnIndex>
+          <RowIndex>17</RowIndex>
+          <ParameterName>DueDateCaption</ParameterName>
+        </CellDefinition>
+      </CellDefinitions>
+    </GridLayoutDefinition>
+  </ReportParametersLayout>
+  <Code>Public Function BlankZero(ByVal Value As Decimal)
+    if Value = 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankPos(ByVal Value As Decimal)
+    if Value &gt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankZeroAndPos(ByVal Value As Decimal)
+    if Value &gt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNeg(ByVal Value As Decimal)
+    if Value &lt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNegAndZero(ByVal Value As Decimal)
+    if Value &lt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+</Code>
+  <Language>=User!Language</Language>
+  <ConsumeContainerWhitespace>true</ConsumeContainerWhitespace>
+  <rd:ReportUnitType>Cm</rd:ReportUnitType>
+  <rd:ReportID>cbff3a11-8fbe-46c8-a7c7-85282634a324</rd:ReportID>
+</Report>
+    END_OF_RDLDATA
+  }
+}
+
diff --git a/report/report_0005274204.txt b/report/report_0005274204.txt
new file mode 100644
index 0000000..2fa03f8
--- /dev/null
+++ b/report/report_0005274204.txt
@@ -0,0 +1,5960 @@
+OBJECT Report 5274204 Calc&Post VAT Settlement P4TC
+{
+  OBJECT-PROPERTIES
+  {
+    Date=29.08.18;
+    Time=12:00:00;
+    Version List=NAVW111.00,P4TC3.03;
+  }
+  PROPERTIES
+  {
+    Permissions=TableData 254=imd;
+    CaptionML=ENU=Calc. and Post VAT Settlement;
+    OnPreReport=BEGIN
+                  IF PostingDate = 0D THEN
+                    ERROR(Text000);
+                  IF DocNo = '' THEN
+                    ERROR(Text001);
+                  IF GLAccSettle."No." = '' THEN
+                    ERROR(Text002);
+                  GLAccSettle.FIND;
+
+                  IF PostSettlement AND NOT Initialized THEN
+                    IF NOT CONFIRM(Text003,FALSE) THEN
+                      CurrReport.QUIT;
+
+                  VATPostingSetupFilter := "VAT Posting Setup".GETFILTERS;
+                  IF EndDateReq = 0D THEN
+                    VATEntry.SETFILTER("Posting Date",'%1..',EntrdStartDate)
+                  ELSE
+                    VATEntry.SETRANGE("Posting Date",EntrdStartDate,EndDateReq);
+                  VATDateFilter := VATEntry.GETFILTER("Posting Date");
+                  CLEAR(GenJnlPostLine);
+                END;
+
+  }
+  DATASET
+  {
+    { 1756;    ;DataItem;                    ;
+               DataItemTable=Table325;
+               DataItemTableView=SORTING(VAT Bus. Posting Group,VAT Prod. Posting Group);
+               OnPreDataItem=BEGIN
+                               GLEntry.LOCKTABLE; // Avoid deadlock with function 12
+                               IF GLEntry.FINDLAST THEN;
+                               VATEntry.LOCKTABLE;
+                               VATEntry.RESET;
+                               IF VATEntry.FIND('+') THEN
+                                 NextVATEntryNo := VATEntry."Entry No.";
+
+                               SourceCodeSetup.GET;
+                               GLSetup.GET;
+                               VATAmount := 0;
+                               VATAmountAddCurr := 0;
+
+                               IF UseAmtsInAddCurr THEN
+                                 HeaderText := STRSUBSTNO(Text006,GLSetup."Additional Reporting Currency")
+                               ELSE BEGIN
+                                 GLSetup.TESTFIELD("LCY Code");
+                                 HeaderText := STRSUBSTNO(Text006,GLSetup."LCY Code");
+                               END;
+                             END;
+
+               OnPostDataItem=BEGIN
+                                // Post to settlement account
+                                IF VATAmount <> 0 THEN BEGIN
+                                  GenJnlLine.INIT;
+                                  GenJnlLine."System-Created Entry" := TRUE;
+                                  GenJnlLine."Account Type" := GenJnlLine."Account Type"::"G/L Account";
+
+                                  GLAccSettle.TESTFIELD("Gen. Posting Type",GenJnlLine."Gen. Posting Type"::" ");
+                                  GLAccSettle.TESTFIELD("VAT Bus. Posting Group",'');
+                                  GLAccSettle.TESTFIELD("VAT Prod. Posting Group",'');
+                                  IF VATPostingSetup.GET(GLAccSettle."VAT Bus. Posting Group",GLAccSettle."VAT Prod. Posting Group") THEN
+                                    VATPostingSetup.TESTFIELD("VAT %",0);
+                                  GLAccSettle.TESTFIELD("Gen. Bus. Posting Group",'');
+                                  GLAccSettle.TESTFIELD("Gen. Prod. Posting Group",'');
+
+                                  GenJnlLine.VALIDATE("Account No.",GLAccSettle."No.");
+                                  GenJnlLine."Posting Date" := PostingDate;
+                                  GenJnlLine."Document Type" := 0;
+                                  GenJnlLine."Document No." := DocNo;
+                                  GenJnlLine.Description := Text004;
+                                  GenJnlLine.Amount := VATAmount;
+                                  GenJnlLine."Source Currency Code" := GLSetup."Additional Reporting Currency";
+                                  GenJnlLine."Source Currency Amount" := VATAmountAddCurr;
+                                  GenJnlLine."Source Code" := SourceCodeSetup."VAT Settlement";
+                                  GenJnlLine."VAT Posting" := GenJnlLine."VAT Posting"::"Manual VAT Entry";
+                                  IF PostSettlement THEN
+                                    PostGenJnlLine(GenJnlLine);
+                                END;
+                              END;
+
+               ReqFilterFields=VAT Bus. Posting Group,VAT Prod. Posting Group }
+
+    { 2   ;1   ;Column  ;TodayFormatted      ;
+               SourceExpr=FORMAT(TODAY,0,4) }
+
+    { 3   ;1   ;Column  ;PeriodVATDateFilter ;
+               SourceExpr=STRSUBSTNO(Text005,VATDateFilter) }
+
+    { 6   ;1   ;Column  ;CompanyName         ;
+               SourceExpr=COMPANYPROPERTY.DISPLAYNAME }
+
+    { 77  ;1   ;Column  ;PostSettlement      ;
+               SourceExpr=PostSettlement }
+
+    { 10  ;1   ;Column  ;PostingDate         ;
+               SourceExpr=FORMAT(PostingDate) }
+
+    { 12  ;1   ;Column  ;DocNo               ;
+               SourceExpr=DocNo }
+
+    { 14  ;1   ;Column  ;GLAccSettleNo       ;
+               SourceExpr=GLAccSettle."No." }
+
+    { 78  ;1   ;Column  ;UseAmtsInAddCurr    ;
+               SourceExpr=UseAmtsInAddCurr }
+
+    { 79  ;1   ;Column  ;PrintVATEntries     ;
+               SourceExpr=PrintVATEntries }
+
+    { 15  ;1   ;Column  ;VATPostingSetupCaption;
+               SourceExpr=TABLECAPTION + ': ' + VATPostingSetupFilter }
+
+    { 76  ;1   ;Column  ;VATPostingSetupFilter;
+               SourceExpr=VATPostingSetupFilter }
+
+    { 75  ;1   ;Column  ;HeaderText          ;
+               SourceExpr=HeaderText }
+
+    { 37  ;1   ;Column  ;VATAmount           ;
+               SourceExpr=VATAmount;
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 66  ;1   ;Column  ;VATAmountAddCurr    ;
+               SourceExpr=VATAmountAddCurr;
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 1   ;1   ;Column  ;CalcandPostVATSettlementCaption;
+               SourceExpr=CalcandPostVATSettlementCaptionLbl }
+
+    { 4   ;1   ;Column  ;PageCaption         ;
+               SourceExpr=PageCaptionLbl }
+
+    { 8   ;1   ;Column  ;TestReportnotpostedCaption;
+               SourceExpr=TestReportnotpostedCaptionLbl }
+
+    { 11  ;1   ;Column  ;DocNoCaption        ;
+               SourceExpr=DocNoCaptionLbl }
+
+    { 13  ;1   ;Column  ;SettlementAccCaption;
+               SourceExpr=SettlementAccCaptionLbl }
+
+    { 18  ;1   ;Column  ;DocumentTypeCaption ;
+               SourceExpr=DocumentTypeCaptionLbl }
+
+    { 25  ;1   ;Column  ;UserIDCaption       ;
+               SourceExpr=UserIDCaptionLbl }
+
+    { 36  ;1   ;Column  ;TotalCaption        ;
+               SourceExpr=TotalCaptionLbl }
+
+    { 23  ;1   ;Column  ;DocumentNoCaption   ;
+               SourceExpr="VAT Entry".FIELDCAPTION("Document No.") }
+
+    { 22  ;1   ;Column  ;TypeCaption         ;
+               SourceExpr="VAT Entry".FIELDCAPTION(Type) }
+
+    { 119451027;1;Column;CurrencyCodeCaption ;
+               SourceExpr="VAT Entry".FIELDCAPTION("Currency Code") }
+
+    { 119451028;1;Column;BaseFCYCaption      ;
+               SourceExpr="VAT Entry".FIELDCAPTION("Base (FCY)") }
+
+    { 119451029;1;Column;AmountFCYCaption    ;
+               SourceExpr="VAT Entry".FIELDCAPTION("Amount (FCY)") }
+
+    { 21  ;1   ;Column  ;BaseCaption         ;
+               SourceExpr="VAT Entry".FIELDCAPTION(Base) }
+
+    { 20  ;1   ;Column  ;AmountCaption       ;
+               SourceExpr="VAT Entry".FIELDCAPTION(Amount) }
+
+    { 19  ;1   ;Column  ;UnrealizedBaseCaption;
+               SourceExpr="VAT Entry".FIELDCAPTION("Unrealized Base") }
+
+    { 17  ;1   ;Column  ;UnrealizedAmountCaption;
+               SourceExpr="VAT Entry".FIELDCAPTION("Unrealized Amount") }
+
+    { 16  ;1   ;Column  ;VATCalculationCaption;
+               SourceExpr="VAT Entry".FIELDCAPTION("VAT Calculation Type") }
+
+    { 7   ;1   ;Column  ;BilltoPaytoNoCaption;
+               SourceExpr="VAT Entry".FIELDCAPTION("Bill-to/Pay-to No.") }
+
+    { 5   ;1   ;Column  ;EntryNoCaption      ;
+               SourceExpr="VAT Entry".FIELDCAPTION("Entry No.") }
+
+    { 9   ;1   ;Column  ;PostingDateCaption  ;
+               SourceExpr=PostingDateCaptionLbl }
+
+    { 8188;1   ;DataItem;Closing G/L and VAT Entry;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               OnPreDataItem=BEGIN
+                               VATType := VATEntry.Type::Purchase;
+                               FindFirstEntry := TRUE;
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  VATEntry.RESET;
+                                  //OS001s os.jgl
+                                  // ************************************************** Plexada ***********************************
+                                  // Standard Code:
+                                  // IF NOT
+                                  //   VATEntry.SETCURRENTKEY(
+                                  //     Type,Closed,"VAT Bus. Posting Group","VAT Prod. Posting Group","Posting Date")
+                                  // THEN
+                                  //   VATEntry.SETCURRENTKEY(
+                                  //     Type,Closed,"Tax Jurisdiction Code","Use Tax","Posting Date");
+                                  // ************************************************** Plexada ***********************************
+                                  IF NOT
+                                    VATEntry.SETCURRENTKEY(
+                                      Type,Closed,"Currency Code","VAT Bus. Posting Group","VAT Prod. Posting Group","Posting Date")
+                                  THEN
+                                    VATEntry.SETCURRENTKEY(
+                                      Type,Closed,"Currency Code","Tax Jurisdiction Code","Use Tax","Posting Date");
+                                  //clear the currency filter for the next round.
+                                  VATEntry.SETRANGE("Currency Code");
+                                  //OS001e os.jgl
+                                  VATEntry.SETRANGE(Type,VATType);
+                                  VATEntry.SETRANGE(Closed,FALSE);
+                                  VATEntry.SETFILTER("Posting Date",VATDateFilter);
+                                  VATEntry.SETRANGE("VAT Bus. Posting Group","VAT Posting Setup"."VAT Bus. Posting Group");
+                                  VATEntry.SETRANGE("VAT Prod. Posting Group","VAT Posting Setup"."VAT Prod. Posting Group");
+
+                                  CASE "VAT Posting Setup"."VAT Calculation Type" OF
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Normal VAT",
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Reverse Charge VAT",
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Full VAT":
+                                      BEGIN
+                                        IF FindFirstEntry THEN BEGIN
+                                          IF NOT VATEntry.FIND('-') THEN
+                                            REPEAT
+                                              VATType := VATType + 1;
+                                              VATEntry.SETRANGE(Type,VATType);
+                                            UNTIL (VATType = VATEntry.Type::Settlement) OR VATEntry.FIND('-');
+                                          FindFirstEntry := FALSE;
+                                        END ELSE BEGIN
+                                          IF VATEntry.NEXT = 0 THEN
+                                            REPEAT
+                                              VATType := VATType + 1;
+                                              VATEntry.SETRANGE(Type,VATType);
+                                            UNTIL (VATType = VATEntry.Type::Settlement) OR VATEntry.FIND('-');
+                                        END;
+                                        //OS001s os.jgl
+                                        // ************************************************** Plexada ***********************************
+                                        // Standard Code:
+                                        // IF VATType < VATEntry.Type::Settlement THEN
+                                        //   VATEntry.FIND('+');
+                                        // ************************************************** Plexada ***********************************
+                                        IF VATType < VATEntry.Type::Settlement THEN BEGIN
+                                          VATEntry.SETRANGE("Currency Code",VATEntry."Currency Code");
+                                          VATEntry.FIND('+');
+                                        END;
+                                        //OS001e os.jgl
+                                      END;
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Sales Tax":
+                                      BEGIN
+                                        IF FindFirstEntry THEN BEGIN
+                                          IF NOT VATEntry.FIND('-') THEN
+                                            REPEAT
+                                              VATType := VATType + 1;
+                                              VATEntry.SETRANGE(Type,VATType);
+                                            UNTIL (VATType = VATEntry.Type::Settlement) OR VATEntry.FIND('-');
+                                          FindFirstEntry := FALSE;
+                                        END ELSE BEGIN
+                                          VATEntry.SETRANGE("Tax Jurisdiction Code");
+                                          VATEntry.SETRANGE("Use Tax");
+                                          IF VATEntry.NEXT = 0 THEN
+                                            REPEAT
+                                              VATType := VATType + 1;
+                                              VATEntry.SETRANGE(Type,VATType);
+                                            UNTIL (VATType = VATEntry.Type::Settlement) OR VATEntry.FIND('-');
+                                        END;
+                                        IF VATType < VATEntry.Type::Settlement THEN BEGIN
+                                          VATEntry.SETRANGE("Tax Jurisdiction Code",VATEntry."Tax Jurisdiction Code");
+                                          VATEntry.SETRANGE("Use Tax",VATEntry."Use Tax");
+                                          //OS001s os.jgl
+                                          VATEntry.SETRANGE("Currency Code",VATEntry."Currency Code");
+                                          //OS001e os.jgl
+                                          VATEntry.FIND('+');
+                                        END;
+                                      END;
+                                  END;
+
+                                  IF VATType = VATEntry.Type::Settlement THEN
+                                    CurrReport.BREAK;
+                                END;
+                                 }
+
+    { 26  ;2   ;Column  ;VATBusPstGr_VATPostSetup;
+               SourceExpr="VAT Posting Setup"."VAT Bus. Posting Group" }
+
+    { 27  ;2   ;Column  ;VATPrdPstGr_VATPostSetup;
+               SourceExpr="VAT Posting Setup"."VAT Prod. Posting Group" }
+
+    { 35  ;2   ;Column  ;VATEntryGetFilterType;
+               SourceExpr=VATEntry.GETFILTER(Type) }
+
+    { 52  ;2   ;Column  ;VATEntryGetFiltTaxJurisCd;
+               SourceExpr=VATEntry.GETFILTER("Tax Jurisdiction Code") }
+
+    { 53  ;2   ;Column  ;VATEntryGetFilterUseTax;
+               SourceExpr=VATEntry.GETFILTER("Use Tax") }
+
+    { 7612;2   ;DataItem;                    ;
+               DataItemTable=Table254;
+               DataItemTableView=SORTING(Type,Closed)
+                                 WHERE(Closed=CONST(No),
+                                       Type=FILTER(Purchase|Sale));
+               OnPreDataItem=BEGIN
+                               COPYFILTERS(VATEntry);
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  IF NOT PrintVATEntries THEN
+                                    CurrReport.SKIP;
+                                END;
+                                 }
+
+    { 38  ;3   ;Column  ;PostingDate_VATEntry;
+               SourceExpr=FORMAT("Posting Date") }
+
+    { 39  ;3   ;Column  ;DocumentNo_VATEntry ;
+               IncludeCaption=No;
+               SourceExpr="Document No." }
+
+    { 40  ;3   ;Column  ;DocumentType_VATEntry;
+               SourceExpr="Document Type" }
+
+    { 41  ;3   ;Column  ;Type_VATEntry       ;
+               IncludeCaption=No;
+               SourceExpr=Type }
+
+    { 119451021;3;Column;CurrencyCode_VATEntry;
+               SourceExpr="Currency Code" }
+
+    { 119451022;3;Column;BaseFCY_VATEntry    ;
+               SourceExpr="Base (FCY)" }
+
+    { 119451024;3;Column;AmountFCY_VATEntry  ;
+               SourceExpr="Amount (FCY)" }
+
+    { 42  ;3   ;Column  ;Base_VATEntry       ;
+               SourceExpr=Base;
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 43  ;3   ;Column  ;Amount_VATEntry     ;
+               SourceExpr=Amount;
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 44  ;3   ;Column  ;VATCalcType_VATEntry;
+               SourceExpr="VAT Calculation Type" }
+
+    { 45  ;3   ;Column  ;BilltoPaytoNo_VATEntry;
+               SourceExpr="Bill-to/Pay-to No." }
+
+    { 46  ;3   ;Column  ;EntryNo_VATEntry    ;
+               SourceExpr="Entry No." }
+
+    { 47  ;3   ;Column  ;UserID_VATEntry     ;
+               SourceExpr="User ID" }
+
+    { 48  ;3   ;Column  ;UnrealizedAmount_VATEntry;
+               SourceExpr="Unrealized Amount";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 50  ;3   ;Column  ;UnrealizedBase_VATEntry;
+               SourceExpr="Unrealized Base";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 58  ;3   ;Column  ;AddCurrUnrlzdAmt_VATEntry;
+               SourceExpr="Add.-Currency Unrealized Amt.";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 59  ;3   ;Column  ;AddCurrUnrlzdBas_VATEntry;
+               SourceExpr="Add.-Currency Unrealized Base";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 60  ;3   ;Column  ;AdditionlCurrAmt_VATEntry;
+               SourceExpr="Additional-Currency Amount";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 61  ;3   ;Column  ;AdditinlCurrBase_VATEntry;
+               SourceExpr="Additional-Currency Base";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 3370;2   ;DataItem;Close VAT Entries   ;
+               DataItemTable=Table2000000026;
+               DataItemTableView=SORTING(Number);
+               MaxIteration=1;
+               OnAfterGetRecord=BEGIN
+                                  // Calculate amount and base
+                                  //OS001s jgl
+                                  // ************************************************** Plexada ***********************************
+                                  // Standard Code:
+                                  // VATEntry.CALCSUMS(
+                                  //   Base,Amount,
+                                  //   "Additional-Currency Base","Additional-Currency Amount");
+                                  // ************************************************** Plexada ***********************************
+                                  VATEntry.CALCSUMS(
+                                    Base,Amount,
+                                    "Additional-Currency Base","Additional-Currency Amount",
+                                    "Base (FCY)","Amount (FCY)");
+                                  //OS001e jgl
+
+                                  ReversingEntry := FALSE;
+                                  // Balancing entries to VAT accounts
+                                  CLEAR(GenJnlLine);
+                                  GenJnlLine."System-Created Entry" := TRUE;
+                                  GenJnlLine."Account Type" := GenJnlLine."Account Type"::"G/L Account";
+                                  CASE VATType OF
+                                    VATEntry.Type::Purchase:
+                                      GenJnlLine.Description :=
+                                        DELCHR(
+                                          STRSUBSTNO(
+                                            Text007,
+                                            "VAT Posting Setup"."VAT Bus. Posting Group",
+                                            "VAT Posting Setup"."VAT Prod. Posting Group"),
+                                          '>');
+                                    VATEntry.Type::Sale:
+                                      GenJnlLine.Description :=
+                                        DELCHR(
+                                          STRSUBSTNO(
+                                            Text008,
+                                            "VAT Posting Setup"."VAT Bus. Posting Group",
+                                            "VAT Posting Setup"."VAT Prod. Posting Group"),
+                                          '>');
+                                  END;
+                                  GenJnlLine."VAT Bus. Posting Group" := "VAT Posting Setup"."VAT Bus. Posting Group";
+                                  GenJnlLine."VAT Prod. Posting Group" := "VAT Posting Setup"."VAT Prod. Posting Group";
+                                  GenJnlLine."VAT Calculation Type" := "VAT Posting Setup"."VAT Calculation Type";
+                                  GenJnlLine."Gen. Posting Type" := GenJnlLine."Gen. Posting Type"::Settlement;
+                                  GenJnlLine."Posting Date" := PostingDate;
+                                  GenJnlLine."Document Type" := 0;
+                                  GenJnlLine."Document No." := DocNo;
+                                  GenJnlLine."Source Code" := SourceCodeSetup."VAT Settlement";
+                                  GenJnlLine."VAT Posting" := GenJnlLine."VAT Posting"::"Manual VAT Entry";
+                                  //OS001s jgl
+                                  GenJnlLine.SetIgnoreFixedCurrency(TRUE);
+                                  //OS001e jgl
+                                  CASE "VAT Posting Setup"."VAT Calculation Type" OF
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Normal VAT",
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Full VAT":
+                                      BEGIN
+                                        CASE VATType OF
+                                          VATEntry.Type::Purchase:
+                                            GenJnlLine."Account No." := "VAT Posting Setup".GetPurchAccount(FALSE);
+                                          VATEntry.Type::Sale:
+                                            GenJnlLine."Account No." := "VAT Posting Setup".GetSalesAccount(FALSE);
+                                        END;
+                                        CopyAmounts(GenJnlLine,VATEntry);
+                                        IF PostSettlement THEN
+                                          PostGenJnlLine(GenJnlLine);
+                                        VATAmount := VATAmount + VATEntry.Amount;
+                                        VATAmountAddCurr := VATAmountAddCurr + VATEntry."Additional-Currency Amount";
+                                      END;
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Reverse Charge VAT":
+                                      CASE VATType OF
+                                        VATEntry.Type::Purchase:
+                                          BEGIN
+                                            GenJnlLine."Account No." := "VAT Posting Setup".GetPurchAccount(FALSE);
+                                            CopyAmounts(GenJnlLine,VATEntry);
+                                            IF PostSettlement THEN
+                                              PostGenJnlLine(GenJnlLine);
+
+                                            CreateGenJnlLine(GenJnlLine2,"VAT Posting Setup".GetRevChargeAccount(FALSE));
+                                            IF PostSettlement THEN
+                                              PostGenJnlLine(GenJnlLine2);
+                                            ReversingEntry := TRUE;
+                                          END;
+                                        VATEntry.Type::Sale:
+                                          BEGIN
+                                            GenJnlLine."Account No." := "VAT Posting Setup".GetSalesAccount(FALSE);
+                                            CopyAmounts(GenJnlLine,VATEntry);
+                                            IF PostSettlement THEN
+                                              PostGenJnlLine(GenJnlLine);
+                                          END;
+                                      END;
+                                    "VAT Posting Setup"."VAT Calculation Type"::"Sales Tax":
+                                      BEGIN
+                                        TaxJurisdiction.GET(VATEntry."Tax Jurisdiction Code");
+                                        GenJnlLine."Tax Area Code" := TaxJurisdiction.Code;
+                                        GenJnlLine."Use Tax" := VATEntry."Use Tax";
+                                        CASE VATType OF
+                                          VATEntry.Type::Purchase:
+                                            IF VATEntry."Use Tax" THEN BEGIN
+                                              TaxJurisdiction.TESTFIELD("Tax Account (Purchases)");
+                                              GenJnlLine."Account No." := TaxJurisdiction."Tax Account (Purchases)";
+                                              CopyAmounts(GenJnlLine,VATEntry);
+                                              IF PostSettlement THEN
+                                                PostGenJnlLine(GenJnlLine);
+
+                                              TaxJurisdiction.TESTFIELD("Reverse Charge (Purchases)");
+                                              CreateGenJnlLine(GenJnlLine2,TaxJurisdiction."Reverse Charge (Purchases)");
+                                              GenJnlLine2."Tax Area Code" := TaxJurisdiction.Code;
+                                              GenJnlLine2."Use Tax" := VATEntry."Use Tax";
+                                              IF PostSettlement THEN
+                                                PostGenJnlLine(GenJnlLine2);
+                                              ReversingEntry := TRUE;
+                                            END ELSE BEGIN
+                                              TaxJurisdiction.TESTFIELD("Tax Account (Purchases)");
+                                              GenJnlLine."Account No." := TaxJurisdiction."Tax Account (Purchases)";
+                                              CopyAmounts(GenJnlLine,VATEntry);
+                                              IF PostSettlement THEN
+                                                PostGenJnlLine(GenJnlLine);
+                                              VATAmount := VATAmount + VATEntry.Amount;
+                                              VATAmountAddCurr := VATAmountAddCurr + VATEntry."Additional-Currency Amount";
+                                            END;
+                                          VATEntry.Type::Sale:
+                                            BEGIN
+                                              TaxJurisdiction.TESTFIELD("Tax Account (Sales)");
+                                              GenJnlLine."Account No." := TaxJurisdiction."Tax Account (Sales)";
+                                              CopyAmounts(GenJnlLine,VATEntry);
+                                              IF PostSettlement THEN
+                                                PostGenJnlLine(GenJnlLine);
+                                              VATAmount := VATAmount + VATEntry.Amount;
+                                              VATAmountAddCurr := VATAmountAddCurr + VATEntry."Additional-Currency Amount";
+                                            END;
+                                        END;
+                                      END;
+                                  END;
+                                  NextVATEntryNo := NextVATEntryNo + 1;
+
+                                  // Close current VAT entries
+                                  IF PostSettlement THEN BEGIN
+                                    VATEntry.MODIFYALL("Closed by Entry No.",NextVATEntryNo);
+                                    VATEntry.MODIFYALL(Closed,TRUE);
+                                  END;
+                                END;
+                                 }
+
+    { 28  ;3   ;Column  ;PostingDate1        ;
+               SourceExpr=FORMAT(PostingDate) }
+
+    { 29  ;3   ;Column  ;GenJnlLineDocumentNo;
+               SourceExpr=GenJnlLine."Document No." }
+
+    { 119451023;3;Column;GenJnlLineCurrencyCode;
+               SourceExpr=GenJnlLine."Currency Code" }
+
+    { 31  ;3   ;Column  ;GenJnlLineVATBaseAmount;
+               SourceExpr=GenJnlLine."VAT Base Amount";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 32  ;3   ;Column  ;GenJnlLineVATAmount ;
+               SourceExpr=GenJnlLine."VAT Amount";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 119451025;3;Column;GenJnlLineVATBaseAmountLCY;
+               SourceExpr=GenJnlLine."VAT Base Amount (LCY)" }
+
+    { 119451026;3;Column;GenJnlLineVATAmountLCY;
+               SourceExpr=GenJnlLine."VAT Amount (LCY)" }
+
+    { 33  ;3   ;Column  ;GenJnlLnVATCalcType ;
+               SourceExpr=FORMAT(GenJnlLine."VAT Calculation Type") }
+
+    { 34  ;3   ;Column  ;NextVATEntryNo      ;
+               SourceExpr=NextVATEntryNo }
+
+    { 70  ;3   ;Column  ;GenJnlLnSrcCurrVATAmount;
+               SourceExpr=GenJnlLine."Source Curr. VAT Amount";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 71  ;3   ;Column  ;GenJnlLnSrcCurrVATBaseAmt;
+               SourceExpr=GenJnlLine."Source Curr. VAT Base Amount";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 119451030;3;Column;GenJnlLine2CurrencyCode;
+               SourceExpr=GenJnlLine2."Currency Code" }
+
+    { 92  ;3   ;Column  ;GenJnlLine2Amount   ;
+               SourceExpr=GenJnlLine2.Amount;
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 119451031;3;Column;GenJnlLine2AmountLCY;
+               SourceExpr=GenJnlLine2."Amount (LCY)" }
+
+    { 95  ;3   ;Column  ;GenJnlLine2DocumentNo;
+               SourceExpr=GenJnlLine2."Document No." }
+
+    { 80  ;3   ;Column  ;ReversingEntry      ;
+               SourceExpr=ReversingEntry }
+
+    { 85  ;3   ;Column  ;GenJnlLn2SrcCurrencyAmt;
+               SourceExpr=GenJnlLine2."Source Currency Amount";
+               AutoFormatType=1;
+               AutoFormatExpr=GetCurrency }
+
+    { 30  ;3   ;Column  ;SettlementCaption   ;
+               SourceExpr=SettlementCaptionLbl }
+
+  }
+  REQUESTPAGE
+  {
+    PROPERTIES
+    {
+      SaveValues=Yes;
+      ShowFilter=No;
+    }
+    CONTROLS
+    {
+      { 10  ;0   ;Container ;
+                  ContainerType=ContentArea }
+
+      { 9   ;1   ;Group     ;
+                  CaptionML=ENU=Options }
+
+      { 1   ;2   ;Field     ;
+                  Name=StartingDate;
+                  CaptionML=ENU=Starting Date;
+                  ToolTipML=ENU=Specifies the first date in the period from which VAT entries are processed in the batch job.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=EntrdStartDate }
+
+      { 2   ;2   ;Field     ;
+                  CaptionML=ENU=Ending Date;
+                  ToolTipML=ENU=Specifies the last date in the period from which VAT entries are processed in the batch job.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=EndDateReq }
+
+      { 3   ;2   ;Field     ;
+                  Name=PostingDt;
+                  CaptionML=ENU=Posting Date;
+                  ToolTipML=ENU=Specifies the date on which the transfer to the VAT account is posted. This field must be filled in.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PostingDate }
+
+      { 4   ;2   ;Field     ;
+                  Name=DocumentNo;
+                  CaptionML=ENU=Document No.;
+                  ToolTipML=ENU=Specifies a document number. This field must be filled in.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=DocNo }
+
+      { 5   ;2   ;Field     ;
+                  Name=SettlementAcc;
+                  CaptionML=ENU=Settlement Account;
+                  ToolTipML=ENU=Specifies the number of the VAT settlement account. Select the field to see the chart of account. This field must be filled in.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=GLAccSettle."No.";
+                  TableRelation="G/L Account";
+                  OnValidate=BEGIN
+                               IF GLAccSettle."No." <> '' THEN BEGIN
+                                 GLAccSettle.FIND;
+                                 GLAccSettle.CheckGLAcc;
+                               END;
+                             END;
+                              }
+
+      { 6   ;2   ;Field     ;
+                  Name=ShowVATEntries;
+                  CaptionML=ENU=Show VAT Entries;
+                  ToolTipML=ENU=Specifies if you want the report that is printed during the batch job to contain the individual VAT entries. If you do not choose to print the VAT entries, the settlement amount is shown only for each VAT posting group.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PrintVATEntries }
+
+      { 7   ;2   ;Field     ;
+                  Name=Post;
+                  CaptionML=ENU=Post;
+                  ToolTipML=ENU=Specifies if you want the program to post the transfer to the VAT settlement account automatically. If you do not choose to post the transfer, the batch job only prints a test report, and Test Report (not Posted) appears on the report.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=PostSettlement }
+
+      { 8   ;2   ;Field     ;
+                  Name=AmtsinAddReportingCurr;
+                  CaptionML=ENU=Show Amounts in Add. Reporting Currency;
+                  ToolTipML=ENU=Specifies if the reported amounts are shown in the additional reporting currency.;
+                  ApplicationArea=#Basic,#Suite;
+                  SourceExpr=UseAmtsInAddCurr;
+                  MultiLine=Yes }
+
+    }
+  }
+  LABELS
+  {
+  }
+  CODE
+  {
+    VAR
+      Text000@1000 : TextConst 'ENU=Enter the posting date.';
+      Text001@1001 : TextConst 'ENU=Enter the document no.';
+      Text002@1002 : TextConst 'ENU=Enter the settlement account.';
+      Text003@1003 : TextConst 'ENU=Do you want to calculate and post the VAT Settlement?';
+      Text004@1004 : TextConst 'ENU=VAT Settlement';
+      Text005@1005 : TextConst 'ENU=Period: %1';
+      Text006@1006 : TextConst 'ENU=All amounts are in %1.';
+      Text007@1007 : TextConst 'ENU=Purchase VAT settlement: #1######## #2########';
+      Text008@1008 : TextConst 'ENU=Sales VAT settlement  : #1######## #2########';
+      GLAccSettle@1009 : Record 15;
+      SourceCodeSetup@1010 : Record 242;
+      GenJnlLine@1011 : Record 81;
+      GenJnlLine2@1012 : Record 81;
+      GLEntry@1013 : Record 17;
+      VATEntry@1014 : Record 254;
+      VATEntry2@1015 : Record 254;
+      TaxJurisdiction@1016 : Record 320;
+      GLSetup@1017 : Record 98;
+      VATPostingSetup@1018 : Record 325;
+      GenJnlPostLine@1019 : Codeunit 12;
+      EntrdStartDate@1020 : Date;
+      EndDateReq@1021 : Date;
+      PrintVATEntries@1022 : Boolean;
+      NextVATEntryNo@1023 : Integer;
+      PostingDate@1024 : Date;
+      DocNo@1025 : Code[20];
+      VATType@1026 : Integer;
+      VATAmount@1027 : Decimal;
+      VATAmountAddCurr@1028 : Decimal;
+      PostSettlement@1029 : Boolean;
+      FindFirstEntry@1030 : Boolean;
+      ReversingEntry@1031 : Boolean;
+      Initialized@1032 : Boolean;
+      VATPostingSetupFilter@1033 : Text;
+      VATDateFilter@1034 : Text;
+      UseAmtsInAddCurr@1035 : Boolean;
+      HeaderText@1036 : Text[30];
+      CalcandPostVATSettlementCaptionLbl@1384 : TextConst 'ENU=Calc. and Post VAT Settlement';
+      PageCaptionLbl@6215 : TextConst 'ENU=Page';
+      TestReportnotpostedCaptionLbl@4405 : TextConst 'ENU=Test Report (Not Posted)';
+      DocNoCaptionLbl@2117 : TextConst 'ENU=Document No.';
+      SettlementAccCaptionLbl@4332 : TextConst 'ENU=Settlement Account';
+      DocumentTypeCaptionLbl@5905 : TextConst 'ENU=Document Type';
+      UserIDCaptionLbl@6950 : TextConst 'ENU=User ID';
+      TotalCaptionLbl@1909 : TextConst 'ENU=Total';
+      PostingDateCaptionLbl@4591 : TextConst 'ENU=Posting Date';
+      SettlementCaptionLbl@6937 : TextConst 'ENU=Settlement';
+
+    PROCEDURE InitializeRequest@1(NewStartDate@1000 : Date;NewEndDate@1001 : Date;NewPostingDate@1002 : Date;NewDocNo@1003 : Code[20];NewSettlementAcc@1004 : Code[20];ShowVATEntries@1005 : Boolean;Post@1006 : Boolean);
+    BEGIN
+      EntrdStartDate := NewStartDate;
+      EndDateReq := NewEndDate;
+      PostingDate := NewPostingDate;
+      DocNo := NewDocNo;
+      GLAccSettle."No." := NewSettlementAcc;
+      PrintVATEntries := ShowVATEntries;
+      PostSettlement := Post;
+      Initialized := TRUE;
+    END;
+
+    PROCEDURE InitializeRequest2@5(NewUseAmtsInAddCurr@1007 : Boolean);
+    BEGIN
+      UseAmtsInAddCurr := NewUseAmtsInAddCurr;
+    END;
+
+    LOCAL PROCEDURE GetCurrency@2() : Code[10];
+    BEGIN
+      IF UseAmtsInAddCurr THEN
+        EXIT(GLSetup."Additional Reporting Currency");
+
+      EXIT('');
+    END;
+
+    LOCAL PROCEDURE PostGenJnlLine@3(VAR GenJnlLine@1000 : Record 81);
+    VAR
+      DimMgt@1001 : Codeunit 408;
+      TableID@1004 : ARRAY [10] OF Integer;
+      No@1003 : ARRAY [10] OF Code[20];
+    BEGIN
+      TableID[1] := DATABASE::"G/L Account";
+      TableID[2] := DATABASE::"G/L Account";
+      No[1] := GenJnlLine."Account No.";
+      No[2] := GenJnlLine."Bal. Account No.";
+      GenJnlLine."Dimension Set ID" :=
+        DimMgt.GetRecDefaultDimID(
+          GenJnlLine,0,TableID,No,GenJnlLine."Source Code",
+          GenJnlLine."Shortcut Dimension 1 Code",GenJnlLine."Shortcut Dimension 2 Code",0,0);
+      GenJnlPostLine.RUN(GenJnlLine);
+    END;
+
+    PROCEDURE SetInitialized@4(Initialize@1000 : Boolean);
+    BEGIN
+      Initialized := Initialize;
+    END;
+
+    LOCAL PROCEDURE CopyAmounts@6(VAR GenJournalLine@1000 : Record 81;VATEntry@1001 : Record 254);
+    BEGIN
+      WITH GenJournalLine DO BEGIN
+        //PX003s px.jgl
+        //OS001s jgl
+        // ************************************************** Plexada ***********************************
+        // Standard Code:
+        // Amount := -VATEntry.Amount;
+        // "VAT Amount" := -VATEntry.Amount;
+        // "VAT Base Amount" := -VATEntry.Base;
+        // ************************************************** Plexada ***********************************
+        "Currency Code" := VATEntry."Currency Code";
+        "Currency Factor" := 0;
+        Amount := -VATEntry."Amount (FCY)";
+        //PX004s px.jgl
+        IF (VATEntry.Amount <> 0) AND (VATEntry."Amount (FCY)" <> 0) THEN
+        //PX004e px.jgl
+          VALIDATE("Amount (LCY)",-VATEntry.Amount)
+        ELSE
+          "Amount (LCY)" := -VATEntry.Amount;
+        "VAT Amount" := -VATEntry."Amount (FCY)";
+        "VAT Base Amount" := -VATEntry."Base (FCY)";
+        "VAT Amount (LCY)" := -VATEntry.Amount;
+        "VAT Base Amount (LCY)" := -VATEntry.Base;
+        //OS001e jgl
+        //PX003e px.jgl
+        "Source Currency Code" := GLSetup."Additional Reporting Currency";
+        "Source Currency Amount" := -VATEntry."Additional-Currency Amount";
+        "Source Curr. VAT Amount" := -VATEntry."Additional-Currency Amount";
+        "Source Curr. VAT Base Amount" := -VATEntry."Additional-Currency Base";
+      END;
+    END;
+
+    LOCAL PROCEDURE CreateGenJnlLine@7(VAR GenJnlLine2@1000 : Record 81;AccountNo@1002 : Code[20]);
+    BEGIN
+      CLEAR(GenJnlLine2);
+      //PX003s px.jgl
+      //OS001s jgl
+      GenJnlLine2.SetIgnoreFixedCurrency(TRUE);
+      //OS001e jgl
+      //PX003e px.jgl
+      GenJnlLine2."System-Created Entry" := TRUE;
+      GenJnlLine2."Account Type" := GenJnlLine2."Account Type"::"G/L Account";
+      GenJnlLine2.Description := GenJnlLine.Description;
+      GenJnlLine2."Posting Date" := PostingDate;
+      GenJnlLine2."Document Type" := 0;
+      GenJnlLine2."Document No." := DocNo;
+      GenJnlLine2."Source Code" := SourceCodeSetup."VAT Settlement";
+      GenJnlLine2."VAT Posting" := GenJnlLine2."VAT Posting"::"Manual VAT Entry";
+      GenJnlLine2."Account No." := AccountNo;
+      //PX003s ps.jgl
+      //OS001s jgl
+      // ************************************************** Plexada ***********************************
+      // Standard Code:
+      // GenJnlLine2.Amount := VATEntry.Amount;
+      // ************************************************** Plexada ***********************************
+      GenJnlLine2."Currency Code" := VATEntry."Currency Code";
+      GenJnlLine2."Currency Factor" := 0;
+      GenJnlLine2.Amount := VATEntry."Amount (FCY)";
+      //PX004s px.jgl
+      IF (VATEntry.Amount <> 0) AND (VATEntry."Amount (FCY)" <> 0) THEN
+      //PX004e px.jgl
+        GenJnlLine2.VALIDATE("Amount (LCY)",VATEntry.Amount)
+      ELSE
+        GenJnlLine2."Amount (LCY)" := VATEntry.Amount;
+      //OS001e jgl
+      //PX003e px.jgl
+      GenJnlLine2."Source Currency Code" := GLSetup."Additional Reporting Currency";
+      GenJnlLine2."Source Currency Amount" := VATEntry."Additional-Currency Amount";
+    END;
+
+    BEGIN
+    {
+      ****** Plexada GmbH ****************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.03             29.08.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     18.04.2011    os.jgl  SITC    VAT Settlement by Currency
+                                              Layout change: show currency and amounts in currency
+      OS002     08.05.2011    os.jgl  SITC    Adjusted RDL layout for landscape printing
+      PX003     08.04.2018    px.jgl  P4TC    Update to base NAV2018 NAVW111.00 (R20)
+      PX004     28.08.2018    px.jgl  P4TC    Handle situations where the FCY Amount is 0, but the LCY Amount isn't - similar to LCY
+                                              Rounding lines
+    }
+    END.
+  }
+  RDLDATA
+  {
+    <?xml version="1.0" encoding="utf-8"?>
+<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2016/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
+  <AutoRefresh>0</AutoRefresh>
+  <DataSources>
+    <DataSource Name="DataSource">
+      <ConnectionProperties>
+        <DataProvider>SQL</DataProvider>
+        <ConnectString />
+      </ConnectionProperties>
+      <rd:SecurityType>None</rd:SecurityType>
+      <rd:DataSourceID>08edb3e8-ddc1-442c-a3a4-0343d4b1ac95</rd:DataSourceID>
+    </DataSource>
+  </DataSources>
+  <DataSets>
+    <DataSet Name="DataSet_Result">
+      <Query>
+        <DataSourceName>DataSource</DataSourceName>
+        <CommandText />
+      </Query>
+      <Fields>
+        <Field Name="TodayFormatted">
+          <DataField>TodayFormatted</DataField>
+        </Field>
+        <Field Name="PeriodVATDateFilter">
+          <DataField>PeriodVATDateFilter</DataField>
+        </Field>
+        <Field Name="CompanyName">
+          <DataField>CompanyName</DataField>
+        </Field>
+        <Field Name="PostSettlement">
+          <DataField>PostSettlement</DataField>
+        </Field>
+        <Field Name="PostingDate">
+          <DataField>PostingDate</DataField>
+        </Field>
+        <Field Name="DocNo">
+          <DataField>DocNo</DataField>
+        </Field>
+        <Field Name="GLAccSettleNo">
+          <DataField>GLAccSettleNo</DataField>
+        </Field>
+        <Field Name="UseAmtsInAddCurr">
+          <DataField>UseAmtsInAddCurr</DataField>
+        </Field>
+        <Field Name="PrintVATEntries">
+          <DataField>PrintVATEntries</DataField>
+        </Field>
+        <Field Name="VATPostingSetupCaption">
+          <DataField>VATPostingSetupCaption</DataField>
+        </Field>
+        <Field Name="VATPostingSetupFilter">
+          <DataField>VATPostingSetupFilter</DataField>
+        </Field>
+        <Field Name="HeaderText">
+          <DataField>HeaderText</DataField>
+        </Field>
+        <Field Name="VATAmount">
+          <DataField>VATAmount</DataField>
+        </Field>
+        <Field Name="VATAmountFormat">
+          <DataField>VATAmountFormat</DataField>
+        </Field>
+        <Field Name="VATAmountAddCurr">
+          <DataField>VATAmountAddCurr</DataField>
+        </Field>
+        <Field Name="VATAmountAddCurrFormat">
+          <DataField>VATAmountAddCurrFormat</DataField>
+        </Field>
+        <Field Name="CalcandPostVATSettlementCaption">
+          <DataField>CalcandPostVATSettlementCaption</DataField>
+        </Field>
+        <Field Name="PageCaption">
+          <DataField>PageCaption</DataField>
+        </Field>
+        <Field Name="TestReportnotpostedCaption">
+          <DataField>TestReportnotpostedCaption</DataField>
+        </Field>
+        <Field Name="DocNoCaption">
+          <DataField>DocNoCaption</DataField>
+        </Field>
+        <Field Name="SettlementAccCaption">
+          <DataField>SettlementAccCaption</DataField>
+        </Field>
+        <Field Name="DocumentTypeCaption">
+          <DataField>DocumentTypeCaption</DataField>
+        </Field>
+        <Field Name="UserIDCaption">
+          <DataField>UserIDCaption</DataField>
+        </Field>
+        <Field Name="TotalCaption">
+          <DataField>TotalCaption</DataField>
+        </Field>
+        <Field Name="DocumentNoCaption">
+          <DataField>DocumentNoCaption</DataField>
+        </Field>
+        <Field Name="TypeCaption">
+          <DataField>TypeCaption</DataField>
+        </Field>
+        <Field Name="CurrencyCodeCaption">
+          <DataField>CurrencyCodeCaption</DataField>
+        </Field>
+        <Field Name="BaseFCYCaption">
+          <DataField>BaseFCYCaption</DataField>
+        </Field>
+        <Field Name="AmountFCYCaption">
+          <DataField>AmountFCYCaption</DataField>
+        </Field>
+        <Field Name="BaseCaption">
+          <DataField>BaseCaption</DataField>
+        </Field>
+        <Field Name="AmountCaption">
+          <DataField>AmountCaption</DataField>
+        </Field>
+        <Field Name="UnrealizedBaseCaption">
+          <DataField>UnrealizedBaseCaption</DataField>
+        </Field>
+        <Field Name="UnrealizedAmountCaption">
+          <DataField>UnrealizedAmountCaption</DataField>
+        </Field>
+        <Field Name="VATCalculationCaption">
+          <DataField>VATCalculationCaption</DataField>
+        </Field>
+        <Field Name="BilltoPaytoNoCaption">
+          <DataField>BilltoPaytoNoCaption</DataField>
+        </Field>
+        <Field Name="EntryNoCaption">
+          <DataField>EntryNoCaption</DataField>
+        </Field>
+        <Field Name="PostingDateCaption">
+          <DataField>PostingDateCaption</DataField>
+        </Field>
+        <Field Name="VATBusPstGr_VATPostSetup">
+          <DataField>VATBusPstGr_VATPostSetup</DataField>
+        </Field>
+        <Field Name="VATPrdPstGr_VATPostSetup">
+          <DataField>VATPrdPstGr_VATPostSetup</DataField>
+        </Field>
+        <Field Name="VATEntryGetFilterType">
+          <DataField>VATEntryGetFilterType</DataField>
+        </Field>
+        <Field Name="VATEntryGetFiltTaxJurisCd">
+          <DataField>VATEntryGetFiltTaxJurisCd</DataField>
+        </Field>
+        <Field Name="VATEntryGetFilterUseTax">
+          <DataField>VATEntryGetFilterUseTax</DataField>
+        </Field>
+        <Field Name="PostingDate_VATEntry">
+          <DataField>PostingDate_VATEntry</DataField>
+        </Field>
+        <Field Name="DocumentNo_VATEntry">
+          <DataField>DocumentNo_VATEntry</DataField>
+        </Field>
+        <Field Name="DocumentType_VATEntry">
+          <DataField>DocumentType_VATEntry</DataField>
+        </Field>
+        <Field Name="Type_VATEntry">
+          <DataField>Type_VATEntry</DataField>
+        </Field>
+        <Field Name="CurrencyCode_VATEntry">
+          <DataField>CurrencyCode_VATEntry</DataField>
+        </Field>
+        <Field Name="BaseFCY_VATEntry">
+          <DataField>BaseFCY_VATEntry</DataField>
+        </Field>
+        <Field Name="BaseFCY_VATEntryFormat">
+          <DataField>BaseFCY_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="AmountFCY_VATEntry">
+          <DataField>AmountFCY_VATEntry</DataField>
+        </Field>
+        <Field Name="AmountFCY_VATEntryFormat">
+          <DataField>AmountFCY_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="Base_VATEntry">
+          <DataField>Base_VATEntry</DataField>
+        </Field>
+        <Field Name="Base_VATEntryFormat">
+          <DataField>Base_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="Amount_VATEntry">
+          <DataField>Amount_VATEntry</DataField>
+        </Field>
+        <Field Name="Amount_VATEntryFormat">
+          <DataField>Amount_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="VATCalcType_VATEntry">
+          <DataField>VATCalcType_VATEntry</DataField>
+        </Field>
+        <Field Name="BilltoPaytoNo_VATEntry">
+          <DataField>BilltoPaytoNo_VATEntry</DataField>
+        </Field>
+        <Field Name="EntryNo_VATEntry">
+          <DataField>EntryNo_VATEntry</DataField>
+        </Field>
+        <Field Name="UserID_VATEntry">
+          <DataField>UserID_VATEntry</DataField>
+        </Field>
+        <Field Name="UnrealizedAmount_VATEntry">
+          <DataField>UnrealizedAmount_VATEntry</DataField>
+        </Field>
+        <Field Name="UnrealizedAmount_VATEntryFormat">
+          <DataField>UnrealizedAmount_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="UnrealizedBase_VATEntry">
+          <DataField>UnrealizedBase_VATEntry</DataField>
+        </Field>
+        <Field Name="UnrealizedBase_VATEntryFormat">
+          <DataField>UnrealizedBase_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="AddCurrUnrlzdAmt_VATEntry">
+          <DataField>AddCurrUnrlzdAmt_VATEntry</DataField>
+        </Field>
+        <Field Name="AddCurrUnrlzdAmt_VATEntryFormat">
+          <DataField>AddCurrUnrlzdAmt_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="AddCurrUnrlzdBas_VATEntry">
+          <DataField>AddCurrUnrlzdBas_VATEntry</DataField>
+        </Field>
+        <Field Name="AddCurrUnrlzdBas_VATEntryFormat">
+          <DataField>AddCurrUnrlzdBas_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="AdditionlCurrAmt_VATEntry">
+          <DataField>AdditionlCurrAmt_VATEntry</DataField>
+        </Field>
+        <Field Name="AdditionlCurrAmt_VATEntryFormat">
+          <DataField>AdditionlCurrAmt_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="AdditinlCurrBase_VATEntry">
+          <DataField>AdditinlCurrBase_VATEntry</DataField>
+        </Field>
+        <Field Name="AdditinlCurrBase_VATEntryFormat">
+          <DataField>AdditinlCurrBase_VATEntryFormat</DataField>
+        </Field>
+        <Field Name="PostingDate1">
+          <DataField>PostingDate1</DataField>
+        </Field>
+        <Field Name="GenJnlLineDocumentNo">
+          <DataField>GenJnlLineDocumentNo</DataField>
+        </Field>
+        <Field Name="GenJnlLineCurrencyCode">
+          <DataField>GenJnlLineCurrencyCode</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATBaseAmount">
+          <DataField>GenJnlLineVATBaseAmount</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATBaseAmountFormat">
+          <DataField>GenJnlLineVATBaseAmountFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATAmount">
+          <DataField>GenJnlLineVATAmount</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATAmountFormat">
+          <DataField>GenJnlLineVATAmountFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATBaseAmountLCY">
+          <DataField>GenJnlLineVATBaseAmountLCY</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATBaseAmountLCYFormat">
+          <DataField>GenJnlLineVATBaseAmountLCYFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATAmountLCY">
+          <DataField>GenJnlLineVATAmountLCY</DataField>
+        </Field>
+        <Field Name="GenJnlLineVATAmountLCYFormat">
+          <DataField>GenJnlLineVATAmountLCYFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLnVATCalcType">
+          <DataField>GenJnlLnVATCalcType</DataField>
+        </Field>
+        <Field Name="NextVATEntryNo">
+          <DataField>NextVATEntryNo</DataField>
+        </Field>
+        <Field Name="GenJnlLnSrcCurrVATAmount">
+          <DataField>GenJnlLnSrcCurrVATAmount</DataField>
+        </Field>
+        <Field Name="GenJnlLnSrcCurrVATAmountFormat">
+          <DataField>GenJnlLnSrcCurrVATAmountFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLnSrcCurrVATBaseAmt">
+          <DataField>GenJnlLnSrcCurrVATBaseAmt</DataField>
+        </Field>
+        <Field Name="GenJnlLnSrcCurrVATBaseAmtFormat">
+          <DataField>GenJnlLnSrcCurrVATBaseAmtFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLine2CurrencyCode">
+          <DataField>GenJnlLine2CurrencyCode</DataField>
+        </Field>
+        <Field Name="GenJnlLine2Amount">
+          <DataField>GenJnlLine2Amount</DataField>
+        </Field>
+        <Field Name="GenJnlLine2AmountFormat">
+          <DataField>GenJnlLine2AmountFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLine2AmountLCY">
+          <DataField>GenJnlLine2AmountLCY</DataField>
+        </Field>
+        <Field Name="GenJnlLine2AmountLCYFormat">
+          <DataField>GenJnlLine2AmountLCYFormat</DataField>
+        </Field>
+        <Field Name="GenJnlLine2DocumentNo">
+          <DataField>GenJnlLine2DocumentNo</DataField>
+        </Field>
+        <Field Name="ReversingEntry">
+          <DataField>ReversingEntry</DataField>
+        </Field>
+        <Field Name="GenJnlLn2SrcCurrencyAmt">
+          <DataField>GenJnlLn2SrcCurrencyAmt</DataField>
+        </Field>
+        <Field Name="GenJnlLn2SrcCurrencyAmtFormat">
+          <DataField>GenJnlLn2SrcCurrencyAmtFormat</DataField>
+        </Field>
+        <Field Name="SettlementCaption">
+          <DataField>SettlementCaption</DataField>
+        </Field>
+      </Fields>
+      <rd:DataSetInfo>
+        <rd:DataSetName>DataSet</rd:DataSetName>
+        <rd:SchemaPath>Report.xsd</rd:SchemaPath>
+        <rd:TableName>Result</rd:TableName>
+      </rd:DataSetInfo>
+    </DataSet>
+  </DataSets>
+  <ReportSections>
+    <ReportSection>
+      <Body>
+        <ReportItems>
+          <Textbox Name="TestReportnotpostedCaption">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!TestReportnotpostedCaption.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                      <FontWeight>Bold</FontWeight>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style />
+              </Paragraph>
+            </Paragraphs>
+            <Height>0.423cm</Height>
+            <Width>7.5cm</Width>
+            <Visibility>
+              <Hidden>=IIF(Fields!PostSettlement.Value=TRUE,TRUE,FALSE)</Hidden>
+            </Visibility>
+            <DataElementOutput>NoOutput</DataElementOutput>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Tablix Name="Table1">
+            <TablixBody>
+              <TablixColumns>
+                <TablixColumn>
+                  <Width>1.8511cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.57434cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.4716cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.4716cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>0.77854cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.8cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.8cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.8cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.8cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.8cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.8cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.27cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.96174cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>1.41478cm</Width>
+                </TablixColumn>
+                <TablixColumn>
+                  <Width>2.3525cm</Width>
+                </TablixColumn>
+              </TablixColumns>
+              <TablixRows>
+                <TablixRow>
+                  <Height>0.95237cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryPostingDateCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!PostingDateCaption.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>125</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryDocumentNoCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!DocumentNoCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>124</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryDocumentTypeCaption">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!DocumentTypeCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>123</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryTypeCaption">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!TypeCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>122</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox41">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=first(Fields!CurrencyCodeCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox41</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox15">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=first(Fields!BaseFCYCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox15</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox2">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=first(Fields!AmountFCYCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox2</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryBaseCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!BaseCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>121</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryAmountCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!AmountCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>120</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryUnrealizedBaseCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!UnrealizedBaseCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>119</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryUnrealizedAmountCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!UnrealizedAmountCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>118</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryVATCalculationTypeCaption">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VATCalculationCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>117</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryBilltoPaytoNoCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!BilltoPaytoNoCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>116</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryEntryNoCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!EntryNoCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>115</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryUserIDCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!UserIDCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>114</ZIndex>
+                          <Style>
+                            <VerticalAlign>Bottom</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>8pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.42301cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATPostingSetupVATBusPostingGroup">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VATBusPstGr_VATPostSetup.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>VATPostingSetupVATBusPostingGroup1</rd:DefaultName>
+                          <ZIndex>101</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATPostingSetupVATProdPostingGroup">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VATPrdPstGr_VATPostSetup.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>VATPostingSetupVATProdPostingGroup1</rd:DefaultName>
+                          <ZIndex>100</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>2</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryGETFILTERType">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VATEntryGetFilterType.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>VATEntryGETFILTERType</rd:DefaultName>
+                          <ZIndex>99</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>5</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryGETFILTERTaxJurisdictionCode">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VATEntryGetFiltTaxJurisCd.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>VATEntryGETFILTERTaxJurisdictionCode</rd:DefaultName>
+                          <ZIndex>98</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryGETFILTERUseTax">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!VATEntryGetFilterUseTax.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>VATEntryGETFILTERUseTax</rd:DefaultName>
+                          <ZIndex>97</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox9">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox9</rd:DefaultName>
+                          <ZIndex>96</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox10">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox10</rd:DefaultName>
+                          <ZIndex>95</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox20">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox20</rd:DefaultName>
+                          <ZIndex>94</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox211">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox21</rd:DefaultName>
+                          <ZIndex>93</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox22">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox22</rd:DefaultName>
+                          <ZIndex>92</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.42301cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryPostingDate">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!PostingDate_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>d</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>91</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryDocumentNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!DocumentNo_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>90</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryDocumentType">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!DocumentType_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>89</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryType">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Type_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>88</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox33">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!CurrencyCode_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox33</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox32">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!BaseFCY_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!BaseFCY_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox32</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox3">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!AmountFCY_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!AmountFCY_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox3</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryBase">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Base_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!Base_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>87</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Amount_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!Amount_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>86</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryUnrealizedBase">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!UnrealizedBase_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!UnrealizedBase_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>85</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryUnrealizedAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!UnrealizedAmount_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!UnrealizedAmount_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>84</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryVATCalculationType">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VATCalcType_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>83</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryBilltoPaytoNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!BilltoPaytoNo_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>82</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryEntryNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!EntryNo_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>81</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryUserID">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!UserID_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>80</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.42301cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryPostingDateControl65">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!PostingDate_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>d</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>79</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryDocumentNoControl64">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!DocumentNo_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>78</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryDocumentTypeControl63">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!DocumentType_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>77</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryTypeControl62">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!Type_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>76</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox34">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!CurrencyCode_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox34</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox42">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!BaseFCY_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!BaseFCY_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox42</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox5">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!AmountFCY_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!AmountFCY_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox5</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryAdditionalCurrencyBase">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!AdditinlCurrBase_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!AdditinlCurrBase_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>75</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryAdditionalCurrencyAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!AdditionlCurrAmt_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!AdditionlCurrAmt_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>74</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryAddCurrencyUnrealizedBase">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!AddCurrUnrlzdBas_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!AddCurrUnrlzdBas_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>73</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryAddCurrencyUnrealizedAmt">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!AddCurrUnrlzdAmt_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <Format>=Fields!AddCurrUnrlzdAmt_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>72</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryVATCalculationTypeControl57">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!VATCalcType_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>71</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryBilltoPaytoNoControl56">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!BilltoPaytoNo_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>70</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryEntryNoControl55">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!EntryNo_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>69</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATEntryUserIDControl54">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!UserID_VATEntry.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>68</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.42301cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="PostingDate1">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!PostingDate.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>d</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>PostingDate_1</rd:DefaultName>
+                          <ZIndex>67</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GenJnlLineDocumentNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineDocumentNo.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>GenJnlLineDocumentNo</rd:DefaultName>
+                          <ZIndex>66</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox23">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox23</rd:DefaultName>
+                          <ZIndex>65</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox27">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!SettlementCaption.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox27</rd:DefaultName>
+                          <ZIndex>64</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox37">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineCurrencyCode.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox37</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox43">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineVATBaseAmount.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLineVATBaseAmountFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox43</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox7">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineVATAmount.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLineVATAmountFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox7</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GenJnlLineVATBaseAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineVATBaseAmountLCY.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLineVATBaseAmountLCYFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>GenJnlLineVATBaseAmount</rd:DefaultName>
+                          <ZIndex>63</ZIndex>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GenJnlLineVATAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineVATAmountLCY.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLineVATAmountLCYFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>GenJnlLineVATAmount</rd:DefaultName>
+                          <ZIndex>62</ZIndex>
+                          <Style>
+                            <Border />
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox60">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdBas_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox60</rd:DefaultName>
+                          <ZIndex>61</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox61">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdAmt_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox61</rd:DefaultName>
+                          <ZIndex>60</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="FORMATGenJnlLineVATCalculationType">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLnVATCalcType.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>FORMATGenJnlLineVATCalculationType</rd:DefaultName>
+                          <ZIndex>59</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox63">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox63</rd:DefaultName>
+                          <ZIndex>58</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="NextVATEntryNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!NextVATEntryNo.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>NextVATEntryNo</rd:DefaultName>
+                          <ZIndex>57</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox65">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox65</rd:DefaultName>
+                          <ZIndex>56</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.42301cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox80">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!PostingDate.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>d</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>55</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox54">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineDocumentNo.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>54</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox35">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox35</rd:DefaultName>
+                          <ZIndex>53</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox26">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!SettlementCaption.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox26</rd:DefaultName>
+                          <ZIndex>52</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox38">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineCurrencyCode.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox38</rd:DefaultName>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox44">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineVATBaseAmount.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLineVATBaseAmountFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox44</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox12">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLineVATAmount.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLineVATAmountFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox12</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GenJnlLineSourceCurrVATBaseAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLnSrcCurrVATBaseAmt.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLnSrcCurrVATBaseAmtFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>GenJnlLineSourceCurrVATBaseAmount</rd:DefaultName>
+                          <ZIndex>51</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GenJnlLineSourceCurrVATAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLnSrcCurrVATAmount.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLnSrcCurrVATAmountFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>GenJnlLineSourceCurrVATAmount</rd:DefaultName>
+                          <ZIndex>50</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox70">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdBas_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox70</rd:DefaultName>
+                          <ZIndex>49</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox712">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdAmt_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox71</rd:DefaultName>
+                          <ZIndex>48</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox57">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLnVATCalcType.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>47</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox73">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox73</rd:DefaultName>
+                          <ZIndex>46</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="NextVATEntryNo1">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!NextVATEntryNo.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>NextVATEntryNo_1</rd:DefaultName>
+                          <ZIndex>45</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox75">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox75</rd:DefaultName>
+                          <ZIndex>44</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.42301cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="PostingDateControl28">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!PostingDate1.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>d</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>PostingDateControl28</rd:DefaultName>
+                          <ZIndex>43</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GenJnlLine2DocumentNo">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLine2DocumentNo.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>GenJnlLine2DocumentNo</rd:DefaultName>
+                          <ZIndex>42</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox36">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox36</rd:DefaultName>
+                          <ZIndex>41</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox30">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!SettlementCaption.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox30</rd:DefaultName>
+                          <ZIndex>40</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox39">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLine2CurrencyCode.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox39</rd:DefaultName>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox45">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox45</rd:DefaultName>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox13">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLine2Amount.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLine2AmountFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox13</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox58">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox58</rd:DefaultName>
+                          <ZIndex>39</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="GenJnlLine2Amount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLine2AmountLCY.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLine2AmountLCYFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>GenJnlLine2Amount</rd:DefaultName>
+                          <ZIndex>38</ZIndex>
+                          <Style>
+                            <Border />
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox83">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdBas_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox83</rd:DefaultName>
+                          <ZIndex>37</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox84">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdAmt_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox84</rd:DefaultName>
+                          <ZIndex>36</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox85">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox85</rd:DefaultName>
+                          <ZIndex>35</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox86">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox86</rd:DefaultName>
+                          <ZIndex>34</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox87">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox87</rd:DefaultName>
+                          <ZIndex>33</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox88">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox88</rd:DefaultName>
+                          <ZIndex>32</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.42301cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox55">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!PostingDate1.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>d</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>11</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox56">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLine2DocumentNo.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>10</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox95">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox95</rd:DefaultName>
+                          <ZIndex>9</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox313">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!SettlementCaption.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox31</rd:DefaultName>
+                          <ZIndex>8</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox40">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLine2CurrencyCode.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox40</rd:DefaultName>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox46">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox46</rd:DefaultName>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="Textbox14">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLine2Amount.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLine2AmountFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>Textbox14</rd:DefaultName>
+                          <Style>
+                            <Border />
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox97">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox97</rd:DefaultName>
+                          <ZIndex>7</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox98">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Fields!GenJnlLn2SrcCurrencyAmt.Value</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!GenJnlLn2SrcCurrencyAmtFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox98</rd:DefaultName>
+                          <ZIndex>6</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox99">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdBas_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox99</rd:DefaultName>
+                          <ZIndex>5</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox100">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=Fields!AddCurrUnrlzdAmt_VATEntryFormat.Value</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox100</rd:DefaultName>
+                          <ZIndex>4</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox1014">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox101</rd:DefaultName>
+                          <ZIndex>3</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox102">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox102</rd:DefaultName>
+                          <ZIndex>2</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox103">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox103</rd:DefaultName>
+                          <ZIndex>1</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox104">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox104</rd:DefaultName>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.46228cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox1">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>21</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox11">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>20</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATAmountCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!TotalCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>19</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>6</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATAmountAddCurr">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Last(Fields!VATAmountAddCurr.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=First(Fields!VATAmountAddCurrFormat.Value)</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>18</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox6">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=First(Fields!VATAmountAddCurrFormat.Value)</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox6</rd:DefaultName>
+                          <ZIndex>17</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox4">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox4</rd:DefaultName>
+                          <ZIndex>16</ZIndex>
+                          <Style>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox16">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>15</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox17">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>14</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox18">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>13</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox19">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>12</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+                <TablixRow>
+                  <Height>0.46228cm</Height>
+                  <TablixCells>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox110">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>31</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox111">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>30</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATAmountAddCurrCaption">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=First(Fields!TotalCaption.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>29</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                        <ColSpan>6</ColSpan>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell />
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="VATAmount">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto">=Last(Fields!VATAmount.Value)</Value>
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=First(Fields!VATAmountFormat.Value)</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>28</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="textbox8">
+                          <CanGrow>true</CanGrow>
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style>
+                                    <FontSize>7pt</FontSize>
+                                    <FontWeight>Bold</FontWeight>
+                                    <Format>=First(Fields!VATAmountFormat.Value)</Format>
+                                  </Style>
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <rd:DefaultName>textbox8</rd:DefaultName>
+                          <ZIndex>27</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>0.075cm</PaddingLeft>
+                            <PaddingRight>0.075cm</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox1155">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>26</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox116">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>25</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox117">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style>
+                                <TextAlign>Right</TextAlign>
+                              </Style>
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>24</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox118">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>23</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                    <TablixCell>
+                      <CellContents>
+                        <Textbox Name="TextBox119">
+                          <KeepTogether>true</KeepTogether>
+                          <Paragraphs>
+                            <Paragraph>
+                              <TextRuns>
+                                <TextRun>
+                                  <Value EvaluationMode="Auto" />
+                                  <Style />
+                                </TextRun>
+                              </TextRuns>
+                              <Style />
+                            </Paragraph>
+                          </Paragraphs>
+                          <ZIndex>22</ZIndex>
+                          <Style>
+                            <VerticalAlign>Middle</VerticalAlign>
+                            <PaddingLeft>2pt</PaddingLeft>
+                            <PaddingRight>2pt</PaddingRight>
+                            <PaddingTop>2pt</PaddingTop>
+                            <PaddingBottom>2pt</PaddingBottom>
+                          </Style>
+                        </Textbox>
+                      </CellContents>
+                    </TablixCell>
+                  </TablixCells>
+                </TablixRow>
+              </TablixRows>
+            </TablixBody>
+            <TablixColumnHierarchy>
+              <TablixMembers>
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+                <TablixMember />
+              </TablixMembers>
+            </TablixColumnHierarchy>
+            <TablixRowHierarchy>
+              <TablixMembers>
+                <TablixMember>
+                  <KeepWithGroup>After</KeepWithGroup>
+                  <RepeatOnNewPage>true</RepeatOnNewPage>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+                <TablixMember>
+                  <Group Name="Table1_Group2">
+                    <GroupExpressions>
+                      <GroupExpression>=Fields!VATBusPstGr_VATPostSetup.Value</GroupExpression>
+                      <GroupExpression>=Fields!VATPrdPstGr_VATPostSetup.Value</GroupExpression>
+                      <GroupExpression>=Fields!VATEntryGetFilterType.Value</GroupExpression>
+                    </GroupExpressions>
+                  </Group>
+                  <TablixMembers>
+                    <TablixMember>
+                      <KeepWithGroup>After</KeepWithGroup>
+                      <KeepTogether>true</KeepTogether>
+                    </TablixMember>
+                    <TablixMember>
+                      <Group Name="Table1_Details_Group">
+                        <DataElementName>Detail</DataElementName>
+                      </Group>
+                      <TablixMembers>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF(Fields!PrintVATEntries.Value=TRUE AND Fields!UseAmtsInAddCurr.Value=FALSE AND Fields!EntryNo_VATEntry.Value&lt;&gt;0,FALSE,TRUE)</Hidden>
+                          </Visibility>
+                        </TablixMember>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF(Fields!PrintVATEntries.Value=TRUE AND Fields!UseAmtsInAddCurr.Value=TRUE AND Fields!EntryNo_VATEntry.Value&lt;&gt;0,FALSE,TRUE)</Hidden>
+                          </Visibility>
+                        </TablixMember>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF(Fields!GenJnlLineDocumentNo.Value&lt;&gt;"" AND Fields!UseAmtsInAddCurr.Value=FALSE,FALSE,TRUE)</Hidden>
+                          </Visibility>
+                        </TablixMember>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF(Fields!GenJnlLineDocumentNo.Value&lt;&gt;"" AND Fields!UseAmtsInAddCurr.Value=TRUE,FALSE,TRUE)</Hidden>
+                          </Visibility>
+                        </TablixMember>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF(Fields!GenJnlLineDocumentNo.Value&lt;&gt;"" AND Fields!ReversingEntry.Value=TRUE,FALSE,TRUE)</Hidden>
+                          </Visibility>
+                        </TablixMember>
+                        <TablixMember>
+                          <Visibility>
+                            <Hidden>=IIF(Fields!GenJnlLine2DocumentNo.Value&lt;&gt;"" AND Fields!ReversingEntry.Value=TRUE AND Fields!UseAmtsInAddCurr.Value=TRUE,FALSE,TRUE)</Hidden>
+                          </Visibility>
+                        </TablixMember>
+                      </TablixMembers>
+                      <DataElementName>Detail_Collection</DataElementName>
+                      <DataElementOutput>Output</DataElementOutput>
+                      <KeepTogether>true</KeepTogether>
+                    </TablixMember>
+                  </TablixMembers>
+                </TablixMember>
+                <TablixMember>
+                  <Visibility>
+                    <Hidden>=IIF(Fields!UseAmtsInAddCurr.Value=FALSE,TRUE,FALSE)</Hidden>
+                  </Visibility>
+                  <KeepWithGroup>Before</KeepWithGroup>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+                <TablixMember>
+                  <Visibility>
+                    <Hidden>=IIF(Fields!UseAmtsInAddCurr.Value=TRUE,TRUE,FALSE)</Hidden>
+                  </Visibility>
+                  <KeepWithGroup>Before</KeepWithGroup>
+                  <KeepTogether>true</KeepTogether>
+                </TablixMember>
+              </TablixMembers>
+            </TablixRowHierarchy>
+            <DataSetName>DataSet_Result</DataSetName>
+            <Top>3.49206cm</Top>
+            <Height>4.838cm</Height>
+            <Width>23.9462cm</Width>
+            <ZIndex>1</ZIndex>
+            <Style />
+          </Tablix>
+          <Textbox Name="HeaderText">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!HeaderText.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style />
+              </Paragraph>
+            </Paragraphs>
+            <Top>2.85714cm</Top>
+            <Height>0.423cm</Height>
+            <Width>3.75cm</Width>
+            <ZIndex>2</ZIndex>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Textbox Name="VATPostingSetupTABLECAPTIONVATPostingSetupFilter">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!VATPostingSetupCaption.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style />
+              </Paragraph>
+            </Paragraphs>
+            <Top>2.22222cm</Top>
+            <Height>0.423cm</Height>
+            <Width>17.77778cm</Width>
+            <ZIndex>3</ZIndex>
+            <Visibility>
+              <Hidden>=IIF(Fields!VATPostingSetupFilter.Value="",TRUE,FALSE)</Hidden>
+            </Visibility>
+            <DataElementOutput>NoOutput</DataElementOutput>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Textbox Name="GLAccSettleNo">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!GLAccSettleNo.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style>
+                  <TextAlign>Left</TextAlign>
+                </Style>
+              </Paragraph>
+            </Paragraphs>
+            <Top>1.48092cm</Top>
+            <Left>3.15cm</Left>
+            <Height>0.423cm</Height>
+            <Width>3cm</Width>
+            <ZIndex>4</ZIndex>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Textbox Name="GLAccSettleNoCaption">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!SettlementAccCaption.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style />
+              </Paragraph>
+            </Paragraphs>
+            <Top>1.48092cm</Top>
+            <Height>0.423cm</Height>
+            <Width>3cm</Width>
+            <ZIndex>5</ZIndex>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Textbox Name="DocNo">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!DocNo.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style>
+                  <TextAlign>Left</TextAlign>
+                </Style>
+              </Paragraph>
+            </Paragraphs>
+            <Top>1.05792cm</Top>
+            <Left>3.15cm</Left>
+            <Height>0.423cm</Height>
+            <Width>1.5cm</Width>
+            <ZIndex>6</ZIndex>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Textbox Name="DocNoCaption">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!DocNoCaption.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style />
+              </Paragraph>
+            </Paragraphs>
+            <Top>1.05792cm</Top>
+            <Height>0.423cm</Height>
+            <Width>3cm</Width>
+            <ZIndex>7</ZIndex>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Textbox Name="PostingDate">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=First(Fields!PostingDate.Value)</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                      <Format>d</Format>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style>
+                  <TextAlign>Left</TextAlign>
+                </Style>
+              </Paragraph>
+            </Paragraphs>
+            <Top>0.63492cm</Top>
+            <Left>3.15cm</Left>
+            <Height>0.423cm</Height>
+            <Width>1.6119cm</Width>
+            <ZIndex>8</ZIndex>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+          <Textbox Name="PostingDateCaption">
+            <KeepTogether>true</KeepTogether>
+            <Paragraphs>
+              <Paragraph>
+                <TextRuns>
+                  <TextRun>
+                    <Value EvaluationMode="Auto">=Fields!PostingDateCaption.Value</Value>
+                    <Style>
+                      <FontSize>7pt</FontSize>
+                    </Style>
+                  </TextRun>
+                </TextRuns>
+                <Style />
+              </Paragraph>
+            </Paragraphs>
+            <Top>0.63492cm</Top>
+            <Height>0.423cm</Height>
+            <Width>3cm</Width>
+            <ZIndex>9</ZIndex>
+            <Style>
+              <VerticalAlign>Middle</VerticalAlign>
+            </Style>
+          </Textbox>
+        </ReportItems>
+        <Height>8.33008cm</Height>
+        <Style />
+      </Body>
+      <Width>23.9462cm</Width>
+      <Page>
+        <PageHeader>
+          <Height>1.5873cm</Height>
+          <PrintOnFirstPage>true</PrintOnFirstPage>
+          <PrintOnLastPage>true</PrintOnLastPage>
+          <ReportItems>
+            <Textbox Name="CurrReportPAGENOCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=First(Fields!PageCaption.Value,"DataSet_Result") &amp; " " &amp; Globals!PageNumber</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.423cm</Top>
+              <Left>22.74619cm</Left>
+              <Height>0.423cm</Height>
+              <Width>0.75cm</Width>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="CalcandPostVATSettlementCaption1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Fields!CalcandPostVATSettlementCaption.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Height>0.423cm</Height>
+              <Width>7.5cm</Width>
+              <ZIndex>1</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="COMPANYNAME16">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Fields!CompanyName.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.846cm</Top>
+              <Height>0.423cm</Height>
+              <Width>7.5cm</Width>
+              <ZIndex>2</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="STRSUBSTNOText005VATDateFilter1">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Fields!PeriodVATDateFilter.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style />
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.423cm</Top>
+              <Height>0.423cm</Height>
+              <Width>7.5cm</Width>
+              <ZIndex>3</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="ExecutionTimeTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Fields!TodayFormatted.Value</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                        <Format>D</Format>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Left>20.69619cm</Left>
+              <Height>0.423cm</Height>
+              <Width>3.25cm</Width>
+              <ZIndex>4</ZIndex>
+              <Style>
+                <Border />
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="UserIdTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=User!UserID</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.846cm</Top>
+              <Left>20.69619cm</Left>
+              <Height>0.423cm</Height>
+              <Width>3.25cm</Width>
+              <ZIndex>5</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+            <Textbox Name="PageNumberTextBox">
+              <KeepTogether>true</KeepTogether>
+              <Paragraphs>
+                <Paragraph>
+                  <TextRuns>
+                    <TextRun>
+                      <Value EvaluationMode="Auto">=Globals!PageNumber</Value>
+                      <Style>
+                        <FontSize>7pt</FontSize>
+                      </Style>
+                    </TextRun>
+                  </TextRuns>
+                  <Style>
+                    <TextAlign>Right</TextAlign>
+                  </Style>
+                </Paragraph>
+              </Paragraphs>
+              <Top>0.423cm</Top>
+              <Left>23.49619cm</Left>
+              <Height>0.423cm</Height>
+              <Width>0.45cm</Width>
+              <ZIndex>6</ZIndex>
+              <Style>
+                <VerticalAlign>Middle</VerticalAlign>
+              </Style>
+            </Textbox>
+          </ReportItems>
+          <Style />
+        </PageHeader>
+        <PageHeight>21cm</PageHeight>
+        <PageWidth>29.7cm</PageWidth>
+        <InteractiveHeight>21cm</InteractiveHeight>
+        <InteractiveWidth>29.7cm</InteractiveWidth>
+        <LeftMargin>2cm</LeftMargin>
+        <RightMargin>2cm</RightMargin>
+        <TopMargin>1.5cm</TopMargin>
+        <Style />
+      </Page>
+    </ReportSection>
+  </ReportSections>
+  <ReportParametersLayout>
+    <GridLayoutDefinition>
+      <NumberOfColumns>4</NumberOfColumns>
+      <NumberOfRows>2</NumberOfRows>
+    </GridLayoutDefinition>
+  </ReportParametersLayout>
+  <Code>Public Function BlankZero(ByVal Value As Decimal)
+    if Value = 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankPos(ByVal Value As Decimal)
+    if Value &gt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankZeroAndPos(ByVal Value As Decimal)
+    if Value &gt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNeg(ByVal Value As Decimal)
+    if Value &lt; 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+
+Public Function BlankNegAndZero(ByVal Value As Decimal)
+    if Value &lt;= 0 then
+        Return ""
+    end if
+    Return Value
+End Function
+</Code>
+  <rd:ReportUnitType>Cm</rd:ReportUnitType>
+  <rd:ReportID>87d51969-3dfa-442e-aacd-c31d5d23387b</rd:ReportID>
+</Report>
+    END_OF_RDLDATA
+  }
+}
+
diff --git a/report/report_0005274298.txt b/report/report_0005274298.txt
new file mode 100644
index 0000000..2d127fa
--- /dev/null
+++ b/report/report_0005274298.txt
@@ -0,0 +1,96 @@
+OBJECT Report 5274298 P4 DataUpgrade Cleanup
+{
+  OBJECT-PROPERTIES
+  {
+    Date=13.05.18;
+    Time=16:56:21;
+    Version List=P4BB2.04;
+  }
+  PROPERTIES
+  {
+    CaptionML=ENU=P4 DataUpgrade Cleanup;
+    ProcessingOnly=Yes;
+    OnPostReport=VAR
+                   DoDelete@1000 : Boolean;
+                 BEGIN
+                   DataUpgradeCodeUnit.SETRANGE(Type,DataUpgradeCodeUnit.Type::Codeunit);
+                   DataUpgradeCodeUnit.SETRANGE(ID,5274298);
+                   IF DataUpgradeCodeUnit.FINDFIRST THEN BEGIN
+                     IF DataUpgradeCodeUnit.Modified THEN
+                       DoDelete := CONFIRM(ConfirmDelete,FALSE,DataUpgradeCodeUnit.ID)
+                     ELSE
+                       DoDelete := TRUE;
+                     IF DoDelete THEN
+                       DataUpgradeCodeUnit.DELETE;
+                   END;
+                   MESSAGE(MsgDone);
+                 END;
+
+  }
+  DATASET
+  {
+    { 1   ;    ;DataItem;                    ;
+               DataItemTable=Table2000000006;
+               DataItemTableView=SORTING(Name);
+               OnAfterGetRecord=BEGIN
+                                  "DataUpgrade Setup".CHANGECOMPANY(Company.Name);
+                                END;
+                                 }
+
+    { 2   ;1   ;DataItem;                    ;
+               DataItemTable=Table5274105;
+               DataItemTableView=SORTING(Primary Key);
+               OnAfterGetRecord=BEGIN
+                                  IsDataUpgrade := FALSE;
+                                  MODIFY;
+                                END;
+                                 }
+
+  }
+  REQUESTPAGE
+  {
+    PROPERTIES
+    {
+    }
+    CONTROLS
+    {
+    }
+  }
+  LABELS
+  {
+  }
+  CODE
+  {
+    VAR
+      DataUpgradeCodeUnit@1000 : Record 2000000001;
+      ConfirmDelete@1001 : TextConst 'ENU=The DataUpgrade code unit %1 has been changed. Do you really want it deleted?';
+      MsgDone@1002 : TextConst 'ENU=Done.';
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.03             13.05.2018
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     13.05.2018    os.jgl  P4BB    clean up the IsDataUpgrade-Flag in table DataUpgrade Setup
+                                              option: delete the DataUpgrade codeunit
+    }
+    END.
+  }
+  RDLDATA
+  {
+  }
+}
+
diff --git a/report/report_0005274299.txt b/report/report_0005274299.txt
new file mode 100644
index 0000000..e1a6f35
--- /dev/null
+++ b/report/report_0005274299.txt
@@ -0,0 +1,264 @@
+OBJECT Report 5274299 P4TC Conversion
+{
+  OBJECT-PROPERTIES
+  {
+    Date=06.10.17;
+    Time=12:00:00;
+    Version List=P4TC3.01;
+  }
+  PROPERTIES
+  {
+    Permissions=TableData 17=rm,
+                TableData 254=rm;
+    CaptionML=ENU=P4TC Conversion;
+    ProcessingOnly=Yes;
+    OnPreReport=BEGIN
+                  //OS005s os.jgl
+                  Window.OPEN(Text5274203+Text5274200);
+                  //OS005e os.jgl
+                END;
+
+    OnPostReport=BEGIN
+                   Window.CLOSE;
+                   MESSAGE(Text5274201);
+                 END;
+
+  }
+  DATASET
+  {
+    { 4444;    ;DataItem;                    ;
+               DataItemTable=Table2000000006;
+               DataItemTableView=SORTING(Name);
+               OnAfterGetRecord=BEGIN
+                                  //OS005s os.jgl
+                                  Window.UPDATE(3,Company.Name);
+                                  //OS005e os.jgl
+                                  //OS002s os.jgl
+                                  SourceCode.CHANGECOMPANY(Company.Name);
+                                  SourceCodeSetup.CHANGECOMPANY(Company.Name);
+                                  IF SourceCodeSetup.GET THEN BEGIN
+                                    IF NOT SourceCode.GET('SYSTEM') THEN BEGIN
+                                      SourceCode.Code := 'SYSTEM';
+                                      SourceCode.Description := Text5274202;
+                                      SourceCode.INSERT;
+                                    END;
+                                    SourceCodeSetup."System Journal" := 'SYSTEM';
+                                    SourceCodeSetup.MODIFY;
+                                  END;
+                                  //OS002e os.jgl
+                                  //OS006s os.jgl
+                                  GenJnlTemplate.CHANGECOMPANY(Company.Name);
+                                  GenJnlTemplate.INIT;
+                                  GenJnlTemplate.Type := GenJnlTemplate.Type::System;
+                                  GenJnlTemplate.Recurring := FALSE;
+                                  GenJnlTemplate.Name := 'SYSTEM';
+                                  GenJnlTemplate.Description := Text5274202;
+                                  GenJnlTemplate.VALIDATE(Type);
+                                  IF GenJnlTemplate.INSERT THEN;
+                                  GenJnlBatch.CHANGECOMPANY(Company.Name);
+                                  GenJnlBatch.INIT;
+                                  GenJnlBatch."Journal Template Name" := GenJnlTemplate.Name;
+                                  GenJnlBatch."Bal. Account Type" := GenJnlTemplate."Bal. Account Type";
+                                  GenJnlBatch."Bal. Account No." := GenJnlTemplate."Bal. Account No.";
+                                  GenJnlBatch."No. Series" := GenJnlTemplate."No. Series";
+                                  GenJnlBatch."Posting No. Series" := GenJnlTemplate."Posting No. Series";
+                                  GenJnlBatch."Reason Code" := GenJnlTemplate."Reason Code";
+                                  GenJnlBatch."Copy VAT Setup to Jnl. Lines" := GenJnlTemplate."Copy VAT Setup to Jnl. Lines";
+                                  GenJnlBatch."Allow VAT Difference" := GenJnlTemplate."Allow VAT Difference";
+                                  GenJnlBatch.Name := Text5274204;
+                                  GenJnlBatch.Description := Text5274205;
+                                  //OS010s os.jgl
+                                  IF GenJnlBatch.INSERT THEN;
+                                  //OS010e os.jgl
+                                  //OS006e os.jgl
+                                END;
+                                 }
+
+    { 4558;1   ;DataItem;                    ;
+               DataItemTable=Table270;
+               DataItemTableView=SORTING(No.)
+                                 WHERE(Currency Code=FILTER(<>''));
+               OnPreDataItem=BEGIN
+                               //OS005s os.jgl
+                               Window.UPDATE(1,TABLECAPTION);
+                               CHANGECOMPANY(Company.Name);
+                               MODIFYALL("FCY Exchange Rate Adjustment",TRUE);
+                               CurrReport.BREAK;
+                               //OS005e os.jgl
+                             END;
+                              }
+
+    { 7069;1   ;DataItem;                    ;
+               DataItemTable=Table17;
+               DataItemTableView=SORTING(Entry No.)
+                                 WHERE(Currency Code=FILTER(=''));
+               OnPreDataItem=BEGIN
+                               //OS005s os.jgl
+                               Window.UPDATE(1,TABLECAPTION);
+                               CHANGECOMPANY(Company.Name);
+                               //OS005e os.jgl
+
+                               TItemCount:=COUNT;
+                               ItemCount:=0;
+
+                               LastWindowUpdate := TIME;
+                               Window.UPDATE(2,0);
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  ItemCount += 1;
+                                  IF TIME-LastWindowUpdate > 1000 THEN BEGIN
+                                    Window.UPDATE(2,ROUND(ItemCount*10000/TItemCount,100,'<'));
+                                    LastWindowUpdate := TIME;
+                                  END;
+                                  "Amount (FCY)" := Amount;
+                                  "Debit Amount (FCY)" := "Debit Amount";
+                                  "Credit Amount (FCY)" := "Credit Amount";
+                                  "VAT Amount (FCY)" := "VAT Amount";
+                                  //PX004s px.jgl
+                                  "Original Currency Factor" := 1;
+                                  "Adjusted Currency Factor" := "Original Currency Factor";
+                                  //PX004e px.jgl
+                                  MODIFY;
+                                END;
+                                 }
+
+    { 1   ;1   ;DataItem;GLEntryWithCurrency ;
+               DataItemTable=Table17;
+               DataItemTableView=SORTING(Entry No.)
+                                 WHERE(Currency Code=FILTER(<>''));
+               OnPreDataItem=BEGIN
+                               //PX004s px.jgl
+                               Window.UPDATE(1,TABLECAPTION + ' (FCY)');
+                               CHANGECOMPANY(Company.Name);
+
+                               TItemCount:=COUNT;
+                               ItemCount:=0;
+
+                               LastWindowUpdate := TIME;
+                               Window.UPDATE(2,0);
+                               //PX004e px.jgl
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  //PX004s px.jgl
+                                  ItemCount += 1;
+                                  IF TIME-LastWindowUpdate > 1000 THEN BEGIN
+                                    Window.UPDATE(2,ROUND(ItemCount*10000/TItemCount,100,'<'));
+                                    LastWindowUpdate := TIME;
+                                  END;
+                                  IF Amount <> 0 THEN BEGIN
+                                    "Original Currency Factor" := "Amount (FCY)" / Amount;
+                                  END ELSE BEGIN
+                                    "Original Currency Factor" := 0;
+                                  END;
+                                  "Adjusted Currency Factor" := "Original Currency Factor";
+                                  MODIFY;
+                                  //PX004e px.jgl
+                                END;
+                                 }
+
+    { 7612;1   ;DataItem;                    ;
+               DataItemTable=Table254;
+               DataItemTableView=SORTING(Entry No.)
+                                 WHERE(Currency Code=FILTER(=''));
+               OnPreDataItem=BEGIN
+                               //OS005s os.jgl
+                               Window.UPDATE(1,TABLECAPTION);
+                               CHANGECOMPANY(Company.Name);
+                               //OS005e os.jgl
+
+                               TItemCount:=COUNT;
+                               ItemCount:=0;
+
+                               LastWindowUpdate := TIME;
+                               Window.UPDATE(2,0);
+                             END;
+
+               OnAfterGetRecord=BEGIN
+                                  ItemCount += 1;
+                                  IF TIME-LastWindowUpdate > 1000 THEN BEGIN
+                                    Window.UPDATE(2,ROUND(ItemCount*10000/TItemCount,100,'<'));
+                                    LastWindowUpdate := TIME;
+                                  END;
+                                  "Base (FCY)" := Base;
+                                  "Amount (FCY)" := Amount;
+                                  "Unrealized Base (FCY)" := "Unrealized Base";
+                                  "Unrealized Amount (FCY)" := "Unrealized Amount";
+                                  "Remaining Unreal. Amount (FCY)" := "Remaining Unrealized Amount";
+                                  "Remaining Unreal. Base (FCY)" := "Remaining Unrealized Base";
+                                  "VAT Difference (FCY)" :="VAT Difference";
+                                  MODIFY;
+                                END;
+                                 }
+
+  }
+  REQUESTPAGE
+  {
+    PROPERTIES
+    {
+    }
+    CONTROLS
+    {
+    }
+  }
+  LABELS
+  {
+  }
+  CODE
+  {
+    VAR
+      SourceCode@119451027 : Record 230;
+      SourceCodeSetup@119451028 : Record 242;
+      GenJnlTemplate@119451036 : Record 80;
+      GenJnlBatch@119451037 : Record 232;
+      Window@119451021 : Dialog;
+      Text5274200@119451022 : TextConst 'ENU=Modifying #1################# @2@@@@@@@@@@@@@@@@@@';
+      TItemCount@119451023 : Decimal;
+      ItemCount@119451024 : Decimal;
+      LastWindowUpdate@119451025 : Time;
+      Text5274201@119451026 : TextConst 'ENU=The conversion is completed.';
+      Text5274202@119451029 : TextConst 'ENU=System posting';
+      Text5274203@119451031 : TextConst 'ENU=Company #3############################ \\';
+      Text5274204@119451038 : TextConst 'ENU=DEFAULT';
+      Text5274205@119451039 : TextConst 'ENU=Default Journal';
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             06.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     26.02.2011    os.jgl  SITC    Convert the existing companies to TransactionCurrency
+                                              T17:
+                                              - fill Amount (FCY), VAT Amount (FCY)
+                                              T254:
+                                              - fill Base (FCY), Amount (FCY), VAT Base (FCY)
+                                              no currencies will be set.
+      OS002     08.05.2011    os.jgl  SITC    T242:
+                                              - create new Source Code "SYSTEM" and add into Source Code Setup
+                                              make "safe" conversion, works even after the first post with currency
+      OS005     19.06.2011    os.jgl  SITC    added conversion for Bank accounts, show company being processed
+      OS006     16.11.2011    os.jgl  SITC    initialize System Journal Template and System Journal Batch
+      OS010     25.02.2016    os.jgl  SITC    handle changecompany-specific issue, use insert instead of insert(true)
+      PX004     04.10.2017    px.jgl  P4TC    G/LEntries: also add original currency factor and adjusted currency factor
+    }
+    END.
+  }
+  RDLDATA
+  {
+  }
+}
+
diff --git a/table/table_0000000015.txt b/table/table_0000000015.txt
index 7f0e6ec..928c084 100644
--- a/table/table_0000000015.txt
+++ b/table/table_0000000015.txt
@@ -4,11 +4,11 @@ OBJECT Table 15 G/L Account
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.01;
   }
   PROPERTIES
   {
-    DataCaptionFields=No.,Name;
+    DataCaptionFields=No.,Name,Currency Code;
     OnInsert=BEGIN
                DimMgt.UpdateDefaultDim(DATABASE::"G/L Account","No.",
                  "Global Dimension 1 Code","Global Dimension 2 Code");
@@ -209,9 +209,11 @@ OBJECT Table 15 G/L Account
                                                                                              Business Unit Code=FIELD(Business Unit Filter),
                                                                                              Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                              Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                             Currency Code=FIELD(Currency Filter),
                                                                                              Posting Date=FIELD(UPPERLIMIT(Date Filter)),
                                                                                              Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                    CaptionML=ENU=Balance at Date;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 32  ;   ;Net Change          ;Decimal       ;FieldClass=FlowField;
@@ -220,9 +222,11 @@ OBJECT Table 15 G/L Account
                                                                                              Business Unit Code=FIELD(Business Unit Filter),
                                                                                              Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                              Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                             Currency Code=FIELD(Currency Filter),
                                                                                              Posting Date=FIELD(Date Filter),
                                                                                              Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                    CaptionML=ENU=Net Change;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 33  ;   ;Budgeted Amount     ;Decimal       ;FieldClass=FlowField;
@@ -254,8 +258,10 @@ OBJECT Table 15 G/L Account
                                                                                              Business Unit Code=FIELD(Business Unit Filter),
                                                                                              Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                              Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                             Currency Code=FIELD(Currency Filter),
                                                                                              Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                    CaptionML=ENU=Balance;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 37  ;   ;Budget at Date      ;Decimal       ;FieldClass=FlowField;
@@ -344,10 +350,12 @@ OBJECT Table 15 G/L Account
                                                                                                      Business Unit Code=FIELD(Business Unit Filter),
                                                                                                      Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                      Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                     Currency Code=FIELD(Currency Filter),
                                                                                                      Posting Date=FIELD(Date Filter),
                                                                                                      Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                    CaptionML=ENU=Debit Amount;
                                                    BlankZero=Yes;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 48  ;   ;Credit Amount       ;Decimal       ;FieldClass=FlowField;
@@ -356,10 +364,12 @@ OBJECT Table 15 G/L Account
                                                                                                       Business Unit Code=FIELD(Business Unit Filter),
                                                                                                       Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                       Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                      Currency Code=FIELD(Currency Filter),
                                                                                                       Posting Date=FIELD(Date Filter),
                                                                                                       Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                    CaptionML=ENU=Credit Amount;
                                                    BlankZero=Yes;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 49  ;   ;Automatic Ext. Texts;Boolean       ;CaptionML=ENU=Automatic Ext. Texts }
@@ -403,8 +413,10 @@ OBJECT Table 15 G/L Account
                                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                    Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                   Currency Code=FIELD(Currency Filter),
                                                                                                                    Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Additional-Currency Net Change;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr=GetCurrencyCode }
@@ -415,8 +427,10 @@ OBJECT Table 15 G/L Account
                                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                    Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                   Currency Code=FIELD(Currency Filter),
                                                                                                                    Posting Date=FIELD(UPPERLIMIT(Date Filter))));
                                                    CaptionML=ENU=Add.-Currency Balance at Date;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr=GetCurrencyCode }
@@ -425,23 +439,28 @@ OBJECT Table 15 G/L Account
                                                                                                                    G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
-                                                                                                                   Global Dimension 2 Code=FIELD(Global Dimension 2 Filter)));
+                                                                                                                   Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                   Currency Code=FIELD(Currency Filter)));
                                                    CaptionML=ENU=Additional-Currency Balance;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr=GetCurrencyCode }
-    { 63  ;   ;Exchange Rate Adjustment;Option    ;AccessByPermission=TableData 4=R;
-                                                   CaptionML=ENU=Exchange Rate Adjustment;
+    { 63  ;   ;ACY Exchange Rate Adjustment;Option;AccessByPermission=TableData 4=R;
+                                                   CaptionML=ENU=Additional Currency Exchange Rate Adjustment;
                                                    OptionCaptionML=ENU=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount;
-                                                   OptionString=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount }
+                                                   OptionString=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount;
+                                                   Description=OS001 os.jgl 01.01.2011 }
     { 64  ;   ;Add.-Currency Debit Amount;Decimal ;FieldClass=FlowField;
                                                    CalcFormula=Sum("G/L Entry"."Add.-Currency Debit Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                                    G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                    Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                   Currency Code=FIELD(Currency Filter),
                                                                                                                    Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Add.-Currency Debit Amount;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr=GetCurrencyCode }
@@ -451,8 +470,10 @@ OBJECT Table 15 G/L Account
                                                                                                                     Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                     Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                    Currency Code=FIELD(Currency Filter),
                                                                                                                     Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Add.-Currency Credit Amount;
+                                                   Description=OS007 os.jgl 25.06.2011;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr=GetCurrencyCode }
@@ -488,6 +509,91 @@ OBJECT Table 15 G/L Account
                                                    TableRelation="Deferral Template"."Deferral Code";
                                                    CaptionML=ENU=Default Deferral Template Code }
     { 8000;   ;Id                  ;GUID          ;CaptionML=ENU=Id }
+    { 5274200;;Currency Code       ;Code10        ;TableRelation=Currency;
+                                                   OnValidate=VAR
+                                                                "***** Plexada Variables *****"@119451022 : Integer;
+                                                                GLAcc@119451021 : Record 15;
+                                                              BEGIN
+                                                                //OS001s os.jgl
+                                                                IF "Currency Code" = xRec."Currency Code" THEN
+                                                                  EXIT;
+
+                                                                //OS004s os.jgl
+                                                                IF "Currency Code"<>'' THEN BEGIN
+                                                                  TESTFIELD("Account Type","Account Type"::Posting);
+                                                                  TESTFIELD("Income/Balance","Income/Balance"::"Balance Sheet");
+                                                                END;
+                                                                //OS004e os.jgl
+                                                                GLAcc := Rec;
+                                                                GLAcc.CALCFIELDS(Balance,"Balance (FCY)");
+                                                                GLAcc.TESTFIELD(Balance,0);
+                                                                GLAcc.TESTFIELD("Balance (FCY)",0);
+
+                                                                "FCY Exchange Rate Adjustment":="Currency Code"<>'';
+                                                                //OS001e os.jgl
+                                                              END;
+
+                                                   CaptionML=ENU=Currency Code;
+                                                   Description=OS004 os.jgl 08.06.2011 }
+    { 5274231;;Balance at Date (FCY);Decimal      ;FieldClass=FlowField;
+                                                   CalcFormula=Sum("G/L Entry"."Amount (FCY)" WHERE (G/L Account No.=FIELD(No.),
+                                                                                                     G/L Account No.=FIELD(FILTER(Totaling)),
+                                                                                                     Business Unit Code=FIELD(Business Unit Filter),
+                                                                                                     Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
+                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                     Currency Code=FIELD(Currency Filter),
+                                                                                                     Posting Date=FIELD(UPPERLIMIT(Date Filter))));
+                                                   CaptionML=ENU=Balance at Date (FCY);
+                                                   BlankZero=Yes;
+                                                   Description=OS009 os.jgl 22.10.2011;
+                                                   Editable=No;
+                                                   AutoFormatType=1 }
+    { 5274232;;Net Change (FCY)    ;Decimal       ;FieldClass=FlowField;
+                                                   CalcFormula=Sum("G/L Entry"."Amount (FCY)" WHERE (G/L Account No.=FIELD(No.),
+                                                                                                     G/L Account No.=FIELD(FILTER(Totaling)),
+                                                                                                     Business Unit Code=FIELD(Business Unit Filter),
+                                                                                                     Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
+                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                     Currency Code=FIELD(Currency Filter),
+                                                                                                     Posting Date=FIELD(Date Filter)));
+                                                   CaptionML=ENU=Net Change (FCY);
+                                                   BlankZero=Yes;
+                                                   Description=OS009 os.jgl 22.10.2011;
+                                                   Editable=No;
+                                                   AutoFormatType=1 }
+    { 5274236;;Balance (FCY)       ;Decimal       ;FieldClass=FlowField;
+                                                   CalcFormula=Sum("G/L Entry"."Amount (FCY)" WHERE (G/L Account No.=FIELD(No.),
+                                                                                                     G/L Account No.=FIELD(FILTER(Totaling)),
+                                                                                                     Business Unit Code=FIELD(Business Unit Filter),
+                                                                                                     Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
+                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                     Currency Code=FIELD(Currency Filter)));
+                                                   CaptionML=ENU=Balance (FCY);
+                                                   BlankZero=Yes;
+                                                   Description=OS009 os.jgl 22.10.2011;
+                                                   Editable=No;
+                                                   AutoFormatType=1 }
+    { 5274270;;Currency Filter     ;Code10        ;FieldClass=FlowFilter;
+                                                   TableRelation=Currency;
+                                                   CaptionML=ENU=Currency Filter;
+                                                   Description=OS007 os.jgl 25.06.2011 }
+    { 5274290;;VAT Amount (FCY)    ;Decimal       ;FieldClass=FlowField;
+                                                   CalcFormula=Sum("G/L Entry"."VAT Amount (FCY)" WHERE (G/L Account No.=FIELD(No.),
+                                                                                                         G/L Account No.=FIELD(FILTER(Totaling)),
+                                                                                                         Business Unit Code=FIELD(Business Unit Filter),
+                                                                                                         Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
+                                                                                                         Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                         Currency Code=FIELD(Currency Filter),
+                                                                                                         Posting Date=FIELD(Date Filter)));
+                                                   CaptionML=ENU=VAT Amount (FCY);
+                                                   BlankZero=Yes;
+                                                   Description=OS009 os.jgl 22.10.2011;
+                                                   Editable=No;
+                                                   AutoFormatType=1 }
+    { 5274299;;FCY Exchange Rate Adjustment;Boolean;
+                                                   InitValue=No;
+                                                   CaptionML=ENU=FCY Exchange Rate Adjustment;
+                                                   Description=PX011 px.jgl 11.01.2016 }
   }
   KEYS
   {
@@ -661,6 +767,36 @@ OBJECT Table 15 G/L Account
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     27.12.2010    os.jgl  SITC    Currency check, Currency Code is only valid for Balance Accounts
+                01.01.2011    os.jgl  SITC    Field rename: Exchange Rate Adjustment -> ACY Exchange Rate Adjustment
+                                              New field: FCY Exchange Rate Adjustment (boolean)
+                22.01.2011    os.jgl  SITC    New field: Balance at Date (FCY)
+      OS002     22.03.2011    os.jgl  SITC    cleanup of variable names
+      OS004     08.06.2011    os.jgl  SITC    Allow Currency code only for posting and balance accounts.
+      OS006     11.06.2011    os.jgl  SITC    Additional DataCaption Field: Currency Code
+      OS007     25.06.2011    os.jgl  SITC    Additional FlowFilter field: Currency Filter - added to all FlowFields
+      OS009     22.10.2011    os.jgl  SITC    minor corrections on field formatting and captions
+      PX011     11.01.2016    px.jgl  SITC    Allow FCY Adjustment without a currency code set
+      PX012     07.09.2017    px.jgl  P4TC    Integrate into NAV2017
+    }
     END.
   }
 }
diff --git a/table/table_0000000017.txt b/table/table_0000000017.txt
index 537c48d..2aa2eb3 100644
--- a/table/table_0000000017.txt
+++ b/table/table_0000000017.txt
@@ -4,7 +4,7 @@ OBJECT Table 17 G/L Entry
   {
     Date=25.05.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.22292;
+    Version List=NAVW111.00.00.22292,P4BB2.02,P4TC3.01;
   }
   PROPERTIES
   {
@@ -57,9 +57,21 @@ OBJECT Table 17 G/L Entry
     { 17  ;   ;Amount              ;Decimal       ;CaptionML=ENU=Amount;
                                                    AutoFormatType=1 }
     { 23  ;   ;Global Dimension 1 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1));
+                                                   OnValidate=BEGIN
+                                                                //PX001s px.jgl
+                                                                ValidateGlobalDimCode(1,"Global Dimension 1 Code",xRec."Global Dimension 1 Code");
+                                                                //PX001e px.jgl
+                                                              END;
+
                                                    CaptionML=ENU=Global Dimension 1 Code;
                                                    CaptionClass='1,1,1' }
     { 24  ;   ;Global Dimension 2 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2));
+                                                   OnValidate=BEGIN
+                                                                //PX001s px.jgl
+                                                                ValidateGlobalDimCode(2,"Global Dimension 2 Code",xRec."Global Dimension 2 Code");
+                                                                //PX001e px.jgl
+                                                              END;
+
                                                    CaptionML=ENU=Global Dimension 2 Code;
                                                    CaptionClass='1,1,2' }
     { 27  ;   ;User ID             ;Code50        ;TableRelation=User."User Name";
@@ -180,17 +192,44 @@ OBJECT Table 17 G/L Entry
                                                    CaptionML=ENU=Account Id }
     { 8005;   ;Last Modified DateTime;DateTime    ;CaptionML=ENU=Last Modified DateTime;
                                                    Editable=No }
+    { 5274200;;Currency Code       ;Code10        ;TableRelation=Currency;
+                                                   CaptionML=ENU=Currency Code;
+                                                   Description=OS001 }
+    { 5274201;;Amount (FCY)        ;Decimal       ;CaptionML=ENU=Amount (FCY);
+                                                   Description=OS001;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274202;;Debit Amount (FCY)  ;Decimal       ;CaptionML=ENU=Debit Amount (FCY);
+                                                   BlankZero=Yes;
+                                                   Description=OS001;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274203;;Credit Amount (FCY) ;Decimal       ;CaptionML=ENU=Credit Amount (FCY);
+                                                   BlankZero=Yes;
+                                                   Description=OS001;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274204;;VAT Amount (FCY)    ;Decimal       ;CaptionML=ENU=VAT Amount (FCY);
+                                                   Description=OS001;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274390;;Adjusted Currency Factor;Decimal   ;CaptionML=ENU=Adjusted Currency Factor;
+                                                   DecimalPlaces=0:15;
+                                                   Description=PX006 px.jgl 07.09.2017 }
+    { 5274391;;Original Currency Factor;Decimal   ;CaptionML=ENU=Original Currency Factor;
+                                                   DecimalPlaces=0:15;
+                                                   Description=PX006 px.jgl 07.09.2017 }
   }
   KEYS
   {
     {    ;Entry No.                               ;Clustered=Yes }
-    {    ;G/L Account No.,Posting Date            ;SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount }
+    {    ;G/L Account No.,Posting Date            ;SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount,VAT Amount,Amount (FCY),Debit Amount (FCY),Credit Amount (FCY),VAT Amount (FCY) }
     {    ;G/L Account No.,Global Dimension 1 Code,Global Dimension 2 Code,Posting Date;
-                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount }
+                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount,VAT Amount,Amount (FCY),Debit Amount (FCY),Credit Amount (FCY),VAT Amount (FCY) }
     { No ;G/L Account No.,Business Unit Code,Posting Date;
-                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount }
+                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount,Amount (FCY),Debit Amount (FCY),Credit Amount (FCY) }
     { No ;G/L Account No.,Business Unit Code,Global Dimension 1 Code,Global Dimension 2 Code,Posting Date;
-                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount }
+                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount,Amount (FCY),Debit Amount (FCY),Credit Amount (FCY) }
     {    ;Document No.,Posting Date                }
     {    ;Transaction No.                          }
     {    ;IC Partner Code                          }
@@ -198,6 +237,10 @@ OBJECT Table 17 G/L Entry
     {    ;Posting Date,G/L Account No.,Dimension Set ID;
                                                    SumIndexFields=Amount }
     {    ;Gen. Bus. Posting Group,Gen. Prod. Posting Group }
+    {    ;G/L Account No.,Currency Code,Dimension Set ID,Posting Date;
+                                                   SumIndexFields=Amount (FCY),VAT Amount (FCY),Amount,VAT Amount,Additional-Currency Amount }
+    {    ;G/L Account No.,Business Unit Code,Global Dimension 1 Code,Global Dimension 2 Code,Currency Code,Posting Date;
+                                                   SumIndexFields=Amount (FCY),VAT Amount (FCY),Amount,VAT Amount,Additional-Currency Amount,Debit Amount,Credit Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount }
   }
   FIELDGROUPS
   {
@@ -208,6 +251,9 @@ OBJECT Table 17 G/L Entry
     VAR
       GLSetup@1000 : Record 98;
       GLSetupRead@1002 : Boolean;
+      "***** Plexada variables *****"@119451021 : Integer;
+      UserSetup@119451023 : Record 91;
+      DimMgt@119451022 : Codeunit 408;
 
     [External]
     PROCEDURE GetCurrencyCode@1() : Code[10];
@@ -240,10 +286,19 @@ OBJECT Table 17 G/L Entry
 
     [External]
     PROCEDURE ShowDimensions@2();
-    VAR
-      DimMgt@1000 : Codeunit 408;
     BEGIN
-      DimMgt.ShowDimensionSet("Dimension Set ID",STRSUBSTNO('%1 %2',TABLECAPTION,"Entry No."));
+      //PX001s px.jgl
+      IF UserSetup.GET(USERID) THEN BEGIN
+        IF UserSetup."Edit Dimensions in Entries" THEN
+          "Dimension Set ID" :=
+            DimMgt.EditDimensionSet2(
+              "Dimension Set ID",STRSUBSTNO('%1 %2',TABLECAPTION,"Entry No."),
+              "Global Dimension 1 Code","Global Dimension 2 Code")
+        ELSE
+          DimMgt.ShowDimensionSet("Dimension Set ID",STRSUBSTNO('%1 %2',TABLECAPTION,"Entry No."));
+      END ELSE
+        DimMgt.ShowDimensionSet("Dimension Set ID",STRSUBSTNO('%1 %2',TABLECAPTION,"Entry No."));
+      //PX001e px.jgl
     END;
 
     [External]
@@ -259,6 +314,18 @@ OBJECT Table 17 G/L Entry
         "Credit Amount" := -Amount;
       END;
 
+      //OS006s os.jgl
+      IF (("Amount (FCY)"> 0) AND (NOT Correction)) OR
+         (("Amount (FCY)"< 0) AND Correction)
+      THEN BEGIN
+        "Debit Amount (FCY)" := "Amount (FCY)";
+        "Credit Amount (FCY)" := 0
+      END ELSE BEGIN
+        "Debit Amount (FCY)" := 0;
+        "Credit Amount (FCY)" := -"Amount (FCY)";
+      END;
+      //OS006e os.jgl
+
       IF (("Additional-Currency Amount" > 0) AND (NOT Correction)) OR
          (("Additional-Currency Amount" < 0) AND Correction)
       THEN BEGIN
@@ -308,6 +375,16 @@ OBJECT Table 17 G/L Entry
       "User ID" := USERID;
       "No. Series" := GenJnlLine."Posting No. Series";
       "IC Partner Code" := GenJnlLine."IC Partner Code";
+      //OS006s os.jgl
+      "Currency Code" := GenJnlLine."Currency Code";
+      //OS006e os.jgl
+      //PX007s px.jgl
+      IF "Currency Code" <> '' THEN
+        "Original Currency Factor" := GenJnlLine."Currency Factor"
+      ELSE
+        "Original Currency Factor" := 1;
+      "Adjusted Currency Factor" := "Original Currency Factor";
+      //PX007e os.jgl
 
       OnAfterCopyGLEntryFromGenJnlLine(Rec,GenJnlLine);
     END;
@@ -418,7 +495,68 @@ OBJECT Table 17 G/L Entry
       "G/L Account No." := GLAccount."No.";
     END;
 
+    PROCEDURE "***** Plexada Functions *****"@119451022();
+    BEGIN
+    END;
+
+    PROCEDURE GetOriginalCurrencyFactor@119451021() : Decimal;
+    BEGIN
+      IF "Original Currency Factor" = 0 THEN
+        EXIT(1);
+      EXIT("Original Currency Factor");
+    END;
+
+    PROCEDURE ValidateGlobalDimCode@119451024(FieldNumber@1000 : Integer;VAR ShortcutDimCode@1001 : Code[20];xShortcutDimCode@119451021 : Code[20]);
+    BEGIN
+      //PX001s px.jgl
+      IF UserSetup.GET(USERID) THEN BEGIN
+        IF UserSetup."Edit Dimensions in Entries" THEN
+          DimMgt.ValidateShortcutDimValues(FieldNumber,ShortcutDimCode,"Dimension Set ID")
+        ELSE
+          ShortcutDimCode := xShortcutDimCode;
+      END ELSE
+        ShortcutDimCode := xShortcutDimCode;
+      //PX001e px.jgl
+    END;
+
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.02             21.09.2017
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             11.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     28.12.2010    os.jgl  SITC    additional fields in FCY
+                01.01.2011    os.jgl  SITC    additional SumIndexFields
+                02.01.2011    os.jgl  SITC    additional key: G/L Account No.,Currency Code,Posting Date, SumIndex Amount (FCY)
+      OS002     26.03.2011    os.jgl  SITC    additional SumIndex Fields for key: G/L Account No.,Currency Code,Posting Date
+                                              SumIndex: Amount (FCY),VAT Amount (FCY),Amount,VAT Amount,Additional-Currency Amount
+      OS004     25.06.2011    os.jgl  SITC    marked SITC keys with KeyGroup "SITC"
+                                              additional key for the new FlowFilter "Currency Filter":
+                                                G/L Account No.,Business Unit Code,Global Dimension 1 Code,Global Dimension 2 Code,
+                                                Currency Code,Posting Date
+                                              SumIndex: Amount (FCY),VAT Amount (FCY),Amount,VAT Amount,Additional-Currency Amount,
+                                                Debit Amount,Credit Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount
+      OS005     15.07.2011    os.jgl  SITC    corrected minor error in KeyGroup "SITC"
+      PX007     07.09.2017    px.jgl  P4TC    changed Key from OS002: G/L Account No.,Currency Code,Dimension Set ID,Posting Date
+                04.10.2017                    additional fields: Original Currency Factor, Adjusted Currency Factor
+      PX001     21.09.2017    px.jgl  P4BB    ShowDimensions() can also edit dimensions, if the user has the rights to it
+                                              global dimensions 1 and 2 are editable, too
+      MBK17     04.09.2017    px.jgl  P4TA    changed Key from OS002: G/L Account No.,Currency Code,Dimension Set ID,Posting Date
+    }
     END.
   }
 }
diff --git a/table/table_0000000049.txt b/table/table_0000000049.txt
index 94b6cca..85fabc4 100644
--- a/table/table_0000000049.txt
+++ b/table/table_0000000049.txt
@@ -4,7 +4,7 @@ OBJECT Table 49 Invoice Post. Buffer
   {
     Date=28.06.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.23019;
+    Version List=NAVW111.00.00.23019,P4BB2.01,P4TA3.01;
   }
   PROPERTIES
   {
@@ -127,11 +127,17 @@ OBJECT Table 49 Invoice Post. Buffer
                                                    CaptionML=ENU=Use Duplication List }
     { 5614;   ;Fixed Asset Line No.;Integer       ;DataClassification=SystemMetadata;
                                                    CaptionML=ENU=Fixed Asset Line No. }
+    { 5274104;;SingleLineID        ;Integer       ;CaptionML=ENU=Single Line ID;
+                                                   Description=OS001 }
+    { 5274106;;WasPrePayment       ;Boolean       ;CaptionML=ENU=WasPrePayment;
+                                                   Description=PX002 }
+    { 5274204;;VAT Difference (ACY);Decimal       ;CaptionML=ENU=VAT Difference (ACY);
+                                                   Description=OS006;
+                                                   AutoFormatType=1 }
   }
   KEYS
   {
-    {    ;Type,G/L Account,Gen. Bus. Posting Group,Gen. Prod. Posting Group,VAT Bus. Posting Group,VAT Prod. Posting Group,Tax Area Code,Tax Group Code,Tax Liable,Use Tax,Dimension Set ID,Job No.,Fixed Asset Line No.,Deferral Code;
-                                                   Clustered=Yes }
+    {    ;SingleLineID,Dimension Set ID           ;Clustered=Yes }
   }
   FIELDGROUPS
   {
@@ -140,6 +146,7 @@ OBJECT Table 49 Invoice Post. Buffer
   {
     VAR
       DimMgt@1000 : Codeunit 408;
+      TempInvoicePostingBuffer@119451021 : ARRAY [2] OF TEMPORARY Record 49;
 
     [External]
     PROCEDURE PrepareSales@1(VAR SalesLine@1000 : Record 37);
@@ -165,6 +172,9 @@ OBJECT Table 49 Invoice Post. Buffer
         "Duplicate in Depreciation Book" := SalesLine."Duplicate in Depreciation Book";
         "Use Duplication List" := SalesLine."Use Duplication List";
       END;
+      //PX002s px.jgl
+      WasPrePayment := SalesLine."Prepayment Line";
+      //PX002e px.jgl
 
       IF "VAT Calculation Type" = "VAT Calculation Type"::"Sales Tax" THEN
         SetSalesTaxForSalesLine(SalesLine);
@@ -178,6 +188,10 @@ OBJECT Table 49 Invoice Post. Buffer
         "VAT Amount (ACY)" := 0;
       END;
 
+      //OS001s os.jgl
+      //add here all fields you want to get distinct entries for
+      //OS001e os.jgl
+
       OnAfterInvPostBufferPrepareSales(SalesLine,Rec);
     END;
 
@@ -232,10 +246,14 @@ OBJECT Table 49 Invoice Post. Buffer
       TotalAmount := TotalAmount - Amount;
       TotalAmountACY := TotalAmountACY - "Amount (ACY)";
       "G/L Account" := AccountNo;
+      //OS001s os.jgl
+      //Get the SingleLineID
+      SingleLineID:=GetSingleLineID(Rec);
+      //OS001e osjgl
     END;
 
     [External]
-    PROCEDURE SetAmounts@5(TotalVAT@1003 : Decimal;TotalVATACY@1002 : Decimal;TotalAmount@1001 : Decimal;TotalAmountACY@1000 : Decimal;VATDifference@1004 : Decimal;TotalVATBase@1006 : Decimal;TotalVATBaseACY@1005 : Decimal);
+    PROCEDURE SetAmounts@5(TotalVAT@1003 : Decimal;TotalVATACY@1002 : Decimal;TotalAmount@1001 : Decimal;TotalAmountACY@1000 : Decimal;VATDifference@1004 : Decimal;VATDifferenceACY@119451021 : Decimal;TotalVATBase@1006 : Decimal;TotalVATBaseACY@1005 : Decimal);
     BEGIN
       Amount := TotalAmount;
       "VAT Base Amount" := TotalVATBase;
@@ -244,6 +262,9 @@ OBJECT Table 49 Invoice Post. Buffer
       "VAT Base Amount (ACY)" := TotalVATBaseACY;
       "VAT Amount (ACY)" := TotalVATACY;
       "VAT Difference" := VATDifference;
+      //OS002s os.jgl
+      "VAT Difference (ACY)" := VATDifferenceACY;
+      //OS002e os.jgl
     END;
 
     [External]
@@ -277,6 +298,9 @@ OBJECT Table 49 Invoice Post. Buffer
         "Insurance No." := PurchLine."Insurance No.";
         "Budgeted FA No." := PurchLine."Budgeted FA No.";
       END;
+      //PX002s px.jgl
+      WasPrePayment := PurchLine."Prepayment Line";
+      //PX002e px.jgl
 
       IF "VAT Calculation Type" = "VAT Calculation Type"::"Sales Tax" THEN
         SetSalesTaxForPurchLine(PurchLine);
@@ -290,6 +314,10 @@ OBJECT Table 49 Invoice Post. Buffer
         "VAT Amount (ACY)" := 0;
       END;
 
+      //OS001s os.jgl
+      //add here all fields you want to get distinct entries for
+      //OS001e os.jgl
+
       OnAfterInvPostBufferPreparePurchase(PurchLine,Rec);
     END;
 
@@ -334,7 +362,7 @@ OBJECT Table 49 Invoice Post. Buffer
     END;
 
     [External]
-    PROCEDURE SetAmountsNoVAT@10(TotalAmount@1001 : Decimal;TotalAmountACY@1000 : Decimal;VATDifference@1004 : Decimal);
+    PROCEDURE SetAmountsNoVAT@10(TotalAmount@1001 : Decimal;TotalAmountACY@1000 : Decimal;VATDifference@1004 : Decimal;VATDifferenceACY@119451021 : Decimal);
     BEGIN
       Amount := TotalAmount;
       "VAT Base Amount" := TotalAmount;
@@ -343,6 +371,9 @@ OBJECT Table 49 Invoice Post. Buffer
       "VAT Base Amount (ACY)" := TotalAmountACY;
       "VAT Amount (ACY)" := 0;
       "VAT Difference" := VATDifference;
+      //OS003s os.jgl
+      "VAT Difference (ACY)" := VATDifferenceACY;
+      //OS003e os.jgl
     END;
 
     [External]
@@ -377,6 +408,10 @@ OBJECT Table 49 Invoice Post. Buffer
         Quantity := ServiceLine."Qty. to Invoice (Base)";
       END;
 
+      //OS001s os.jgl
+      //add here all fields you want to get distinct entries for
+      //OS001e os.jgl
+
       OnAfterInvPostBufferPrepareService(ServiceLine,Rec);
     END;
 
@@ -399,6 +434,10 @@ OBJECT Table 49 Invoice Post. Buffer
         "Global Dimension 2 Code" := InvoicePostBuffer."Global Dimension 2 Code";
         "System-Created Entry" := TRUE;
         InvoicePostBuffer := PrepmtAdjInvPostBuffer;
+        //PX004s px.jgl
+        //Get the SingleLineID - pay attention where the TempInvoicePostingBuffer[] is filled in
+        InvoicePostBuffer.SingleLineID:=TempInvoicePostBuffer.GetSingleLineID(InvoicePostBuffer);
+        //PX004e px.jgl
 
         TempInvoicePostBuffer := InvoicePostBuffer;
         IF TempInvoicePostBuffer.FIND THEN BEGIN
@@ -434,6 +473,10 @@ OBJECT Table 49 Invoice Post. Buffer
         IF "Deferral Code" <> '' THEN BEGIN
           DeferralLineNo := DeferralLineNo + 1;
           "Deferral Line No." := DeferralLineNo;
+          //PX004s px.jgl
+          //Get the SingleLineID
+          SingleLineID:=GetSingleLineID(InvoicePostBuffer);
+          //PX004e px.jgl
           InvDefLineNo := "Deferral Line No.";
         END;
         INSERT;
@@ -470,7 +513,95 @@ OBJECT Table 49 Invoice Post. Buffer
         Value1 := 0;
     END;
 
+    PROCEDURE __OS001@119451021();
+    BEGIN
+    END;
+
+    PROCEDURE GetSingleLineID@119451022(P_InvoicePostingBuffer@119451021 : TEMPORARY Record 49) : Integer;
+    BEGIN
+      TempInvoicePostingBuffer[1].RESET;
+      TempInvoicePostingBuffer[1]:=P_InvoicePostingBuffer;
+      TempInvoicePostingBuffer[1].SETRANGE(Type,P_InvoicePostingBuffer.Type);
+      TempInvoicePostingBuffer[1].SETRANGE("G/L Account",P_InvoicePostingBuffer."G/L Account");
+      TempInvoicePostingBuffer[1].SETRANGE("Gen. Bus. Posting Group",P_InvoicePostingBuffer."Gen. Bus. Posting Group");
+      TempInvoicePostingBuffer[1].SETRANGE("Gen. Prod. Posting Group",P_InvoicePostingBuffer."Gen. Prod. Posting Group");
+      TempInvoicePostingBuffer[1].SETRANGE("VAT Bus. Posting Group",P_InvoicePostingBuffer."VAT Bus. Posting Group");
+      TempInvoicePostingBuffer[1].SETRANGE("VAT Prod. Posting Group",P_InvoicePostingBuffer."VAT Prod. Posting Group");
+      TempInvoicePostingBuffer[1].SETRANGE("Tax Area Code",P_InvoicePostingBuffer."Tax Area Code");
+      TempInvoicePostingBuffer[1].SETRANGE("Tax Group Code",P_InvoicePostingBuffer."Tax Group Code");
+      TempInvoicePostingBuffer[1].SETRANGE("Tax Liable",P_InvoicePostingBuffer."Tax Liable");
+      TempInvoicePostingBuffer[1].SETRANGE("Use Tax",P_InvoicePostingBuffer."Use Tax");
+      //Dimension Set ID is part of the primary key, no filter!
+      //TempInvoicePostingBuffer[1].setrange("Dimension Set ID",P_InvoicePostingBuffer."Dimension Set ID");
+      TempInvoicePostingBuffer[1].SETRANGE("Job No.",P_InvoicePostingBuffer."Job No.");
+      TempInvoicePostingBuffer[1].SETRANGE("Fixed Asset Line No.",P_InvoicePostingBuffer."Fixed Asset Line No.");
+      //OS008s os.jgl
+      TempInvoicePostingBuffer[1].SETRANGE("Deferral Code",P_InvoicePostingBuffer."Deferral Code");
+      //OS008e os.jgl
+      //PX002s px.jgl
+      TempInvoicePostingBuffer[1].SETRANGE(WasPrePayment,P_InvoicePostingBuffer.WasPrePayment);
+      //PX002e px.jgl
+      //add here all fields you want to get distinct entries for
+      //explicit findfirst because the filters are not on the primary key...
+      IF NOT TempInvoicePostingBuffer[1].FINDFIRST THEN BEGIN
+        TempInvoicePostingBuffer[2].RESET;
+        IF TempInvoicePostingBuffer[2].FINDLAST THEN BEGIN
+          TempInvoicePostingBuffer[1].SingleLineID:=TempInvoicePostingBuffer[2].SingleLineID+1;
+        END ELSE BEGIN
+          TempInvoicePostingBuffer[1].SingleLineID:=1;
+        END;
+        TempInvoicePostingBuffer[1].INSERT;
+      END;
+      EXIT(TempInvoicePostingBuffer[1].SingleLineID);
+    END;
+
+    PROCEDURE ClearSingleLineID@1002();
+    BEGIN
+      TempInvoicePostingBuffer[1].RESET;
+      TempInvoicePostingBuffer[1].DELETEALL;
+    END;
+
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.01             04.10.2017
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     05.08.2010    os.jgl  SIBB    SingleLineID-functionality
+                                              new primary key: SingleLineID,Dimension Entry No.
+                                              DataPercompany=No: reduce SQL server footprint for a temporary table
+                                              How GetSingleLineID works:
+                                              Use a temporary invoice posting buffer to hold all distinct records given to the table. To
+                                              select a distinct record all fields which should be in the primary key must be filtered.
+      OS002     31.12.2010    os.jgl  SITC    Foreign Currency in G/L the ACY-Fields contain the source currency amounts of the document.
+                                              additional field for VAT Difference in ACY
+                                              SetAmounts() expanded for "VAT Difference (ACY)"
+      OS003     10.02.2011    os.jgl  SIBB    SetAmounts, SetAmountsNoVAT() possible bugfix
+      OS004     07.05.2011    os.jgl  SITC    VAT Difference (ACY): fix DEU caption to "MwSt. Differnz (BW)"
+                                              added removed standard code in coments for reference
+      OS006     08.06.2011    os.jgl  SITC    Field VAT Difference (ACY): corrected wrong caption. The description is somewhat off,
+                                              though, since the ACY fields are filled with FCY.
+      OS008     12.03.2016    os.jgl  SITC    add handling for Deferral Code
+      PX002     05.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              Neues Feld "WasPrepayment" zur Identifizierung von Vorauszahlungsverrechnungen. Diese dÅrfen
+                                              nicht als unrealisierte Steuer gewertet werden, egal was die Buchungsmatrix Einrichtung sagt.
+      PX004     07.09.2017    px.jgl  P4BB    Integrate into NAV2017
+                                      P4TA    Removed DataPerCompany = No
+    }
     END.
   }
 }
diff --git a/table/table_0000000080.txt b/table/table_0000000080.txt
index 1ff67d1..d8037fa 100644
--- a/table/table_0000000080.txt
+++ b/table/table_0000000080.txt
@@ -4,7 +4,7 @@ OBJECT Table 80 Gen. Journal Template
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -86,6 +86,18 @@ OBJECT Table 80 Gen. Journal Template
                                                                       "Source Code" := SourceCodeSetup."Job G/L Journal";
                                                                       "Page ID" := PAGE::"Job G/L Journal";
                                                                     END;
+                                                                  //OS001s os.jgl
+                                                                  Type::System:
+                                                                    BEGIN
+                                                                      "Source Code" := SourceCodeSetup."System Journal";
+                                                                      "Page ID" := PAGE::"System Journal";
+                                                                      "Copy VAT Setup to Jnl. Lines":=FALSE;
+                                                                      "Allow VAT Difference":=FALSE;
+                                                                      GenJnlBatch.SETRANGE("Journal Template Name",Name);
+                                                                      GenJnlBatch.MODIFYALL("Copy VAT Setup to Jnl. Lines","Copy VAT Setup to Jnl. Lines");
+                                                                      GenJnlBatch.MODIFYALL("Allow VAT Difference","Allow VAT Difference");
+                                                                    END;
+                                                                  //OS001e os.jgl
                                                                 END;
 
                                                                 IF Recurring THEN
@@ -93,8 +105,9 @@ OBJECT Table 80 Gen. Journal Template
                                                               END;
 
                                                    CaptionML=ENU=Type;
-                                                   OptionCaptionML=ENU=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs;
-                                                   OptionString=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs }
+                                                   OptionCaptionML=ENU=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs,,,,,,,,,,,,,System;
+                                                   OptionString=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs,,,,,,,,,,,,,System;
+                                                   Description=OS001 os.jgl 14.02.2011 }
     { 10  ;   ;Source Code         ;Code10        ;TableRelation="Source Code";
                                                    OnValidate=BEGIN
                                                                 GenJnlLine.SETRANGE("Journal Template Name",Name);
@@ -170,6 +183,10 @@ OBJECT Table 80 Gen. Journal Template
     { 23  ;   ;Copy VAT Setup to Jnl. Lines;Boolean;
                                                    InitValue=Yes;
                                                    OnValidate=BEGIN
+                                                                //OS003s os.jgl
+                                                                IF (Type = Type::System) AND "Copy VAT Setup to Jnl. Lines" THEN
+                                                                  ERROR(Text5274104,FIELDCAPTION("Copy VAT Setup to Jnl. Lines"),TABLECAPTION,Type);
+                                                                //OS003e os.jgl
                                                                 IF "Copy VAT Setup to Jnl. Lines" <> xRec."Copy VAT Setup to Jnl. Lines" THEN BEGIN
                                                                   GenJnlBatch.SETRANGE("Journal Template Name",Name);
                                                                   GenJnlBatch.MODIFYALL("Copy VAT Setup to Jnl. Lines","Copy VAT Setup to Jnl. Lines");
@@ -178,6 +195,10 @@ OBJECT Table 80 Gen. Journal Template
 
                                                    CaptionML=ENU=Copy VAT Setup to Jnl. Lines }
     { 24  ;   ;Allow VAT Difference;Boolean       ;OnValidate=BEGIN
+                                                                //OS003s os.jgl
+                                                                IF (Type = Type::System) AND "Allow VAT Difference" THEN
+                                                                  ERROR(Text5274104,FIELDCAPTION("Allow VAT Difference"),TABLECAPTION,Type);
+                                                                //OS003e os.jgl
                                                                 IF "Allow VAT Difference" <> xRec."Allow VAT Difference" THEN BEGIN
                                                                   GenJnlBatch.SETRANGE("Journal Template Name",Name);
                                                                   GenJnlBatch.MODIFYALL("Allow VAT Difference","Allow VAT Difference");
@@ -223,6 +244,8 @@ OBJECT Table 80 Gen. Journal Template
       GenJnlLine@1004 : Record 81;
       GenJnlAlloc@1005 : Record 221;
       SourceCodeSetup@1006 : Record 242;
+      "***** Plexada Text *****"@119451021 : TextConst;
+      Text5274104@119451022 : TextConst 'ENU="%1 is not allowed for %2 with Type = %3."';
 
     LOCAL PROCEDURE CheckGLAcc@2(AccNo@1000 : Code[20]);
     VAR
@@ -236,6 +259,30 @@ OBJECT Table 80 Gen. Journal Template
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     17.03.2011    os.jgl  SIBB    Additional Type "System" for System-created Journal Batches (like Close Income Statement
+                                              for example) which will be force-posted despite blocks on accounts or dimensions.
+                                              To avoid complications, the forms for this type of Journal Batch are read-only.
+                                              cleanup of variable names
+      OS004     13.01.2014    os.jgl  SITC    Change "System" Type Value to 20
+    }
     END.
   }
 }
diff --git a/table/table_0000000081.txt b/table/table_0000000081.txt
index 64ba880..57a5df9 100644
--- a/table/table_0000000081.txt
+++ b/table/table_0000000081.txt
@@ -4,7 +4,7 @@ OBJECT Table 81 Gen. Journal Line
   {
     Date=28.06.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.23019;
+    Version List=NAVW111.00.00.23019,P4BB2.00,P4TC3.01;
   }
   PROPERTIES
   {
@@ -166,7 +166,13 @@ OBJECT Table 81 Gen. Journal Line
                                                                     GetICPartnerAccount;
                                                                 END;
 
-                                                                VALIDATE("Currency Code");
+                                                                //OS005s os.jgl
+                                                                // ************************************************** Plexada **********************************
+                                                                // Standard Code:
+                                                                // VALIDATE("Currency Code");
+                                                                // ************************************************** Plexada **********************************
+                                                                VALIDATE("Currency Code",VerifyCurrency("Currency Code"));
+                                                                //OS005e os.jgl
                                                                 VALIDATE("VAT Prod. Posting Group");
                                                                 UpdateLineBalance;
                                                                 UpdateSource;
@@ -362,7 +368,13 @@ OBJECT Table 81 Gen. Journal Line
                                                                     GetICPartnerBalAccount;
                                                                 END;
 
-                                                                VALIDATE("Currency Code");
+                                                                //OS005s os.jgl
+                                                                // ************************************************** Plexada **********************************
+                                                                // Standard Code:
+                                                                // VALIDATE("Currency Code");
+                                                                // ************************************************** Plexada **********************************
+                                                                VALIDATE("Currency Code",VerifyCurrency("Currency Code"));
+                                                                //OS005e os.jgl
                                                                 VALIDATE("Bal. VAT Prod. Posting Group");
                                                                 UpdateLineBalance;
                                                                 UpdateSource;
@@ -382,6 +394,10 @@ OBJECT Table 81 Gen. Journal Line
                                                    OnValidate=VAR
                                                                 BankAcc@1000 : Record 270;
                                                               BEGIN
+                                                                //OS005s os.jgl
+                                                                IF CurrFieldNo = FIELDNO("Currency Code") THEN
+                                                                  "Currency manually entered" := TRUE;
+                                                                //OS005e os.jgl
                                                                 IF "Bal. Account Type" = "Bal. Account Type"::"Bank Account" THEN BEGIN
                                                                   IF BankAcc.GET("Bal. Account No.") AND (BankAcc."Currency Code" <> '')THEN
                                                                     BankAcc.TESTFIELD("Currency Code","Currency Code");
@@ -390,6 +406,16 @@ OBJECT Table 81 Gen. Journal Line
                                                                   IF BankAcc.GET("Account No.") AND (BankAcc."Currency Code" <> '') THEN
                                                                     BankAcc.TESTFIELD("Currency Code","Currency Code");
                                                                 END;
+                                                                //OS001s os.jgl
+                                                                IF "Bal. Account Type" = "Bal. Account Type"::"G/L Account" THEN BEGIN
+                                                                  IF GLAcc3.GET("Bal. Account No.") AND (GLAcc3."Currency Code" <> '')THEN
+                                                                    GLAcc3.TESTFIELD("Currency Code","Currency Code");
+                                                                END;
+                                                                IF "Account Type" = "Account Type"::"G/L Account" THEN BEGIN
+                                                                  IF GLAcc3.GET("Account No.") AND (GLAcc3."Currency Code" <> '') THEN
+                                                                    GLAcc3.TESTFIELD("Currency Code","Currency Code");
+                                                                END;
+                                                                //OS001e os.jgl
                                                                 IF ("Recurring Method" IN
                                                                     ["Recurring Method"::"B  Balance","Recurring Method"::"RB Reversing Balance"]) AND
                                                                    ("Currency Code" <> '')
@@ -2041,6 +2067,13 @@ OBJECT Table 81 Gen. Journal Line
                                                               END;
 
                                                    CaptionML=ENU=Payment Method Id }
+    { 5274104;;Force Post          ;Boolean       ;CaptionML=ENU=Force Post;
+                                                   Description=OS003 os.jgl 13.02.2011 }
+    { 5274105;;Currency manually entered;Boolean  ;CaptionML=ENU=Currency manually entered;
+                                                   Description=OS005 os.jgl 28.11.2011;
+                                                   Editable=No }
+    { 5274106;;WasPrePayment       ;Boolean       ;CaptionML=ENU=WasPrePayment;
+                                                   Description=PX004 }
   }
   KEYS
   {
@@ -2052,6 +2085,8 @@ OBJECT Table 81 Gen. Journal Line
                                                    MaintainSQLIndex=No }
     {    ;Account Type,Account No.,Applies-to Doc. Type,Applies-to Doc. No. }
     {    ;Document No.                            ;MaintainSQLIndex=No }
+    {    ;Journal Template Name,Journal Batch Name,Account Type,Document Type;
+                                                   SumIndexFields=Amount (LCY) }
     {    ;Incoming Document Entry No.              }
   }
   FIELDGROUPS
@@ -2126,6 +2161,13 @@ OBJECT Table 81 Gen. Journal Line
       SalespersonPurchPrivacyBlockErr@1933 : TextConst '@@@="%1 = salesperson / purchaser code.";ENU=Privacy Blocked must not be true for Salesperson / Purchaser %1.';
       BlockedErr@1033 : TextConst '@@@="%1=Blocked field value,%2=Account Type,%3=Account No.";ENU=The Blocked field must not be %1 for %2 %3.';
       BlockedEmplErr@1032 : TextConst '@@@="%1 = Employee no. ";ENU=You cannot export file because employee %1 is blocked due to privacy.';
+      "***** Plexada Variables *****"@119451024 : Integer;
+      GLAcc2@119451022 : Record 15;
+      GLAcc3@119451021 : Record 15;
+      IgnoreFixedCurrency@119451023 : Boolean;
+      Text5274200@119451025 : TextConst 'ENU=Account and Balance Account require differing currencies.\%1 %2: %3\%4 %5: %6\Please check your allocation.';
+      Cust2@119451026 : Record 18;
+      Vend2@119451027 : Record 23;
 
     [External]
     PROCEDURE EmptyLine@5() : Boolean;
@@ -2416,14 +2458,33 @@ OBJECT Table 81 Gen. Journal Line
     BEGIN
       "Currency Code" := '';
       IF AccNo2 <> '' THEN
-        IF AccType2 = AccType2::"Bank Account" THEN
-          IF BankAcc.GET(AccNo2) THEN
-            "Currency Code" := BankAcc."Currency Code";
+        //OS007s os.jgl
+        // ************************************************** Plexada ***********************************
+        // Standard Code:
+        // IF AccType2 = AccType2::"Bank Account" THEN
+        //   IF BankAcc2.GET(AccNo2) THEN
+        //     "Currency Code" := BankAcc2."Currency Code";
+        // ************************************************** Plexada ***********************************
+        CASE AccType2 OF
+          AccType2::"G/L Account":
+            IF GLAcc2.GET(AccNo2) THEN
+              "Currency Code" := GLAcc2."Currency Code";
+          AccType2::Customer:
+            IF Cust2.GET(AccNo2) THEN
+              "Currency Code" := Cust2."Currency Code";
+          AccType2::Vendor:
+            IF Vend2.GET(AccNo2) THEN
+              "Currency Code" := Vend2."Currency Code";
+          AccType2::"Bank Account":
+            IF BankAcc.GET(AccNo2) THEN
+              "Currency Code" := BankAcc."Currency Code";
+        END;
+        //OS007e os.jgl
       EXIT("Currency Code" <> '');
     END;
 
     [External]
-    PROCEDURE SetCurrencyFactor@130(CurrencyCode@1000 : Code[10];CurrencyFactor@1001 : Decimal);
+    LOCAL PROCEDURE SetCurrencyFactor@130(CurrencyCode@1000 : Code[10];CurrencyFactor@1001 : Decimal);
     BEGIN
       "Currency Code" := CurrencyCode;
       IF "Currency Code" = '' THEN
@@ -2634,28 +2695,33 @@ OBJECT Table 81 Gen. Journal Line
     VAR
       CurrExchRate@1000 : Record 330;
     BEGIN
-      CurrExchRate.SETRANGE("Currency Code","Currency Code");
-      CurrExchRate.SETRANGE("Starting Date",0D,"Posting Date");
-
-      IF NOT CurrExchRate.FINDLAST THEN
-        EXIT(FALSE);
-
-      IF CurrExchRate."Relational Currency Code" = '' THEN
-        EXIT(
-          CurrExchRate."Fix Exchange Rate Amount" =
-          CurrExchRate."Fix Exchange Rate Amount"::Both);
+      //OS002s os.jgl
+      IF NOT IgnoreFixedCurrency THEN BEGIN
+      //OS002e os.jgl
+        CurrExchRate.SETRANGE("Currency Code","Currency Code");
+        CurrExchRate.SETRANGE("Starting Date",0D,"Posting Date");
 
-      IF CurrExchRate."Fix Exchange Rate Amount" <>
-         CurrExchRate."Fix Exchange Rate Amount"::Both
-      THEN
-        EXIT(FALSE);
+        IF NOT CurrExchRate.FINDLAST THEN
+          EXIT(FALSE);
 
-      CurrExchRate.SETRANGE("Currency Code",CurrExchRate."Relational Currency Code");
-      IF CurrExchRate.FINDLAST THEN
-        EXIT(
-          CurrExchRate."Fix Exchange Rate Amount" =
-          CurrExchRate."Fix Exchange Rate Amount"::Both);
+        IF CurrExchRate."Relational Currency Code" = '' THEN
+          EXIT(
+            CurrExchRate."Fix Exchange Rate Amount" =
+            CurrExchRate."Fix Exchange Rate Amount"::Both);
 
+        IF CurrExchRate."Fix Exchange Rate Amount" <>
+           CurrExchRate."Fix Exchange Rate Amount"::Both
+        THEN
+          EXIT(FALSE);
+
+        CurrExchRate.SETRANGE("Currency Code",CurrExchRate."Relational Currency Code");
+        IF CurrExchRate.FINDLAST THEN
+          EXIT(
+            CurrExchRate."Fix Exchange Rate Amount" =
+            CurrExchRate."Fix Exchange Rate Amount"::Both);
+      //OS002s os.jgl
+      END;
+      //OS002e os.jgl
       EXIT(FALSE);
     END;
 
@@ -4167,13 +4233,25 @@ OBJECT Table 81 Gen. Journal Line
       "Job No." := InvoicePostBuffer."Job No.";
       "Deferral Code" := InvoicePostBuffer."Deferral Code";
       "Deferral Line No." := InvoicePostBuffer."Deferral Line No.";
-      Amount := InvoicePostBuffer.Amount;
+      //PX005s px.jgl
+      Amount := InvoicePostBuffer."Amount (ACY)";
+      "Amount (LCY)":= InvoicePostBuffer.Amount;
+      //PX005e px.jgl
       "Source Currency Amount" := InvoicePostBuffer."Amount (ACY)";
-      "VAT Base Amount" := InvoicePostBuffer."VAT Base Amount";
+      //PX005s px.jgl
+      "VAT Base Amount" := InvoicePostBuffer."VAT Base Amount (ACY)";
+      "VAT Base Amount (LCY)" := InvoicePostBuffer."VAT Base Amount";
+      //PX005e px.jgl
       "Source Curr. VAT Base Amount" := InvoicePostBuffer."VAT Base Amount (ACY)";
-      "VAT Amount" := InvoicePostBuffer."VAT Amount";
+      //PX005s px.jgl
+      "VAT Amount" := InvoicePostBuffer."VAT Amount (ACY)";
+      "VAT Amount (LCY)" := InvoicePostBuffer."VAT Amount";
+      //PX005e px.jgl
       "Source Curr. VAT Amount" := InvoicePostBuffer."VAT Amount (ACY)";
       "VAT Difference" := InvoicePostBuffer."VAT Difference";
+      //PX005s px.jgl
+      WasPrePayment := InvoicePostBuffer.WasPrePayment;
+      //PX005e px.jgl
 
       OnAfterCopyGenJnlLineFromInvPostBuffer(InvoicePostBuffer,Rec);
     END;
@@ -4210,11 +4288,20 @@ OBJECT Table 81 Gen. Journal Line
       "Use Tax" := FALSE;
       "VAT Calculation Type" := PrepmtInvLineBuffer."VAT Calculation Type";
       "Job No." := PrepmtInvLineBuffer."Job No.";
-      Amount := PrepmtInvLineBuffer.Amount;
+      //PX005s px.jgl
+      Amount := PrepmtInvLineBuffer."Amount (ACY)";
+      "Amount (LCY)" := PrepmtInvLineBuffer.Amount;
+      //PX005e px.jgl
       "Source Currency Amount" := PrepmtInvLineBuffer."Amount (ACY)";
-      "VAT Base Amount" := PrepmtInvLineBuffer."VAT Base Amount";
+      //PX005s px.jgl
+      "VAT Base Amount" := PrepmtInvLineBuffer."VAT Base Amount (ACY)";
+      "VAT Base Amount (LCY)" := PrepmtInvLineBuffer."VAT Base Amount";
+      //PX005e px.jgl
       "Source Curr. VAT Base Amount" := PrepmtInvLineBuffer."VAT Base Amount (ACY)";
-      "VAT Amount" := PrepmtInvLineBuffer."VAT Amount";
+      //PX005s px.jgl
+      "VAT Amount" := PrepmtInvLineBuffer."VAT Amount (ACY)";
+      "VAT Amount (LCY)" := PrepmtInvLineBuffer."VAT Amount";
+      //PX005e px.jgl
       "Source Curr. VAT Amount" := PrepmtInvLineBuffer."VAT Amount (ACY)";
       "VAT Difference" := PrepmtInvLineBuffer."VAT Difference";
 
@@ -4225,7 +4312,9 @@ OBJECT Table 81 Gen. Journal Line
     PROCEDURE CopyFromPurchHeader@109(PurchHeader@1001 : Record 38);
     BEGIN
       "Source Currency Code" := PurchHeader."Currency Code";
-      "Currency Factor" := PurchHeader."Currency Factor";
+      //PX005s px.jgl
+      SetCurrencyFactor(PurchHeader."Currency Code",PurchHeader."Currency Factor");
+      //PX005e px.jgl
       Correction := PurchHeader.Correction;
       "VAT Base Discount %" := PurchHeader."VAT Base Discount %";
       "Sell-to/Buy-from No." := PurchHeader."Buy-from Vendor No.";
@@ -4249,6 +4338,9 @@ OBJECT Table 81 Gen. Journal Line
     PROCEDURE CopyFromPurchHeaderPrepmt@127(PurchHeader@1000 : Record 38);
     BEGIN
       "Source Currency Code" := PurchHeader."Currency Code";
+      //PX005s px.jgl
+      SetCurrencyFactor(PurchHeader."Currency Code",PurchHeader."Currency Factor");
+      //PX005e px.jgl
       "VAT Base Discount %" := PurchHeader."VAT Base Discount %";
       "Bill-to/Pay-to No." := PurchHeader."Pay-to Vendor No.";
       "Country/Region Code" := PurchHeader."VAT Country/Region Code";
@@ -4317,7 +4409,9 @@ OBJECT Table 81 Gen. Journal Line
     PROCEDURE CopyFromSalesHeader@103(SalesHeader@1001 : Record 36);
     BEGIN
       "Source Currency Code" := SalesHeader."Currency Code";
-      "Currency Factor" := SalesHeader."Currency Factor";
+      //PX005s px.jgl
+      SetCurrencyFactor(SalesHeader."Currency Code",SalesHeader."Currency Factor");
+      //PX005e px.jgl
       "VAT Base Discount %" := SalesHeader."VAT Base Discount %";
       Correction := SalesHeader.Correction;
       "EU 3-Party Trade" := SalesHeader."EU 3-Party Trade";
@@ -4342,6 +4436,9 @@ OBJECT Table 81 Gen. Journal Line
     PROCEDURE CopyFromSalesHeaderPrepmt@119(SalesHeader@1000 : Record 36);
     BEGIN
       "Source Currency Code" := SalesHeader."Currency Code";
+      //PX005s px.jgl
+      SetCurrencyFactor(SalesHeader."Currency Code",SalesHeader."Currency Factor");
+      //PX005e px.jgl
       "VAT Base Discount %" := SalesHeader."VAT Base Discount %";
       "EU 3-Party Trade" := SalesHeader."EU 3-Party Trade";
       "Bill-to/Pay-to No." := SalesHeader."Bill-to Customer No.";
@@ -4410,6 +4507,9 @@ OBJECT Table 81 Gen. Journal Line
     PROCEDURE CopyFromServiceHeader@98(ServiceHeader@1001 : Record 5900);
     BEGIN
       "Source Currency Code" := ServiceHeader."Currency Code";
+      //PX005s px.jgl
+      SetCurrencyFactor(ServiceHeader."Currency Code",ServiceHeader."Currency Factor");
+      //PX005e px.jgl
       Correction := ServiceHeader.Correction;
       "VAT Base Discount %" := ServiceHeader."VAT Base Discount %";
       "Sell-to/Buy-from No." := ServiceHeader."Customer No.";
@@ -4722,8 +4822,13 @@ OBJECT Table 81 Gen. Journal Line
         "Salespers./Purch. Code" := '';
         "Payment Terms Code" := '';
       END;
-      IF "Bal. Account No." = '' THEN
-        "Currency Code" := '';
+      //OS005s os.jgl
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      // IF "Bal. Account No." = '' THEN
+      //  "Currency Code" := '';
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       IF CopyVATSetupToJnlLines THEN BEGIN
         "Gen. Posting Type" := GLAcc."Gen. Posting Type";
         "Gen. Bus. Posting Group" := GLAcc."Gen. Bus. Posting Group";
@@ -4750,7 +4855,12 @@ OBJECT Table 81 Gen. Journal Line
       CheckGLAcc(GLAcc);
       IF "Account No." = '' THEN BEGIN
         Description := GLAcc.Name;
-        "Currency Code" := '';
+        //OS005s os.jgl
+        // ************************************************** Plexada **********************************
+        // Standard Code:
+        // "Currency Code" := '';
+        // ************************************************** Plexada **********************************
+        //OS005e os.jgl
       END;
       IF ("Account No." = '') OR
          ("Account Type" IN
@@ -4792,8 +4902,13 @@ OBJECT Table 81 Gen. Journal Line
       "Payment Terms Code" := Cust."Payment Terms Code";
       VALIDATE("Bill-to/Pay-to No.","Account No.");
       VALIDATE("Sell-to/Buy-from No.","Account No.");
-      IF NOT SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
-        "Currency Code" := Cust."Currency Code";
+      //OS005s os.jgl
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      // IF NOT SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
+      //   "Currency Code" := Cust."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearPostingGroups;
       IF (Cust."Bill-to Customer No." <> '') AND (Cust."Bill-to Customer No." <> "Account No.") AND
          NOT HideValidationDialog
@@ -4824,10 +4939,15 @@ OBJECT Table 81 Gen. Journal Line
       "Payment Terms Code" := Cust."Payment Terms Code";
       VALIDATE("Bill-to/Pay-to No.","Bal. Account No.");
       VALIDATE("Sell-to/Buy-from No.","Bal. Account No.");
-      IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
-        "Currency Code" := Cust."Currency Code";
-      IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
-        "Currency Code" := Cust."Currency Code";
+      //OS005s os.jgl
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      // IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
+      //   "Currency Code" := Cust."Currency Code";
+      // IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
+      //   "Currency Code" := Cust."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearBalancePostingGroups;
       IF (Cust."Bill-to Customer No." <> '') AND (Cust."Bill-to Customer No." <> "Bal. Account No.") AND
          NOT HideValidationDialog
@@ -4861,8 +4981,13 @@ OBJECT Table 81 Gen. Journal Line
       "Payment Terms Code" := Vend."Payment Terms Code";
       VALIDATE("Bill-to/Pay-to No.","Account No.");
       VALIDATE("Sell-to/Buy-from No.","Account No.");
-      IF NOT SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
-        "Currency Code" := Vend."Currency Code";
+      //OS005s os.jgl
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      // IF NOT SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
+      //   "Currency Code" := Vend."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearPostingGroups;
       IF (Vend."Pay-to Vendor No." <> '') AND (Vend."Pay-to Vendor No." <> "Account No.") AND
          NOT HideValidationDialog
@@ -4908,10 +5033,15 @@ OBJECT Table 81 Gen. Journal Line
       "Payment Terms Code" := Vend."Payment Terms Code";
       VALIDATE("Bill-to/Pay-to No.","Bal. Account No.");
       VALIDATE("Sell-to/Buy-from No.","Bal. Account No.");
-      IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
-        "Currency Code" := Vend."Currency Code";
-      IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
-        "Currency Code" := Vend."Currency Code";
+      //OS005s os.jgl
+      // Standard Code:
+      // ************************************************** Plexada **********************************
+      // IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
+      //   "Currency Code" := Vend."Currency Code";
+      // IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
+      //   "Currency Code" := Vend."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearBalancePostingGroups;
       IF (Vend."Pay-to Vendor No." <> '') AND (Vend."Pay-to Vendor No." <> "Bal. Account No.") AND
          NOT HideValidationDialog
@@ -4958,14 +5088,19 @@ OBJECT Table 81 Gen. Journal Line
         "Salespers./Purch. Code" := '';
         "Payment Terms Code" := '';
       END;
-      IF BankAcc."Currency Code" = '' THEN BEGIN
-        IF "Bal. Account No." = '' THEN
-          "Currency Code" := '';
-      END ELSE
-        IF SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
-          BankAcc.TESTFIELD("Currency Code","Currency Code")
-        ELSE
-          "Currency Code" := BankAcc."Currency Code";
+      //OS005s os.jgl
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      // IF BankAcc."Currency Code" = '' THEN BEGIN
+      //   IF "Bal. Account No." = '' THEN
+      //     "Currency Code" := '';
+      // END ELSE
+      //   IF SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
+      //     BankAcc.TESTFIELD("Currency Code","Currency Code")
+      //   ELSE
+      //     "Currency Code" := BankAcc."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearPostingGroups;
 
       OnAfterAccountNoOnValidateGetBankAccount(Rec,BankAcc);
@@ -4988,16 +5123,19 @@ OBJECT Table 81 Gen. Journal Line
         "Salespers./Purch. Code" := '';
         "Payment Terms Code" := '';
       END;
-      IF BankAcc."Currency Code" = '' THEN
-        IF "Account No." = '' THEN
-          "Currency Code" := ''
-        ELSE
-          ClearCurrencyCode
-      ELSE
-        IF SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
-          BankAcc.TESTFIELD("Currency Code","Currency Code")
-        ELSE
-          "Currency Code" := BankAcc."Currency Code";
+      //OS005s os.jgl
+      // Standard Code:
+      // ************************************************** Plexada **********************************
+      // IF BankAcc."Currency Code" = '' THEN
+      //   IF "Account No." = '' THEN
+      //     "Currency Code" := ''
+      // ELSE
+      //   IF SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
+      //     BankAcc.TESTFIELD("Currency Code","Currency Code")
+      //   ELSE
+      //     "Currency Code" := BankAcc."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearBalancePostingGroups;
 
       OnAfterAccountNoOnValidateGetBankBalAccount(Rec,BankAcc);
@@ -5043,10 +5181,15 @@ OBJECT Table 81 Gen. Journal Line
       ICPartner.GET("Account No.");
       ICPartner.CheckICPartner;
       UpdateDescription(ICPartner.Name);
-      IF ("Bal. Account No." = '') OR ("Bal. Account Type" = "Bal. Account Type"::"G/L Account") THEN
-        "Currency Code" := ICPartner."Currency Code";
-      IF ("Bal. Account Type" = "Bal. Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
-        "Currency Code" := ICPartner."Currency Code";
+      //OS005s os.jgl
+      // ************************************************** Plexada **********************************
+      // Standard Code:
+      // IF ("Bal. Account No." = '') OR ("Bal. Account Type" = "Bal. Account Type"::"G/L Account") THEN
+      //   "Currency Code" := ICPartner."Currency Code";
+      // IF ("Bal. Account Type" = "Bal. Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
+      //   "Currency Code" := ICPartner."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearPostingGroups;
       "IC Partner Code" := "Account No.";
 
@@ -5061,10 +5204,15 @@ OBJECT Table 81 Gen. Journal Line
       IF "Account No." = '' THEN
         Description := ICPartner.Name;
 
-      IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
-        "Currency Code" := ICPartner."Currency Code";
-      IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
-        "Currency Code" := ICPartner."Currency Code";
+      //OS005s os.jgl
+      // Standard Code:
+      // ************************************************** Plexada **********************************
+      // IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
+      //   "Currency Code" := ICPartner."Currency Code";
+      // IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
+      //   "Currency Code" := ICPartner."Currency Code";
+      // ************************************************** Plexada **********************************
+      //OS005e os.jgl
       ClearBalancePostingGroups;
       "IC Partner Code" := "Bal. Account No.";
 
@@ -5696,7 +5844,163 @@ OBJECT Table 81 Gen. Journal Line
     BEGIN
     END;
 
+    PROCEDURE "***** Plexada Functions *****"@119451024();
+    BEGIN
+    END;
+
+    PROCEDURE SetIgnoreFixedCurrency@119451021(NewValue@119451021 : Boolean);
     BEGIN
+      //OS002s os.jgl
+      IgnoreFixedCurrency := NewValue;
+      //OS002e os.jgl
+    END;
+
+    PROCEDURE VerifyCurrency@119451025(CurrCurrency@119451021 : Code[10]) ResCurrency : Code[10];
+    VAR
+      TestGLAcc@119451028 : Record 15;
+      TestCust@119451029 : Record 18;
+      TestVend@119451030 : Record 23;
+      TestBank@119451031 : Record 270;
+      TestICPartner@119451022 : Record 413;
+      DesCurrency@119451026 : Code[10];
+      BalDesCurrency@119451027 : Code[10];
+      DesCCYMandatory@119451032 : Boolean;
+      BalDesCCYMandatory@119451033 : Boolean;
+    BEGIN
+      //OS005s os.jgl
+      IF "Account No." <> '' THEN BEGIN
+        CASE "Account Type" OF
+          "Account Type"::"G/L Account": BEGIN
+            TestGLAcc.GET("Account No.");
+            DesCurrency := TestGLAcc."Currency Code";
+            DesCCYMandatory := TestGLAcc."Currency Code" <> '';
+          END;
+          "Account Type"::Customer: BEGIN
+            TestCust.GET("Account No.");
+            DesCurrency := TestCust."Currency Code";
+          END;
+          "Account Type"::Vendor: BEGIN
+            TestVend.GET("Account No.");
+            DesCurrency := TestVend."Currency Code";
+          END;
+          "Account Type"::"Bank Account": BEGIN
+            TestBank.GET("Account No.");
+            DesCurrency := TestBank."Currency Code";
+            DesCCYMandatory := TestBank."Currency Code" <> '';
+          END;
+          "Account Type"::"IC Partner": BEGIN
+            TestICPartner.GET("Account No.");
+            DesCurrency := TestICPartner."Currency Code";
+          END;
+        END;
+      END;
+      IF "Bal. Account No." <> '' THEN BEGIN
+        CASE "Bal. Account Type" OF
+          "Bal. Account Type"::"G/L Account": BEGIN
+            TestGLAcc.GET("Bal. Account No.");
+            BalDesCurrency := TestGLAcc."Currency Code";
+            BalDesCCYMandatory := TestGLAcc."Currency Code" <> '';
+          END;
+          "Bal. Account Type"::Customer: BEGIN
+            TestCust.GET("Bal. Account No.");
+            BalDesCurrency := TestCust."Currency Code";
+          END;
+          "Bal. Account Type"::Vendor: BEGIN
+            TestVend.GET("Bal. Account No.");
+            BalDesCurrency := TestVend."Currency Code";
+          END;
+          "Bal. Account Type"::"Bank Account": BEGIN
+            TestBank.GET("Bal. Account No.");
+            BalDesCurrency := TestBank."Currency Code";
+            BalDesCCYMandatory := TestBank."Currency Code" <> '';
+          END;
+          "Bal. Account Type"::"IC Partner": BEGIN
+            TestICPartner.GET("Bal. Account No.");
+            BalDesCurrency := TestICPartner."Currency Code";
+          END;
+        END;
+      END;
+      //OS006s os.jgl
+      IF DesCCYMandatory AND BalDesCCYMandatory AND (DesCurrency <> BalDesCurrency) THEN
+      //OS006e os.jgl
+        ERROR(Text5274200,"Account Type","Account No.",DesCurrency,"Bal. Account Type","Bal. Account No.",BalDesCurrency);
+      IF DesCCYMandatory OR BalDesCCYMandatory THEN BEGIN
+        "Currency manually entered" := FALSE;
+        IF DesCCYMandatory THEN
+          ResCurrency := DesCurrency
+        ELSE
+          ResCurrency := BalDesCurrency;
+      END ELSE BEGIN
+        IF "Currency manually entered" THEN BEGIN
+          ResCurrency := CurrCurrency;
+        END ELSE BEGIN
+          IF DesCurrency <> '' THEN BEGIN
+            ResCurrency := DesCurrency;
+          END ELSE BEGIN
+            IF BalDesCurrency <> '' THEN BEGIN
+              ResCurrency := BalDesCurrency;
+            END ELSE BEGIN
+              ResCurrency := CurrCurrency;
+            END;
+          END;
+        END;
+      END;
+      EXIT(ResCurrency);
+      //OS005e os.jgl
+    END;
+
+    PROCEDURE LookupShortcutDimCodeRO@119451026(FieldNumber@119451021 : Integer;VAR ShortcutDimCode@119451022 : Code[20]);
+    VAR
+      ShortcutDimCode2@119451023 : Code[20];
+    BEGIN
+      //OS008s os.jgl
+      ShortcutDimCode2 := ShortcutDimCode;
+      DimMgt.LookupDimValueCode(FieldNumber,ShortcutDimCode2);
+      //OS008e os.jgl
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     05.12.2010    os.jgl  SITC    Foreign Currency in G/L Entries, like Bank Account (no open entries, check for same
+                                              currency on all  entries)
+                03.03.2011    os.jgl  SITC    Correction of Bal.Account AccType=GL behaviour
+      OS002     12.02.2011    os.jgl  SIBB    additional function SetIgnoreFixedCurrency for Close Income Statement
+      OS003     13.02.2011    os.jgl  SIBB    additional field "force post"
+      OS004     08.05.2011    os.jgl  SITC    added removed standard code in coments for reference
+      OS005     30.11.2011    os.jgl  SITC    New handling of currency requirements:
+                                              New function VerifyCurrency(), based on these rules:
+                                                1. G/L Accounts and Bank Accounts require a certain currency.
+                                                2. Customers and Vendors have a default currency, which can be overruled by a required
+                                                   currency.
+                                                3. A currency which has already been manually set is considered as default currency.
+                                                4. Only one account can provide the required currency, conflicts are shown as error.
+      OS006     07.12.2011    os.jgl  SITC    Correction of VerifyCurrency(): when both accounts require the same currency, then this is
+                                              valid as well
+      OS008     13.10.2012    os.jgl  SITC    New function for System Journal: LookupShortcutDimCodeRO
+      PX004     08.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              Neues Feld "WasPrePayment" zur Identifizierung von Vorauszahlungsverrechnungen. Diese dÅrfen
+                                              nicht als unrealisierte Steuer gewertet werden, egal was die Buchungsmatrix Einrichtung sagt.
+      PX005     09.09.2017    px.jgl  P4TC    Integrate into NAV2017
+                02.10.2017                    change SetCurrencyFactor() to local function - should only be used in the CopyFrom* functions
+                                      P4BB
+    }
     END.
   }
 }
diff --git a/table/table_0000000085.txt b/table/table_0000000085.txt
index 41da6c4..9fc8091 100644
--- a/table/table_0000000085.txt
+++ b/table/table_0000000085.txt
@@ -4,7 +4,7 @@ OBJECT Table 85 Acc. Schedule Line
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -161,6 +161,10 @@ OBJECT Table 85 Acc. Schedule Line
     { 1104;   ;Cost Budget Filter  ;Code10        ;FieldClass=FlowFilter;
                                                    TableRelation="Cost Budget Name";
                                                    CaptionML=ENU=Cost Budget Filter }
+    { 5274200;;Currency Filter     ;Code10        ;FieldClass=FlowFilter;
+                                                   TableRelation=Currency;
+                                                   CaptionML=ENU=Currency Filter;
+                                                   Description=OS001 os.jgl 25.02.2013 }
   }
   KEYS
   {
@@ -423,6 +427,26 @@ OBJECT Table 85 Acc. Schedule Line
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     25.02.2013    os.jgl  SITC    DEV-32: Added field "Currency Filter"
+    }
     END.
   }
 }
diff --git a/table/table_0000000091.txt b/table/table_0000000091.txt
index 2e54a14..37d27af 100644
--- a/table/table_0000000091.txt
+++ b/table/table_0000000091.txt
@@ -4,7 +4,7 @@ OBJECT Table 91 User Setup
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.02;
   }
   PROPERTIES
   {
@@ -181,6 +181,7 @@ OBJECT Table 91 User Setup
                                                    CaptionML=ENU=Purchase Resp. Ctr. Filter }
     { 5900;   ;Service Resp. Ctr. Filter;Code10   ;TableRelation="Responsibility Center";
                                                    CaptionML=ENU=Service Resp. Ctr. Filter }
+    { 5274110;;Edit Dimensions in Entries;Boolean ;CaptionML=ENU=Edit Dimensions in Entries }
   }
   KEYS
   {
@@ -293,6 +294,25 @@ OBJECT Table 91 User Setup
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.02             21.09.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     21.09.2017    px.jgl  P4BB    new flag: Edit dimensions in entries
+    }
     END.
   }
 }
diff --git a/table/table_0000000098.txt b/table/table_0000000098.txt
index d91525e..dc70add 100644
--- a/table/table_0000000098.txt
+++ b/table/table_0000000098.txt
@@ -4,7 +4,7 @@ OBJECT Table 98 General Ledger Setup
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4TC3.01;
   }
   PROPERTIES
   {
@@ -375,6 +375,8 @@ OBJECT Table 98 General Ledger Setup
     { 164 ;   ;Show Amounts        ;Option        ;CaptionML=ENU=Show Amounts;
                                                    OptionCaptionML=ENU=Amount Only,Debit/Credit Only,All Amounts;
                                                    OptionString=Amount Only,Debit/Credit Only,All Amounts }
+    { 5274200;;Allow Deferrals with FCY;Boolean   ;CaptionML=ENU=Allow Deferrals with Foreign Currency;
+                                                   Description=PX001  px.jgl  06.10.17 }
   }
   KEYS
   {
@@ -618,6 +620,33 @@ OBJECT Table 98 General Ledger Setup
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             06.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Jîrg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     06.10.2017    px.jgl  P4TC    New flag: allow deferrals with foreign currency
+                                              P4TC initially disables them, as deferrals in currency have a currency and exchange rate
+                                              now. The amortizations are usually posted into the future, where the exchange rate is
+                                              different, naturally. To make the amortizations "correct" they need to be adjusted for
+                                              exchange rate. You can do this with P4TC (make deferral accounts adjustable),
+                                              but not per entry. For this you need open item functionality on g/l entries.
+                                              To avoid postings that introduce this even more complex process without being aware of it,
+                                              they are disabled by default.
+    }
     END.
   }
 }
diff --git a/table/table_0000000179.txt b/table/table_0000000179.txt
index 632f476..1d104f9 100644
--- a/table/table_0000000179.txt
+++ b/table/table_0000000179.txt
@@ -4,7 +4,7 @@ OBJECT Table 179 Reversal Entry
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TA3.01;
   }
   PROPERTIES
   {
@@ -86,6 +86,10 @@ OBJECT Table 179 Reversal Entry
     { 30  ;   ;Reversal Type       ;Option        ;CaptionML=ENU=Reversal Type;
                                                    OptionCaptionML=ENU=Transaction,Register;
                                                    OptionString=Transaction,Register }
+    { 5274204;;VAT Amount (FCY)    ;Decimal       ;CaptionML=ENU=VAT Amount (FCY);
+                                                   Description=OS001;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
   }
   KEYS
   {
@@ -265,7 +269,13 @@ OBJECT Table 179 Reversal Entry
     BEGIN
       GLAcc.GET(GLEntry."G/L Account No.");
       CheckPostingDate(GLEntry."Posting Date",GLEntry.TABLECAPTION,GLEntry."Entry No.");
-      GLAcc.TESTFIELD(Blocked,FALSE);
+      //OS006s os.jgl
+      //OS008s os.jgl
+      // GetBBSetup;
+      // IF NOT BBSetup."Revert with Force Post" THEN
+      //   GLAcc.TESTFIELD(Blocked,FALSE);
+      //OS008e os.jgl
+      //OS006e os.jgl
       GLEntry.TESTFIELD("Job No.",'');
       IF GLEntry.Reversed THEN
         AlreadyReversedEntry(GLEntry.TABLECAPTION,GLEntry."Entry No.");
@@ -281,7 +291,13 @@ OBJECT Table 179 Reversal Entry
       Cust.GET(CustLedgEntry."Customer No.");
       CheckPostingDate(
         CustLedgEntry."Posting Date",CustLedgEntry.TABLECAPTION,CustLedgEntry."Entry No.");
-      Cust.CheckBlockedCustOnJnls(Cust,CustLedgEntry."Document Type",FALSE);
+      //OS006s os.jgl
+      //OS008s os.jgl
+      // GetBBSetup;
+      // IF NOT BBSetup."Revert with Force Post" THEN
+      //   Cust.CheckBlockedCustOnJnls(Cust,CustLedgEntry."Document Type",FALSE);
+      //OS008e os.jgl
+      //OS006e os.jgl
       IF CustLedgEntry.Reversed THEN
         AlreadyReversedEntry(CustLedgEntry.TABLECAPTION,CustLedgEntry."Entry No.");
       CheckDtldCustLedgEntry(CustLedgEntry);
@@ -294,7 +310,13 @@ OBJECT Table 179 Reversal Entry
       Vend.GET(VendLedgEntry."Vendor No.");
       CheckPostingDate(
         VendLedgEntry."Posting Date",VendLedgEntry.TABLECAPTION,VendLedgEntry."Entry No.");
-      Vend.CheckBlockedVendOnJnls(Vend,VendLedgEntry."Document Type",FALSE);
+      //OS006s os.jgl
+      //OS008s os.jgl
+      // GetBBSetup;
+      // IF NOT BBSetup."Revert with Force Post" THEN
+      //   Vend.CheckBlockedVendOnJnls(Vend,VendLedgEntry."Document Type",FALSE);
+      //OS008e os.jgl
+      //OS006e os.jgl
       IF VendLedgEntry.Reversed THEN
         AlreadyReversedEntry(VendLedgEntry.TABLECAPTION,VendLedgEntry."Entry No.");
       CheckDtldVendLedgEntry(VendLedgEntry);
@@ -308,7 +330,13 @@ OBJECT Table 179 Reversal Entry
       BankAcc.GET(BankAccLedgEntry."Bank Account No.");
       CheckPostingDate(
         BankAccLedgEntry."Posting Date",BankAccLedgEntry.TABLECAPTION,BankAccLedgEntry."Entry No.");
-      BankAcc.TESTFIELD(Blocked,FALSE);
+      //OS006s os.jgl
+      //OS008s os.jgl
+      // GetBBSetup;
+      // IF NOT BBSetup."Revert with Force Post" THEN
+      //   BankAcc.TESTFIELD(Blocked,FALSE);
+      //OS008e os.jgl
+      //OS006e os.jgl
       IF BankAccLedgEntry.Reversed THEN
         AlreadyReversedEntry(BankAccLedgEntry.TABLECAPTION,BankAccLedgEntry."Entry No.");
       IF NOT BankAccLedgEntry.Open THEN
@@ -334,8 +362,15 @@ OBJECT Table 179 Reversal Entry
         FALedgEntry."Posting Date",FALedgEntry.TABLECAPTION,FALedgEntry."Entry No.");
       CheckFAPostingDate(
         FALedgEntry."FA Posting Date",FALedgEntry.TABLECAPTION,FALedgEntry."Entry No.");
-      FA.TESTFIELD(Blocked,FALSE);
-      FA.TESTFIELD(Inactive,FALSE);
+      //OS006s os.jgl
+      //OS008s os.jgl
+      // GetBBSetup;
+      // IF NOT BBSetup."Revert with Force Post" THEN BEGIN
+      //   FA.TESTFIELD(Blocked,FALSE);
+      //   FA.TESTFIELD(Inactive,FALSE);
+      // END;
+      //OS008e os.jgl
+      //OS006e os.jgl
       IF FALedgEntry.Reversed THEN
         AlreadyReversedEntry(FALedgEntry.TABLECAPTION,FALedgEntry."Entry No.");
       FALedgEntry.TESTFIELD("Depreciation Book Code");
@@ -355,8 +390,15 @@ OBJECT Table 179 Reversal Entry
         MaintenanceLedgEntry."Posting Date",MaintenanceLedgEntry.TABLECAPTION,MaintenanceLedgEntry."Entry No.");
       CheckFAPostingDate(
         MaintenanceLedgEntry."FA Posting Date",MaintenanceLedgEntry.TABLECAPTION,MaintenanceLedgEntry."Entry No.");
-      FA.TESTFIELD(Blocked,FALSE);
-      FA.TESTFIELD(Inactive,FALSE);
+      //OS006s os.jgl
+      //OS008s os.jgl
+      // GetBBSetup;
+      // IF NOT BBSetup."Revert with Force Post" THEN BEGIN
+      //   FA.TESTFIELD(Blocked,FALSE);
+      //   FA.TESTFIELD(Inactive,FALSE);
+      // END;
+      //OS008e os.jgl
+      //OS006e os.jgl
       MaintenanceLedgEntry.TESTFIELD("Depreciation Book Code");
       IF MaintenanceLedgEntry.Reversed THEN
         AlreadyReversedEntry(MaintenanceLedgEntry.TABLECAPTION,MaintenanceLedgEntry."Entry No.");
@@ -367,9 +409,15 @@ OBJECT Table 179 Reversal Entry
     LOCAL PROCEDURE CheckVAT@21(VATEntry@1000 : Record 254);
     BEGIN
       CheckPostingDate(VATEntry."Posting Date",VATEntry.TABLECAPTION,VATEntry."Entry No.");
-      IF VATEntry.Closed THEN
-        ERROR(
-          Text006,VATEntry.TABLECAPTION,VATEntry."Entry No.");
+      //OS007s os.jgl
+      //OS008s os.jgl
+      // GetBBSetup;
+      // IF NOT BBSetup."Allow Reversal of Closed VAT" THEN
+      //   IF VATEntry.Closed THEN
+      //     ERROR(
+      //       Text006,VATEntry.TABLECAPTION,VATEntry."Entry No.");
+      //OS008e os.jgl
+      //OS007e os.jgl
       IF VATEntry.Reversed THEN
         AlreadyReversedEntry(VATEntry.TABLECAPTION,VATEntry."Entry No.");
       IF VATEntry."Unrealized VAT Entry No." <> 0 THEN
@@ -906,6 +954,13 @@ OBJECT Table 179 Reversal Entry
       "Source Code" := GLEntry."Source Code";
       "Journal Batch Name" := GLEntry."Journal Batch Name";
       "Transaction No." := GLEntry."Transaction No.";
+      //OS001s os.jgl
+      "Currency Code" := GLEntry."Currency Code";
+      Amount := GLEntry."Amount (FCY)";
+      "Debit Amount" := GLEntry."Debit Amount (FCY)";
+      "Credit Amount" := GLEntry."Credit Amount (FCY)";
+      "VAT Amount (FCY)" := GLEntry."VAT Amount (FCY)";
+      //OS001e os.jgl
       "Source Type" := GLEntry."Source Type";
       "Source No." := GLEntry."Source No.";
       Description := GLEntry.Description;
@@ -943,6 +998,10 @@ OBJECT Table 179 Reversal Entry
       "Posting Date" := VATEntry."Posting Date";
       "Source Code" := VATEntry."Source Code";
       "Transaction No." := VATEntry."Transaction No.";
+      //OS001s os.jgl
+      "Currency Code" := VATEntry."Currency Code";
+      Amount := VATEntry."Amount (FCY)";
+      //OS001e os.jgl
       Amount := VATEntry.Amount;
       "Amount (LCY)" := VATEntry.Amount;
       "Document Type" := VATEntry."Document Type";
@@ -995,6 +1054,31 @@ OBJECT Table 179 Reversal Entry
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TA     Plexada P/4 TransactionCurrency Advanced            3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     06.03.2011    os.jgl  SITC    additional field "VAT Amount (FCY)"
+                                              consider additional fields when reversing
+      OS006     25.03.2013    os.jgl  SIBB    BUG-15: ensure that "Revert with Force Post" works as expected
+      OS007     01.05.2013    os.jgl  SIBB    DEV-36: Allow Reversal of closed VAT Entries
+      OS008     01.08.2013    os.jgl  SITC    Configuration for SITC Advanced
+      PX001     06.08.2017    px.jgl  P4TC    Integrate into NAV2017
+    }
     END.
   }
 }
diff --git a/table/table_0000000232.txt b/table/table_0000000232.txt
index 7e94dc3..93e23ff 100644
--- a/table/table_0000000232.txt
+++ b/table/table_0000000232.txt
@@ -4,7 +4,7 @@ OBJECT Table 232 Gen. Journal Batch
   {
     Date=28.06.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.23019;
+    Version List=NAVW111.00.00.23019,P4BB2.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -126,8 +126,9 @@ OBJECT Table 232 Gen. Journal Batch
     { 21  ;   ;Template Type       ;Option        ;FieldClass=FlowField;
                                                    CalcFormula=Lookup("Gen. Journal Template".Type WHERE (Name=FIELD(Journal Template Name)));
                                                    CaptionML=ENU=Template Type;
-                                                   OptionCaptionML=ENU=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs;
-                                                   OptionString=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs;
+                                                   OptionCaptionML=ENU=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs,,,,,,,,,,,,,System;
+                                                   OptionString=General,Sales,Purchases,Cash Receipts,Payments,Assets,Intercompany,Jobs,,,,,,,,,,,,,System;
+                                                   Description=PX001 px.jgl 21.05.2016;
                                                    Editable=No }
     { 22  ;   ;Recurring           ;Boolean       ;FieldClass=FlowField;
                                                    CalcFormula=Lookup("Gen. Journal Template".Recurring WHERE (Name=FIELD(Journal Template Name)));
@@ -269,6 +270,27 @@ OBJECT Table 232 Gen. Journal Batch
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     13.01.2014    os.jgl  SITC    Bugfix: Define the additional Template Type "System" with value 20
+      OS001     21.05.2016    px.jgl  P4BB    Extend "Template Type" by "System" (20)
+    }
     END.
   }
 }
diff --git a/table/table_0000000242.txt b/table/table_0000000242.txt
index 19f8f74..ffd76ae 100644
--- a/table/table_0000000242.txt
+++ b/table/table_0000000242.txt
@@ -4,7 +4,7 @@ OBJECT Table 242 Source Code Setup
   {
     Date=22.11.17;
     Time=12:00:00;
-    Version List=NAVW111.00;
+    Version List=NAVW111.00,P4BB2.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -167,6 +167,9 @@ OBJECT Table 242 Source Code Setup
                                                    CaptionML=ENU=Whse. Movement }
     { 7307;   ;Compress Whse. Entries;Code10      ;TableRelation="Source Code";
                                                    CaptionML=ENU=Compress Whse. Entries }
+    { 5274104;;System Journal      ;Code10        ;TableRelation="Source Code";
+                                                   CaptionML=ENU=System Journal;
+                                                   Description=OS001  os.jgl  17.02.2011 }
   }
   KEYS
   {
@@ -179,6 +182,27 @@ OBJECT Table 242 Source Code Setup
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     17.02.2011    os.jgl  SIBB    Source Code for "System Journal"
+    }
     END.
   }
 }
diff --git a/table/table_0000000254.txt b/table/table_0000000254.txt
index bbda7b5..c2e0f05 100644
--- a/table/table_0000000254.txt
+++ b/table/table_0000000254.txt
@@ -4,7 +4,7 @@ OBJECT Table 254 VAT Entry
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00,P4TC3.01;
   }
   PROPERTIES
   {
@@ -225,6 +225,49 @@ OBJECT Table 254 VAT Entry
                                                    BlankZero=Yes }
     { 59  ;   ;EU Service          ;Boolean       ;CaptionML=ENU=EU Service;
                                                    Editable=No }
+    { 5274104;;Application Transaction No.;Integer;CaptionML=ENU=Application Transaction No.;
+                                                   Description=PX001;
+                                                   Editable=No }
+    { 5274200;;Currency Code       ;Code10        ;TableRelation=Currency;
+                                                   CaptionML=ENU=Currency Code;
+                                                   Description=OS001 os.jgl 26.12.2010 }
+    { 5274201;;Base (FCY)          ;Decimal       ;CaptionML=ENU=Base (FCY);
+                                                   Description=OS001 os.jgl 26.12.2010;
+                                                   Editable=No;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274202;;Amount (FCY)        ;Decimal       ;CaptionML=ENU=Amount (FCY);
+                                                   Description=OS001 os.jgl 26.12.2010;
+                                                   Editable=No;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274203;;Unrealized Base (FCY);Decimal      ;CaptionML=ENU=Unrealized Base (FCY);
+                                                   Description=OS001 os.jgl 26.12.2010;
+                                                   Editable=No;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274204;;Unrealized Amount (FCY);Decimal    ;CaptionML=ENU=Unrealized Amount (FCY);
+                                                   Description=OS001 os.jgl 26.12.2010;
+                                                   Editable=No;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274205;;Remaining Unreal. Amount (FCY);Decimal;
+                                                   CaptionML=ENU=Remaining Unrealized Amount (FCY);
+                                                   Description=OS001 os.jgl 26.12.2010;
+                                                   Editable=No;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274206;;Remaining Unreal. Base (FCY);Decimal;
+                                                   CaptionML=ENU=Remaining Unrealized Base (FCY);
+                                                   Description=OS001 os.jgl 26.12.2010;
+                                                   Editable=No;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274207;;VAT Difference (FCY);Decimal       ;CaptionML=ENU=VAT Difference (FCY);
+                                                   Description=OS001 os.jgl 26.12.2010;
+                                                   Editable=No;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
   }
   KEYS
   {
@@ -236,10 +279,17 @@ OBJECT Table 254 VAT Entry
     {    ;Type,Country/Region Code,VAT Registration No.,VAT Bus. Posting Group,VAT Prod. Posting Group,Posting Date;
                                                    SumIndexFields=Base,Additional-Currency Base }
     {    ;Document No.,Posting Date                }
-    {    ;Transaction No.                          }
+    {    ;Transaction No.,Application Transaction No. }
     {    ;Tax Jurisdiction Code,Tax Group Used,Tax Type,Use Tax,Posting Date }
-    {    ;Type,Bill-to/Pay-to No.,Transaction No. ;MaintainSQLIndex=No }
+    {    ;Type,Bill-to/Pay-to No.,Transaction No.,Application Transaction No.;
+                                                   MaintainSQLIndex=No }
     {    ;Document Date                            }
+    {    ;Type,Closed,Currency Code,VAT Bus. Posting Group,VAT Prod. Posting Group,Posting Date;
+                                                   SumIndexFields=Base,Amount,Additional-Currency Base,Additional-Currency Amount,Base (FCY),Amount (FCY);
+                                                   KeyGroups=VAT }
+    {    ;Type,Closed,Currency Code,Tax Jurisdiction Code,Use Tax,Posting Date;
+                                                   SumIndexFields=Base,Amount,Additional-Currency Base,Additional-Currency Amount,Base (FCY),Amount (FCY);
+                                                   KeyGroups=SakesTax }
   }
   FIELDGROUPS
   {
@@ -396,6 +446,15 @@ OBJECT Table 254 VAT Entry
       "Add.-Curr. Rem. Unreal. Base" := Sign * VATEntry."Add.-Curr. Rem. Unreal. Base";
       "VAT Difference" := Sign * VATEntry."VAT Difference";
       "Add.-Curr. VAT Difference" := Sign * VATEntry."Add.-Curr. VAT Difference";
+      //PX002s px.jgl
+      "Base (FCY)" := Sign * VATEntry."Base (FCY)";
+      "Amount (FCY)" := Sign * VATEntry."Amount (FCY)";
+      "Unrealized Base (FCY)" := Sign * VATEntry."Unrealized Base (FCY)";
+      "Unrealized Amount (FCY)" := Sign * VATEntry."Unrealized Amount (FCY)";
+      "Remaining Unreal. Amount (FCY)" := Sign * VATEntry."Remaining Unreal. Amount (FCY)";
+      "Remaining Unreal. Base (FCY)" := Sign * VATEntry."Remaining Unreal. Base (FCY)";
+      "VAT Difference (FCY)" := Sign * VATEntry."VAT Difference (FCY)";
+      //PX002e px.jgl
     END;
 
     [External]
@@ -409,6 +468,12 @@ OBJECT Table 254 VAT Entry
       "Add.-Currency Unrealized Base" := 0;
       "Add.-Curr. Rem. Unreal. Amount" := 0;
       "Add.-Curr. Rem. Unreal. Base" := 0;
+      //PX002s px.jgl
+      "Unrealized Base (FCY)" := 0;
+      "Unrealized Amount (FCY)" := 0;
+      "Remaining Unreal. Amount (FCY)" := 0;
+      "Remaining Unreal. Base (FCY)" := 0;
+      //PX002e px.jgl
     END;
 
     [Integration]
@@ -417,6 +482,38 @@ OBJECT Table 254 VAT Entry
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     26.12.2010    os.jgl  SITC    additional fields for Foreign Currency
+      OS002     05.04.2011    os.jgl  SITC    additional keys for calc. and post VAT settlement
+                                              Type,Closed,Currency Code,VAT Bus. Posting Group,VAT Prod. Posting Group,Posting Date
+                                              Type,Closed,Currency Code,Tax Jurisdiction Code,Use Tax,Posting Date
+                14.04.2011    os.jgl  SITC    additional SumIndexFields: Base, Amount, Add. Currency Base, Add. Currency Amount,
+                                              Base (FCY), Amount (FCY)
+      OS004     10.06.2011    os.jgl  SITC    Added AutoformatExpr="Currency Code" to all FCY fields
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              New Field: Application Transaction No.
+                                              Modified Key: Transaction No.,Application Transaction No.
+                                              Modified Key: Type,Bill-to/Pay-to No.,Transaction No.,Application Transaction No.
+      PX002     25.09.2017    px.jgl  P4TC    Integrate into NAV2017
+    }
     END.
   }
 }
diff --git a/table/table_0000000257.txt b/table/table_0000000257.txt
index c7a623c..9ec5e71 100644
--- a/table/table_0000000257.txt
+++ b/table/table_0000000257.txt
@@ -2,9 +2,9 @@ OBJECT Table 257 VAT Statement Name
 {
   OBJECT-PROPERTIES
   {
-    Date=07.09.12;
+    Date=23.05.16;
     Time=12:00:00;
-    Version List=NAVW17.00;
+    Version List=NAVW17.00,P4TC3.00;
   }
   PROPERTIES
   {
@@ -34,6 +34,11 @@ OBJECT Table 257 VAT Statement Name
     { 3   ;   ;Description         ;Text50        ;CaptionML=ENU=Description }
     { 4   ;   ;Date Filter         ;Date          ;FieldClass=FlowFilter;
                                                    CaptionML=ENU=Date Filter }
+    { 5274200;;Currency Filter     ;Code10        ;FieldClass=FlowFilter;
+                                                   TableRelation=Currency;
+                                                   ValidateTableRelation=No;
+                                                   CaptionML=ENU=Currency Filter;
+                                                   Description=OS001 os.jgl 16.03.2011 }
   }
   KEYS
   {
@@ -48,6 +53,27 @@ OBJECT Table 257 VAT Statement Name
       VATStmtLine@1000 : Record 256;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+
+      OS001     16.03.2011    os.jgl  SITC    additional Field: Currency Filter
+    }
     END.
   }
 }
diff --git a/table/table_0000000270.txt b/table/table_0000000270.txt
index 81fcb2c..4bc25b3 100644
--- a/table/table_0000000270.txt
+++ b/table/table_0000000270.txt
@@ -4,7 +4,7 @@ OBJECT Table 270 Bank Account
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4TC3.00;
   }
   PROPERTIES
   {
@@ -155,6 +155,10 @@ OBJECT Table 270 Bank Account
                                                                   ERROR(
                                                                     Text000,
                                                                     FIELDCAPTION("Currency Code"));
+
+                                                                //OS001s os.jgl
+                                                                "FCY Exchange Rate Adjustment":="Currency Code"<>'';
+                                                                //OS001e os.jgl
                                                               END;
 
                                                    CaptionML=ENU=Currency Code }
@@ -197,24 +201,30 @@ OBJECT Table 270 Bank Account
     { 58  ;   ;Balance             ;Decimal       ;FieldClass=FlowField;
                                                    CalcFormula=Sum("Bank Account Ledger Entry".Amount WHERE (Bank Account No.=FIELD(No.),
                                                                                                              Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
-                                                                                                             Global Dimension 2 Code=FIELD(Global Dimension 2 Filter)));
+                                                                                                             Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                             Currency Code=FIELD(Currency Filter)));
                                                    CaptionML=ENU=Balance;
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr="Currency Code" }
     { 59  ;   ;Balance (LCY)       ;Decimal       ;FieldClass=FlowField;
                                                    CalcFormula=Sum("Bank Account Ledger Entry"."Amount (LCY)" WHERE (Bank Account No.=FIELD(No.),
                                                                                                                      Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
-                                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter)));
+                                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                     Currency Code=FIELD(Currency Filter)));
                                                    CaptionML=ENU=Balance (LCY);
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 60  ;   ;Net Change          ;Decimal       ;FieldClass=FlowField;
                                                    CalcFormula=Sum("Bank Account Ledger Entry".Amount WHERE (Bank Account No.=FIELD(No.),
                                                                                                              Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                              Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                             Currency Code=FIELD(Currency Filter),
                                                                                                              Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Net Change;
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr="Currency Code" }
@@ -222,8 +232,10 @@ OBJECT Table 270 Bank Account
                                                    CalcFormula=Sum("Bank Account Ledger Entry"."Amount (LCY)" WHERE (Bank Account No.=FIELD(No.),
                                                                                                                      Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                      Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                     Currency Code=FIELD(Currency Filter),
                                                                                                                      Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Net Change (LCY);
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 62  ;   ;Total on Checks     ;Decimal       ;FieldClass=FlowField;
@@ -257,8 +269,10 @@ OBJECT Table 270 Bank Account
                                                    CalcFormula=Sum("Bank Account Ledger Entry".Amount WHERE (Bank Account No.=FIELD(No.),
                                                                                                              Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                              Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                             Currency Code=FIELD(Currency Filter),
                                                                                                              Posting Date=FIELD(UPPERLIMIT(Date Filter))));
                                                    CaptionML=ENU=Balance at Date;
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr="Currency Code" }
@@ -266,17 +280,21 @@ OBJECT Table 270 Bank Account
                                                    CalcFormula=Sum("Bank Account Ledger Entry"."Amount (LCY)" WHERE (Bank Account No.=FIELD(No.),
                                                                                                                      Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                      Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                     Currency Code=FIELD(Currency Filter),
                                                                                                                      Posting Date=FIELD(UPPERLIMIT(Date Filter))));
                                                    CaptionML=ENU=Balance at Date (LCY);
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 97  ;   ;Debit Amount        ;Decimal       ;FieldClass=FlowField;
                                                    CalcFormula=Sum("Bank Account Ledger Entry"."Debit Amount" WHERE (Bank Account No.=FIELD(No.),
                                                                                                                      Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                      Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                     Currency Code=FIELD(Currency Filter),
                                                                                                                      Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Debit Amount;
                                                    BlankZero=Yes;
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr="Currency Code" }
@@ -284,9 +302,11 @@ OBJECT Table 270 Bank Account
                                                    CalcFormula=Sum("Bank Account Ledger Entry"."Credit Amount" WHERE (Bank Account No.=FIELD(No.),
                                                                                                                       Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                       Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                      Currency Code=FIELD(Currency Filter),
                                                                                                                       Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Credit Amount;
                                                    BlankZero=Yes;
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1;
                                                    AutoFormatExpr="Currency Code" }
@@ -294,18 +314,22 @@ OBJECT Table 270 Bank Account
                                                    CalcFormula=Sum("Bank Account Ledger Entry"."Debit Amount (LCY)" WHERE (Bank Account No.=FIELD(No.),
                                                                                                                            Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                            Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                           Currency Code=FIELD(Currency Filter),
                                                                                                                            Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Debit Amount (LCY);
                                                    BlankZero=Yes;
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 100 ;   ;Credit Amount (LCY) ;Decimal       ;FieldClass=FlowField;
                                                    CalcFormula=Sum("Bank Account Ledger Entry"."Credit Amount (LCY)" WHERE (Bank Account No.=FIELD(No.),
                                                                                                                             Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                             Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
+                                                                                                                            Currency Code=FIELD(Currency Filter),
                                                                                                                             Posting Date=FIELD(Date Filter)));
                                                    CaptionML=ENU=Credit Amount (LCY);
                                                    BlankZero=Yes;
+                                                   Description=PX006 px.jgl10.01.2016;
                                                    Editable=No;
                                                    AutoFormatType=1 }
     { 101 ;   ;Bank Branch No.     ;Text20        ;CaptionML=ENU=Bank Branch No. }
@@ -404,6 +428,14 @@ OBJECT Table 270 Bank Account
                                                    DecimalPlaces=0:5 }
     { 1260;   ;Positive Pay Export Code;Code20    ;TableRelation="Bank Export/Import Setup".Code WHERE (Direction=CONST(Export-Positive Pay));
                                                    CaptionML=ENU=Positive Pay Export Code }
+    { 5274270;;Currency Filter     ;Code10        ;FieldClass=FlowFilter;
+                                                   TableRelation=Currency;
+                                                   CaptionML=ENU=Currency Filter;
+                                                   Description=PX006 px.jgl 10.01.2016 }
+    { 5274299;;FCY Exchange Rate Adjustment;Boolean;
+                                                   InitValue=No;
+                                                   CaptionML=ENU=FCY Exchange Rate Adjustment;
+                                                   Description=PX006 px.jgl 11.01.2016 }
   }
   KEYS
   {
@@ -917,6 +949,32 @@ OBJECT Table 270 Bank Account
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        px.jgl   Jens Glathe
+        si.jw    Joerg Winner
+        px.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     22.01.2011    os.jgl  SITC    additional field "Exchange Rate Adjustment", additional code for the preset
+      OS004     28.06.2011    os.jgl  SITC    FCY Exchange Rate Adjustment: should not be set for empty Currency Code
+      OS005     27.09.2014    os.jgl  SITC    Merge into NAV2013R2
+      PX006     10.01.2016    px.jgl  SITC    New Flowfilter: Currency Filter
+                11.01.2016    px.jgl  SITC    Allow FCY Adjustment without a currency code set
+    }
     END.
   }
 }
diff --git a/table/table_0000000271.txt b/table/table_0000000271.txt
index 994bcbf..a5aa63c 100644
--- a/table/table_0000000271.txt
+++ b/table/table_0000000271.txt
@@ -4,7 +4,7 @@ OBJECT Table 271 Bank Account Ledger Entry
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4TC3.01;
   }
   PROPERTIES
   {
@@ -128,8 +128,10 @@ OBJECT Table 271 Bank Account Ledger Entry
                                                    MaintainSQLIndex=No }
     {    ;Document No.,Posting Date                }
     {    ;Transaction No.                          }
-    { No ;Bank Account No.,Global Dimension 1 Code,Global Dimension 2 Code,Posting Date;
+    {    ;Bank Account No.,Currency Code,Global Dimension 1 Code,Global Dimension 2 Code,Posting Date;
                                                    SumIndexFields=Amount,Amount (LCY),Debit Amount,Credit Amount,Debit Amount (LCY),Credit Amount (LCY) }
+    {    ;Bank Account No.,Currency Code,Dimension Set ID,Posting Date;
+                                                   SumIndexFields=Amount,Amount (LCY) }
   }
   FIELDGROUPS
   {
@@ -234,6 +236,28 @@ OBJECT Table 271 Bank Account Ledger Entry
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             11.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     11.01.2016    px.jgl  SITC    Modified key: Bank Account No.,Currency Code,Global Dimension 1 Code,
+                                                            Global Dimension 2 Code,Posting Date
+      MBK17     04.09.2017    px.jgl  P4TA    Added key: Bank Account No.,Currency Code,Dimension Set ID,Posting Date
+    }
     END.
   }
 }
diff --git a/table/table_0000000325.txt b/table/table_0000000325.txt
index 9d79a61..0f1ec8f 100644
--- a/table/table_0000000325.txt
+++ b/table/table_0000000325.txt
@@ -4,7 +4,7 @@ OBJECT Table 325 VAT Posting Setup
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4BB2.00;
   }
   PROPERTIES
   {
@@ -47,6 +47,9 @@ OBJECT Table 325 VAT Posting Setup
                                                                   IF NOT GLSetup."Unrealized VAT" AND NOT GLSetup."Prepayment Unrealized VAT" THEN
                                                                     GLSetup.TESTFIELD("Unrealized VAT",TRUE);
                                                                 END;
+                                                                //PX001s px.jgl
+                                                                "Prepayment Unrealized VAT only" := GLSetup."Prepayment Unrealized VAT" AND NOT GLSetup."Unrealized VAT";
+                                                                //PX001e px.jgl
                                                               END;
 
                                                    CaptionML=ENU=Unrealized VAT Type;
@@ -132,6 +135,9 @@ OBJECT Table 325 VAT Posting Setup
                                                                                         VAT Prod. Posting Group=FIELD(VAT Prod. Posting Group)));
                                                    CaptionML=ENU=Used in Ledger Entries;
                                                    Editable=No }
+    { 5274104;;Prepayment Unrealized VAT only;Boolean;
+                                                   CaptionML=ENU=Prepayment Unrealized VAT only;
+                                                   Description=PX001 }
   }
   KEYS
   {
@@ -342,6 +348,35 @@ OBJECT Table 325 VAT Posting Setup
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     06.05.2016    px.jgl  P4BB    zusÑtzliches Feld zur KlÑrung der unrealisierten MwSt:
+                                                Einrichtung der unrealisierten MwSt. prÑzisieren auf "nur Vorauszahlung unrealisierte
+                                                MwSt."
+                                              Hintergrund: Wenn man Vorauszahlungen verwendet, mÅssen diese (zumindestens in DE) als
+                                              unrealisierte MwSt. gebucht werden, mit den Buchungsgruppen die auch sonst benutzt werden.
+                                              DafÅr gibt es in der Fibu Einrichtung den Haken "Vorauszahlung unrealisierte MwSt.". Dieser
+                                              beisst sich aber mit der Einrichtung "unrealisierte MwSt.", beides zusammen ist nicht
+                                              vorgesehen. Will man jetzt aber normale unrealisierte MwSt. und Vorauszahlungen verwenden,
+                                              braucht man ein Unterscheidungsmerkmal, welche der MwSt. Einrichtungen normale MwSt. sind,
+                                              muss man diese zusÑtzlich kennzeichnen - wird hier gelîst durch Kennzeichnung "nur
+                                              Vorauszahlung unrealisierte MwSt.". Damit ist die Unterscheidung jederzeit mîglich.
+    }
     END.
   }
 }
diff --git a/table/table_0000000332.txt b/table/table_0000000332.txt
index 6815c79..6a80bc6 100644
--- a/table/table_0000000332.txt
+++ b/table/table_0000000332.txt
@@ -4,7 +4,7 @@ OBJECT Table 332 Currency Total Buffer
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4TC3.01;
   }
   PROPERTIES
   {
@@ -26,7 +26,8 @@ OBJECT Table 332 Currency Total Buffer
   }
   KEYS
   {
-    {    ;Currency Code                           ;Clustered=Yes }
+    {    ;Currency Code                           ;SumIndexFields=Total Amount (LCY);
+                                                   Clustered=Yes }
   }
   FIELDGROUPS
   {
@@ -51,6 +52,29 @@ OBJECT Table 332 Currency Total Buffer
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     23.03.2011    os.jgl  SITC    DataPerCompany=no - temporary table
+                27.03.2011    os.jgl  SITC    additional SumIndexField Total Amount (LCY)
+      PX001     07.08.2017    px.jgl  P4TC    Integrate into NAV2017
+                                              Removed DataPerCompany = No
+    }
     END.
   }
 }
diff --git a/table/table_0000000334.txt b/table/table_0000000334.txt
index 70bf8ca..4569e8b 100644
--- a/table/table_0000000334.txt
+++ b/table/table_0000000334.txt
@@ -4,7 +4,7 @@ OBJECT Table 334 Column Layout
   {
     Date=26.04.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.21836;
+    Version List=NAVW111.00.00.21836,P4TC3.00;
   }
   PROPERTIES
   {
@@ -97,6 +97,12 @@ OBJECT Table 334 Column Layout
     { 21  ;   ;Cost Object Totaling;Text80        ;CaptionML=ENU=Cost Object Totaling }
     { 30  ;   ;Comparison Period Formula LCID;Integer;
                                                    CaptionML=ENU=Comparison Period Formula LCID }
+    { 5274200;;Currency Totaling   ;Text250       ;FieldClass=Normal;
+                                                   TableRelation=Currency;
+                                                   ValidateTableRelation=No;
+                                                   TestTableRelation=No;
+                                                   CaptionML=ENU=Currency Totaling;
+                                                   Description=OS001 os.jgl 25.02.2013 }
   }
   KEYS
   {
@@ -458,6 +464,26 @@ OBJECT Table 334 Column Layout
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     25.02.2013    os.jgl  SITC    DEV-32: Added field "Currency Totaling"
+    }
     END.
   }
 }
diff --git a/table/table_0000000379.txt b/table/table_0000000379.txt
index 37e41a1..7c5bde7 100644
--- a/table/table_0000000379.txt
+++ b/table/table_0000000379.txt
@@ -4,7 +4,7 @@ OBJECT Table 379 Detailed Cust. Ledg. Entry
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4BB2.00;
   }
   PROPERTIES
   {
@@ -107,6 +107,9 @@ OBJECT Table 379 Detailed Cust. Ledg. Entry
                                                    Editable=No }
     { 43  ;   ;Ledger Entry Amount ;Boolean       ;CaptionML=ENU=Ledger Entry Amount;
                                                    Editable=No }
+    { 5274104;;Application Transaction No.;Integer;CaptionML=ENU=Application Transaction No.;
+                                                   Description=PX001;
+                                                   Editable=No }
   }
   KEYS
   {
@@ -130,6 +133,7 @@ OBJECT Table 379 Detailed Cust. Ledg. Entry
     {    ;Application No.,Customer No.,Entry Type  }
     {    ;Customer No.,Entry Type,Posting Date,Initial Document Type;
                                                    SumIndexFields=Amount,Amount (LCY) }
+    {    ;Application Transaction No.,Customer No.,Entry Type }
   }
   FIELDGROUPS
   {
@@ -169,6 +173,9 @@ OBJECT Table 379 Detailed Cust. Ledg. Entry
         REPEAT
           DtldCustLedgEntry."Transaction No." := 0;
           DtldCustLedgEntry."Application No." := ApplicationNo;
+          //PX001s px.jgl
+          DtldCustLedgEntry."Application Transaction No." := ApplicationNo;
+          //PX001e px.jgl
           DtldCustLedgEntry.MODIFY;
         UNTIL DtldCustLedgEntry.NEXT = 0;
       END;
@@ -191,6 +198,28 @@ OBJECT Table 379 Detailed Cust. Ledg. Entry
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              New Field: Application Transaction No.
+                                              New Key: Application Transaction No.,Customer No.,Entry Type
+    }
     END.
   }
 }
diff --git a/table/table_0000000380.txt b/table/table_0000000380.txt
index 4a09449..12104f2 100644
--- a/table/table_0000000380.txt
+++ b/table/table_0000000380.txt
@@ -4,7 +4,7 @@ OBJECT Table 380 Detailed Vendor Ledg. Entry
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4BB2.00;
   }
   PROPERTIES
   {
@@ -107,6 +107,9 @@ OBJECT Table 380 Detailed Vendor Ledg. Entry
                                                    Editable=No }
     { 43  ;   ;Ledger Entry Amount ;Boolean       ;CaptionML=ENU=Ledger Entry Amount;
                                                    Editable=No }
+    { 5274104;;Application Transaction No.;Integer;CaptionML=ENU=Application Transaction No.;
+                                                   Description=PX001;
+                                                   Editable=No }
   }
   KEYS
   {
@@ -128,6 +131,7 @@ OBJECT Table 380 Detailed Vendor Ledg. Entry
     {    ;Applied Vend. Ledger Entry No.,Entry Type }
     {    ;Transaction No.,Vendor No.,Entry Type    }
     {    ;Application No.,Vendor No.,Entry Type    }
+    {    ;Application Transaction No.,Vendor No.,Entry Type }
   }
   FIELDGROUPS
   {
@@ -167,6 +171,9 @@ OBJECT Table 380 Detailed Vendor Ledg. Entry
         REPEAT
           DtldVendLedgEntry."Transaction No." := 0;
           DtldVendLedgEntry."Application No." := ApplicationNo;
+          //PX001s px.jgl
+          DtldVendLedgEntry."Application Transaction No." := ApplicationNo;
+          //PX001e px.jgl
           DtldVendLedgEntry.MODIFY;
         UNTIL DtldVendLedgEntry.NEXT = 0;
       END;
@@ -189,6 +196,28 @@ OBJECT Table 380 Detailed Vendor Ledg. Entry
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              New Field: Application Transaction No.
+                                              New Key: Application Transaction No.,Vendor No.,Entry Type
+    }
     END.
   }
 }
diff --git a/table/table_0000000383.txt b/table/table_0000000383.txt
index 1a8bc8d..c03306b 100644
--- a/table/table_0000000383.txt
+++ b/table/table_0000000383.txt
@@ -4,7 +4,7 @@ OBJECT Table 383 Detailed CV Ledg. Entry Buffer
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4BB2.00,P4TC3.01;
   }
   PROPERTIES
   {
@@ -141,6 +141,17 @@ OBJECT Table 383 Detailed CV Ledg. Entry Buffer
                                                    DataClassification=SystemMetadata;
                                                    CaptionML=ENU=Tax Jurisdiction Code;
                                                    Editable=No }
+    { 5274104;;Application Transaction No.;Integer;CaptionML=ENU=Application Transaction No.;
+                                                   Description=PX001;
+                                                   Editable=No }
+    { 5274204;;VAT Amount          ;Decimal       ;CaptionML=ENU=VAT Amount;
+                                                   Description=OS001 os.jgl 28.12.2010;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274243;;VAT Amount (ACY)    ;Decimal       ;CaptionML=ENU=Additional-Currency VAT Amount;
+                                                   Description=OS005 os.jgl 03.01.2015;
+                                                   Editable=No;
+                                                   AutoFormatType=1 }
   }
   KEYS
   {
@@ -177,9 +188,15 @@ OBJECT Table 383 Detailed CV Ledg. Entry Buffer
       NextDtldBufferEntryNo@1003 : Integer;
     BEGIN
       IF (DtldCVLedgEntryBuf.Amount = 0) AND
+         //PX002s px.jgl
+         (DtldCVLedgEntryBuf."VAT Amount" = 0) AND
+         //PX002e px. jgl
          (DtldCVLedgEntryBuf."Amount (LCY)" = 0) AND
          (DtldCVLedgEntryBuf."VAT Amount (LCY)" = 0) AND
          (DtldCVLedgEntryBuf."Additional-Currency Amount" = 0) AND
+         //PX002s px.jgl
+         (DtldCVLedgEntryBuf."VAT Amount (ACY)" = 0) AND
+         //PX002e px.jgl
          (NOT InsertZeroAmout)
       THEN
         EXIT;
@@ -219,16 +236,28 @@ OBJECT Table 383 Detailed CV Ledg. Entry Buffer
       DtldCVLedgEntryBuf.SETRANGE("Use Tax",NewDtldCVLedgEntryBuf."Use Tax");
       DtldCVLedgEntryBuf.SETRANGE(
         "Tax Jurisdiction Code",NewDtldCVLedgEntryBuf."Tax Jurisdiction Code");
+      //PX001s px.jgl
+      DtldCVLedgEntryBuf.SETRANGE(
+        "Application Transaction No.",NewDtldCVLedgEntryBuf."Application Transaction No.");
+      //PX001e px.jgl
 
       IF DtldCVLedgEntryBuf.FINDFIRST THEN BEGIN
         DtldCVLedgEntryBuf.Amount := DtldCVLedgEntryBuf.Amount + NewDtldCVLedgEntryBuf.Amount;
         DtldCVLedgEntryBuf."Amount (LCY)" :=
           DtldCVLedgEntryBuf."Amount (LCY)" + NewDtldCVLedgEntryBuf."Amount (LCY)";
+        //OS004s os.jgl
+        DtldCVLedgEntryBuf."VAT Amount" :=
+          DtldCVLedgEntryBuf."VAT Amount" + NewDtldCVLedgEntryBuf."VAT Amount";
+        //OS004e os.jgl
         DtldCVLedgEntryBuf."VAT Amount (LCY)" :=
           DtldCVLedgEntryBuf."VAT Amount (LCY)" + NewDtldCVLedgEntryBuf."VAT Amount (LCY)";
         DtldCVLedgEntryBuf."Additional-Currency Amount" :=
           DtldCVLedgEntryBuf."Additional-Currency Amount" +
           NewDtldCVLedgEntryBuf."Additional-Currency Amount";
+        //OS005s os.jgl
+        DtldCVLedgEntryBuf."VAT Amount (ACY)" := DtldCVLedgEntryBuf."VAT Amount (ACY)" +
+          NewDtldCVLedgEntryBuf."VAT Amount (ACY)";
+        //OS005e os.jgl
         DtldCVLedgEntryBuf.MODIFY;
       END ELSE BEGIN
         NewDtldCVLedgEntryBuf."Entry No." := NextDtldBufferEntryNo;
@@ -306,7 +335,7 @@ OBJECT Table 383 Detailed CV Ledg. Entry Buffer
     END;
 
     [External]
-    PROCEDURE InitDtldCVLedgEntryBuf@26(GenJnlLine@1000 : Record 81;VAR CVLedgEntryBuf@1001 : Record 382;VAR DtldCVLedgEntryBuf@1002 : Record 383;EntryType@1009 : Option;AmountFCY@1003 : Decimal;AmountLCY@1004 : Decimal;AmountAddCurr@1005 : Decimal;AppliedEntryNo@1006 : Integer;RemainingPmtDiscPossible@1007 : Decimal;MaxPaymentTolerance@1008 : Decimal);
+    PROCEDURE InitDtldCVLedgEntryBuf@26(GenJnlLine@1000 : Record 81;VAR CVLedgEntryBuf@1001 : Record 382;VAR DtldCVLedgEntryBuf@1002 : Record 383;EntryType@1009 : Option;AmountFCY@1003 : Decimal;AmountLCY@1004 : Decimal;AmountAddCurr@1005 : Decimal;AppliedEntryNo@1006 : Integer;RemainingPmtDiscPossible@1007 : Decimal;MaxPaymentTolerance@1008 : Decimal;ApplicationTransactionNo@1000000000 : Integer);
     BEGIN
       WITH DtldCVLedgEntryBuf DO BEGIN
         InitFromGenJnlLine(GenJnlLine);
@@ -318,6 +347,9 @@ OBJECT Table 383 Detailed CV Ledg. Entry Buffer
         "Applied CV Ledger Entry No." := AppliedEntryNo;
         "Remaining Pmt. Disc. Possible" := RemainingPmtDiscPossible;
         "Max. Payment Tolerance" := MaxPaymentTolerance;
+        //PX001s px.jgl
+        "Application Transaction No." := ApplicationTransactionNo;
+        //PX001e px.jgl
         InsertDtldCVLedgEntry(DtldCVLedgEntryBuf,CVLedgEntryBuf,FALSE);
       END;
     END;
@@ -339,6 +371,35 @@ OBJECT Table 383 Detailed CV Ledg. Entry Buffer
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     28.12.2010    os.jgl  SITC    additional field for VAT Amount in FCY
+      OS002     17.03.2011    os.jgl  SITC    DataPercompany = no, temporary table
+      OS005     03.01.2015    os.jgl  SITC    additional field VAT Amount (ACY)
+      PX001     30.01.2016    px.jgl  P4BB    Fix for support case 115112013400067 - separate VAT belonging to an application transaction
+                                              from VAT belonging to the same transaction, but not to the application.
+                                              New Field: Application Transaction No.
+                                              Transport Application Transaction No. through the call path
+      PX002     22.07.2017    px.jgl  P4TC    InsertDtldCVLedgEntry(): Test all amount fields
+      PX003     07.08.2017    px.jgl  P4TC    Integrate into NAV2017
+                                              Removed DataPerCompany = No
+    }
     END.
   }
 }
diff --git a/table/table_0000000386.txt b/table/table_0000000386.txt
index aa306ed..5f24433 100644
--- a/table/table_0000000386.txt
+++ b/table/table_0000000386.txt
@@ -4,7 +4,7 @@ OBJECT Table 386 Entry No. Amount Buffer
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4BB2.00,P4TC3.01;
   }
   PROPERTIES
   {
@@ -26,10 +26,27 @@ OBJECT Table 386 Entry No. Amount Buffer
                                                    CaptionML=ENU=Start Date }
     { 6   ;   ;End Date            ;Date          ;DataClassification=SystemMetadata;
                                                    CaptionML=ENU=End Date }
+    { 5274200;;Currency Code       ;Code10        ;TableRelation=Currency;
+                                                   CaptionML=ENU=Currency Code;
+                                                   Description=OS001 os.jgl 12.02.2011 }
+    { 5274201;;AmountFCY           ;Decimal       ;CaptionML=ENU=Amount (FCY);
+                                                   Description=OS001 os.jgl 12.02.2011;
+                                                   AutoFormatType=1;
+                                                   AutoFormatExpr="Currency Code" }
+    { 5274202;;Debit/Credit        ;Option        ;CaptionML=ENU=Debit/Credit;
+                                                   OptionCaptionML=ENU=Both,Debit,Credit;
+                                                   OptionString=Both,Debit,Credit;
+                                                   Description=OS001 os.jgl 12.02.2011 }
+    { 5274203;;G/L Account No.     ;Code20        ;TableRelation="G/L Account";
+                                                   CaptionML=ENU=G/L Account No.;
+                                                   Description=OS001 os.jgl 13.02.2011 }
   }
   KEYS
   {
-    {    ;Business Unit Code,Entry No.            ;Clustered=Yes }
+    {    ;Business Unit Code,Currency Code,G/L Account No.,Entry No.,Debit/Credit;
+                                                   Clustered=Yes }
+    {    ;Business Unit Code,Currency Code,Entry No.,Debit/Credit;
+                                                   SumIndexFields=Amount,Amount2,AmountFCY }
   }
   FIELDGROUPS
   {
@@ -38,6 +55,33 @@ OBJECT Table 386 Entry No. Amount Buffer
   {
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     12.02.2011    os.jgl  SITC    additional fields for Foreign Currency, Debit/Credit (to avoid malformed entries)
+                13.02.2011    os.jgl  SITC    additional field G/L Account No., extended primary key
+                                              additional key: Business Unit Code,Currency Code,Entry No.,Debit/Credit
+                                              SumIndexFields: Amount,Amount2,AmountFCY
+                                              DataPerCompany=no (temporary table)
+      PX001     07.08.2017    px.jgl  P4TC    Integrate into NAV2017
+                                              Removed DataPerCompany = No
+    }
     END.
   }
 }
diff --git a/table/table_0000000461.txt b/table/table_0000000461.txt
index eb980bf..d3b4654 100644
--- a/table/table_0000000461.txt
+++ b/table/table_0000000461.txt
@@ -4,7 +4,7 @@ OBJECT Table 461 Prepayment Inv. Line Buffer
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4BB2.01;
   }
   PROPERTIES
   {
@@ -95,11 +95,12 @@ OBJECT Table 461 Prepayment Inv. Line Buffer
     { 1001;   ;Job Task No.        ;Code20        ;TableRelation="Job Task";
                                                    DataClassification=SystemMetadata;
                                                    CaptionML=ENU=Job Task No. }
+    { 5274104;;SingleLineID        ;Integer       ;CaptionML=ENU=Single Line ID;
+                                                   Description=PX002 }
   }
   KEYS
   {
-    {    ;G/L Account No.,Job No.,Tax Area Code,Tax Liable,Tax Group Code,Invoice Rounding,Adjustment,Line No.,Dimension Set ID;
-                                                   SumIndexFields=Amount,Amount Incl. VAT;
+    {    ;SingleLineID,Dimension Set ID           ;SumIndexFields=Amount,Amount Incl. VAT;
                                                    Clustered=Yes }
     {    ;Adjustment                               }
   }
@@ -108,6 +109,8 @@ OBJECT Table 461 Prepayment Inv. Line Buffer
   }
   CODE
   {
+    VAR
+      TempPrepmtInvLineBuffer@119451021 : ARRAY [2] OF TEMPORARY Record 461;
 
     [External]
     PROCEDURE IncrAmounts@1(PrepmtInvLineBuf@1001 : Record 461);
@@ -162,6 +165,9 @@ OBJECT Table 461 Prepayment Inv. Line Buffer
     BEGIN
       Rec := PrepmtInvLineBuf;
       "Line No." := LineNo;
+      //PX003s px.jgl
+      SingleLineID := GetSingleLineID(Rec);
+      //PX003e px.jgl
       INSERT;
     END;
 
@@ -212,6 +218,12 @@ OBJECT Table 461 Prepayment Inv. Line Buffer
       SETRANGE("G/L Account No.",PrepmtInvLineBuf."G/L Account No.");
       SETRANGE("Dimension Set ID",PrepmtInvLineBuf."Dimension Set ID");
       SETRANGE("Job No.",PrepmtInvLineBuf."Job No.");
+      //PX001s px.jgl
+      SETRANGE("Gen. Bus. Posting Group",PrepmtInvLineBuf."Gen. Bus. Posting Group");
+      SETRANGE("Gen. Prod. Posting Group",PrepmtInvLineBuf."Gen. Prod. Posting Group");
+      SETRANGE("VAT Bus. Posting Group",PrepmtInvLineBuf."VAT Bus. Posting Group");
+      SETRANGE("VAT Prod. Posting Group",PrepmtInvLineBuf."VAT Prod. Posting Group");
+      //PX001e px.jgl
       SETRANGE("Tax Area Code",PrepmtInvLineBuf."Tax Area Code");
       SETRANGE("Tax Liable",PrepmtInvLineBuf."Tax Liable");
       SETRANGE("Tax Group Code",PrepmtInvLineBuf."Tax Group Code");
@@ -306,7 +318,83 @@ OBJECT Table 461 Prepayment Inv. Line Buffer
       "VAT Amount (ACY)" := ROUND("Amount (ACY)" * VATPostingSetup."VAT %" / 100,Currency."Amount Rounding Precision");
     END;
 
+    LOCAL PROCEDURE "***** Plexada Functions *****"@119451022();
+    BEGIN
+    END;
+
+    PROCEDURE GetSingleLineID@119451023(P_PrepmtInvLineBuffer@119451021 : TEMPORARY Record 461) : Integer;
+    BEGIN
+      TempPrepmtInvLineBuffer[1].RESET;
+      TempPrepmtInvLineBuffer[1]:=P_PrepmtInvLineBuffer;
+      TempPrepmtInvLineBuffer[1].SETRANGE("G/L Account No.",P_PrepmtInvLineBuffer."G/L Account No.");
+      //PX001s px.jgl
+      TempPrepmtInvLineBuffer[1].SETRANGE("Gen. Bus. Posting Group",P_PrepmtInvLineBuffer."Gen. Bus. Posting Group");
+      TempPrepmtInvLineBuffer[1].SETRANGE("Gen. Prod. Posting Group",P_PrepmtInvLineBuffer."Gen. Prod. Posting Group");
+      TempPrepmtInvLineBuffer[1].SETRANGE("VAT Bus. Posting Group",P_PrepmtInvLineBuffer."VAT Bus. Posting Group");
+      TempPrepmtInvLineBuffer[1].SETRANGE("VAT Prod. Posting Group",P_PrepmtInvLineBuffer."VAT Prod. Posting Group");
+      //PX001e px.jgl
+      TempPrepmtInvLineBuffer[1].SETRANGE("Job No.",P_PrepmtInvLineBuffer."Job No.");
+      TempPrepmtInvLineBuffer[1].SETRANGE("Tax Area Code",P_PrepmtInvLineBuffer."Tax Area Code");
+      TempPrepmtInvLineBuffer[1].SETRANGE("Tax Liable",P_PrepmtInvLineBuffer."Tax Liable");
+      TempPrepmtInvLineBuffer[1].SETRANGE("Tax Group Code",P_PrepmtInvLineBuffer."Tax Group Code");
+      TempPrepmtInvLineBuffer[1].SETRANGE("Invoice Rounding",P_PrepmtInvLineBuffer."Invoice Rounding");
+      TempPrepmtInvLineBuffer[1].SETRANGE(Adjustment,P_PrepmtInvLineBuffer.Adjustment);
+      TempPrepmtInvLineBuffer[1].SETRANGE("Line No.",P_PrepmtInvLineBuffer."Line No.");
+      //Dimension Set ID is part of the primary key, no filter!
+      //TempPrepmtInvLineBuffer[1].setrange("Dimension Set ID",P_PrepmtInvLineBuffer."Dimension Set ID");
+
+      //add here all fields you want to get distinct entries for
+
+      //explicit findfirst because the filters are not on the primary key...
+      IF NOT TempPrepmtInvLineBuffer[1].FINDFIRST THEN BEGIN
+        TempPrepmtInvLineBuffer[2].RESET;
+        IF TempPrepmtInvLineBuffer[2].FINDLAST THEN BEGIN
+          TempPrepmtInvLineBuffer[1].SingleLineID:=TempPrepmtInvLineBuffer[2].SingleLineID+1;
+        END ELSE BEGIN
+          TempPrepmtInvLineBuffer[1].SingleLineID:=1;
+        END;
+        TempPrepmtInvLineBuffer[1].INSERT;
+      END;
+      EXIT(TempPrepmtInvLineBuffer[1].SingleLineID);
+    END;
+
+    PROCEDURE ClearSingleLineID@119451024();
     BEGIN
+      TempPrepmtInvLineBuffer[1].RESET;
+      TempPrepmtInvLineBuffer[1].DELETEALL;
+    END;
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.01             04.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        si.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     16.05.2016    px.jgl  P4BB    Fix for Support case 116051314161850:
+                                              Fehlerbehebung: Buchungsgruppen fÅr zu leistende Vorauszahlungen mÅssen die der Belegzeilen
+                                              sein
+      PX002     15.05.2016    px.jgl  P4BB    SingleLineID-functionality
+                                              new primary key: SingleLineID,Dimension Entry No.
+                                              DataPercompany=No: reduce SQL server footprint for a temporary table
+                                              How GetSingleLineID works:
+                                              Use a temporary Prepyment Inv. Line Buffer to hold all distinct records given to the table.
+                                              To select a distinct record all fields which should be in the primary key must be filtered.
+      PX003     06.08.2017    px.jgl  P4BB    Integrate into NAV2017
+                                              Removed DataPerCompany = No
+    }
     END.
   }
 }
diff --git a/table/table_0000001703.txt b/table/table_0000001703.txt
index 0263d23..01e6c2e 100644
--- a/table/table_0000001703.txt
+++ b/table/table_0000001703.txt
@@ -4,7 +4,7 @@ OBJECT Table 1703 Deferral Post. Buffer
   {
     Date=22.02.18;
     Time=12:00:00;
-    Version List=NAVW111.00.00.20783;
+    Version List=NAVW111.00.00.20783,P4TC3.01;
   }
   PROPERTIES
   {
@@ -93,10 +93,13 @@ OBJECT Table 1703 Deferral Post. Buffer
                                                    CaptionML=ENU=Deferral Code }
     { 1701;   ;Deferral Line No.   ;Integer       ;DataClassification=SystemMetadata;
                                                    CaptionML=ENU=Deferral Line No. }
+    { 5274200;;Currency Code       ;Code10        ;TableRelation=Currency.Code;
+                                                   CaptionML=ENU=Currency Code;
+                                                   Description=PX001 px.jgl 06.10.2017 }
   }
   KEYS
   {
-    {    ;Type,G/L Account,Gen. Bus. Posting Group,Gen. Prod. Posting Group,VAT Bus. Posting Group,VAT Prod. Posting Group,Tax Area Code,Tax Group Code,Tax Liable,Use Tax,Dimension Set ID,Job No.,Deferral Code,Posting Date,Partial Deferral;
+    {    ;Type,G/L Account,Currency Code,Gen. Bus. Posting Group,Gen. Prod. Posting Group,VAT Bus. Posting Group,VAT Prod. Posting Group,Tax Area Code,Tax Group Code,Tax Liable,Use Tax,Dimension Set ID,Job No.,Deferral Code,Posting Date,Partial Deferral;
                                                    Clustered=Yes }
   }
   FIELDGROUPS
@@ -214,6 +217,26 @@ OBJECT Table 1703 Deferral Post. Buffer
     END;
 
     BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.01             06.10.2017
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        px.jgl   Jens Glathe
+        px.jw    Joerg Winner
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      PX001     06.10.2017    os.jgl  P4TC    additional field: Currency Code, also added to primary key (now 16 fields!)
+    }
     END.
   }
 }
diff --git a/table/table_0005274105.txt b/table/table_0005274105.txt
new file mode 100644
index 0000000..df6ab3d
--- /dev/null
+++ b/table/table_0005274105.txt
@@ -0,0 +1,68 @@
+OBJECT Table 5274105 DataUpgrade Setup
+{
+  OBJECT-PROPERTIES
+  {
+    Date=23.05.16;
+    Time=12:00:00;
+    Version List=P4BB2.00;
+  }
+  PROPERTIES
+  {
+    CaptionML=ENU=DataUpgrade Setup;
+  }
+  FIELDS
+  {
+    { 1   ;   ;Primary Key         ;Code10        ;CaptionML=ENU=Primary Key }
+    { 2   ;   ;DataUpgrade Language Code;Code10   ;TableRelation=Language;
+                                                   OnValidate=VAR
+                                                                Language@119451021 : Record 8;
+                                                              BEGIN
+                                                                IF "DataUpgrade Language Code" <> '' THEN BEGIN
+                                                                  Language.GET("DataUpgrade Language Code");
+                                                                  "DataUpgrade Windows Language" := Language."Windows Language ID";
+                                                                END;
+                                                              END;
+
+                                                   CaptionML=ENU=DataUpgrade Language Code }
+    { 3   ;   ;Allow Company-Initialize;Boolean   ;CaptionML=ENU=Allow Company-Initialize }
+    { 4   ;   ;IsDataUpgrade       ;Boolean       ;CaptionML=ENU=IsDataUpgrade }
+    { 5   ;   ;DataUpgrade Windows Language;Integer;
+                                                   CaptionML=ENU=DataUpgrade Windows Language Code }
+  }
+  KEYS
+  {
+    {    ;Primary Key                             ;Clustered=Yes }
+  }
+  FIELDGROUPS
+  {
+  }
+  CODE
+  {
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4BB     Plexada P/4 BuildingBlocks                          2.00             22.05.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     21.05.2016    os.jgl  SIBB    "Helper" Table to work around NAV2016 DataUpgrade limitations.
+                                              1. Define a language (and a windows language ID) for the DataUpgrade
+                                              2. Define if CU2 "Company-Initialize" is allowed to run during DataUpgrade
+                                                 (should not be allowed when a developer license is active)
+    }
+    END.
+  }
+}
+
diff --git a/table/table_0005274200.txt b/table/table_0005274200.txt
new file mode 100644
index 0000000..e628373
--- /dev/null
+++ b/table/table_0005274200.txt
@@ -0,0 +1,72 @@
+OBJECT Table 5274200 CV Posting Buffer
+{
+  OBJECT-PROPERTIES
+  {
+    Date=23.05.16;
+    Time=12:00:00;
+    Version List=P4TC3.00;
+  }
+  PROPERTIES
+  {
+    DataPerCompany=No;
+    CaptionML=ENU=CV Posting Buffer;
+  }
+  FIELDS
+  {
+    { 1   ;   ;Currency Code       ;Code10        ;TableRelation=Currency;
+                                                   CaptionML=ENU=Currency Code }
+    { 2   ;   ;Posting Date        ;Date          ;CaptionML=ENU=Posting Date;
+                                                   ClosingDates=Yes }
+    { 5   ;   ;InitialEntry        ;Boolean        }
+    { 101 ;   ;TotalAmountFCY      ;Decimal        }
+    { 102 ;   ;DebitAddjustmentFCY ;Decimal        }
+    { 103 ;   ;CreditAddjustmentFCY;Decimal        }
+    { 201 ;   ;TotalAmountLCY      ;Decimal        }
+    { 202 ;   ;DebitAddjustmentLCY ;Decimal        }
+    { 203 ;   ;CreditAddjustmentLCY;Decimal        }
+    { 301 ;   ;TotalAmountACY      ;Decimal        }
+    { 302 ;   ;DebitAddjustmentACY ;Decimal        }
+    { 303 ;   ;CreditAddjustmentACY;Decimal        }
+    { 480 ;   ;Dimension Set ID    ;Integer       ;TableRelation="Dimension Set Entry";
+                                                   CaptionML=ENU=Dimension Set ID;
+                                                   Editable=No }
+  }
+  KEYS
+  {
+    {    ;Currency Code,Dimension Set ID,Posting Date;
+                                                   Clustered=Yes }
+  }
+  FIELDGROUPS
+  {
+  }
+  CODE
+  {
+
+    BEGIN
+    {
+      ****** Plexada AG ******************************************************************************************************************
+
+      Modules:
+
+        Code     Module Name                                         Version          Release Date
+      --------------------------------------------------------------------------------------------
+        P4TC     Plexada P/4 TransactionCurrency                     3.00             30.04.2016
+
+      Developers:
+
+        ID       Developer Name
+      -------------------------------------
+        os.jgl   Jens Glathe
+
+      Case-ID   Date          Dev.    Module  Description
+      ------------------------------------------------------------------------------------------------------------------------------------
+      OS001     22.09.2011    os.jgl  SITC    new buffer table for application postings in currency. Will be used in CU 12
+      OS002     08.12.2013    os.jgl  SITC    expand the use of this table to that of the invoice posting buffer in NAV2013 RU4
+                                              as it is, we need to post by currency code, dimension id, posting date
+      OS003     27.12.2014    os.jgl  SITC    Delete unused fields - all AppAmt fields are not used in NAV2013
+      OS004     27.12.2014    os.jgl  SITC    DEV-49: Additional Field "InitialEntry" to determine the entry that must be matched to the G/L entry
+    }
+    END.
+  }
+}
+
